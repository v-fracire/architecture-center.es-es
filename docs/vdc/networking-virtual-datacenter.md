---
title: 'Centro de datos virtual de Azure: una perspectiva de red'
description: Aprenda a crear su centro de datos virtual en Azure
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.date: 04/3/2018
ms.author: jonor
ms.openlocfilehash: 8df02bbb6d926f0ab5402fab4eb2b25fdc2057cd
ms.sourcegitcommit: 8ec48a0e2c080c9e2e0abbfdbc463622b28de2f2
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2018
ms.locfileid: "40211618"
---
# <a name="azure-virtual-datacenter-a-network-perspective"></a><span data-ttu-id="ae47c-103">Centro de datos virtual de Azure: una perspectiva de red</span><span class="sxs-lookup"><span data-stu-id="ae47c-103">Azure Virtual Datacenter: A network perspective</span></span>

## <a name="overview"></a><span data-ttu-id="ae47c-104">Información general</span><span class="sxs-lookup"><span data-stu-id="ae47c-104">Overview</span></span>
<span data-ttu-id="ae47c-105">La migración de aplicaciones locales a Azure, incluso sin realizar cambios importantes (un enfoque conocido como "levantar y mover"), proporciona a las organizaciones las ventajas de una infraestructura segura y rentable.</span><span class="sxs-lookup"><span data-stu-id="ae47c-105">Migrating on-premises applications to Azure, even without any significant changes (an approach known as “lift and shift”), provides organizations the benefits of a secured and cost-efficient infrastructure.</span></span> <span data-ttu-id="ae47c-106">Sin embargo, para aprovechar al máximo posible la agilidad de la informática en la nube, las empresas deben evolucionar sus arquitecturas para aprovechar las ventajas de las funcionalidades de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-106">However, to make the most of the agility possible with cloud computing, enterprises should evolve their architectures to take advantage of Azure capabilities.</span></span> <span data-ttu-id="ae47c-107">Microsoft Azure ofrece servicios e infraestructura a gran escala, funcionalidades de calidad empresarial, confiabilidad y numerosas opciones de conectividad híbrida.</span><span class="sxs-lookup"><span data-stu-id="ae47c-107">Microsoft Azure delivers hyper-scale services and infrastructure, enterprise-grade capabilities and reliability, and many choices for hybrid connectivity.</span></span> <span data-ttu-id="ae47c-108">Los clientes pueden elegir tener acceso a estos servicios en la nube a través de Internet o con Azure ExpressRoute, que proporciona conectividad de red privada.</span><span class="sxs-lookup"><span data-stu-id="ae47c-108">Customers can choose to access these cloud services either via the Internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="ae47c-109">La plataforma Microsoft Azure permite a los clientes ampliar su infraestructura en la nube sin problemas y crear arquitecturas de varios niveles.</span><span class="sxs-lookup"><span data-stu-id="ae47c-109">The Microsoft Azure platform allows customers to seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="ae47c-110">Además, los asociados de Microsoft proporcionan funcionalidades mejoradas al ofrecer servicios de seguridad y aplicaciones virtuales optimizados para su ejecución en Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-110">Additionally, Microsoft partners provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="ae47c-111">Este artículo proporciona información general sobre patrones y diseños que pueden utilizarse para resolver los conceptos de arquitectura de escala, rendimiento y seguridad que muchos clientes abordan al pensar en moverse masivamente a la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-111">This article provides an overview of patterns and designs that can be used to solve the architectural scale, performance, and security concerns many customers face when thinking about moving en masse to the cloud.</span></span> <span data-ttu-id="ae47c-112">También se trata información general sobre el ajuste de distintos roles de TI de la organización en la administración y regulación del sistema, con especial hincapié en los requisitos de seguridad y optimización de costos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-112">An overview of how to fit different organizational IT roles into the management and governance of the system is also discussed, with emphasis to security requirements and cost optimization.</span></span>

## <a name="what-is-a-virtual-data-center"></a><span data-ttu-id="ae47c-113">¿Qué es un centro de datos virtual?</span><span class="sxs-lookup"><span data-stu-id="ae47c-113">What is a Virtual Data Center?</span></span>
<span data-ttu-id="ae47c-114">En sus primeros días, las soluciones en la nube se diseñaron para hospedar aplicaciones únicas y relativamente aisladas en el espectro público.</span><span class="sxs-lookup"><span data-stu-id="ae47c-114">In the early days, cloud solutions were designed to host single, relatively isolated, applications, in the public spectrum.</span></span> <span data-ttu-id="ae47c-115">Este método funcionó bien unos años.</span><span class="sxs-lookup"><span data-stu-id="ae47c-115">This approach worked well for a few years.</span></span> <span data-ttu-id="ae47c-116">Sin embargo, como las ventajas de las soluciones en la nube se hicieron evidentes y se han hospedado en la nube múltiples cargas de trabajo a gran escala, la gestión de la seguridad, confiabilidad, rendimiento y costo pasan a ser esenciales durante todo el ciclo de vida del servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-116">However, as the benefits of cloud solutions became apparent and multiple large-scale workloads were hosted on the cloud, addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="ae47c-117">El siguiente diagrama de implementación en la nube muestra algunos ejemplos de brechas de seguridad (cuadro rojo) y el espacio para la optimización de los aplicaciones virtuales de red en las cargas de trabajo (cuadro amarillo).</span><span class="sxs-lookup"><span data-stu-id="ae47c-117">The following cloud deployment diagram illustrates some examples of security gaps (red box) and room for optimization network virtual appliances across workloads (yellow box).</span></span>

<span data-ttu-id="ae47c-118">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="ae47c-118">[![0]][0]</span></span>

<span data-ttu-id="ae47c-119">El centro de datos virtual (VDC) surgió de esta necesidad de escalado para admitir cargas de trabajo empresariales y de la necesidad de tratar los problemas surgidos al implementar aplicaciones a gran escala en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="ae47c-119">The Virtual Data Center (VDC) was born from this necessity for scaling to support enterprise workloads, and the need to deal with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="ae47c-120">Un centro de datos virtual no es solo las cargas de trabajo de aplicaciones en la nube, sino también la red, la seguridad, la administración y la infraestructura (por ejemplo, los servicios de directorio y DNS).</span><span class="sxs-lookup"><span data-stu-id="ae47c-120">A VDC is not just the application workloads in the cloud, but also the network, security, management, and infrastructure (for example, DNS and Directory Services).</span></span> <span data-ttu-id="ae47c-121">Habitualmente también proporciona una conexión privada con una red o centro de datos local.</span><span class="sxs-lookup"><span data-stu-id="ae47c-121">It usually also provides a private connection back to an on-premises network or data center.</span></span> <span data-ttu-id="ae47c-122">Dado que cada vez se mueven más cargas de trabajo a Azure, es importante pensar en la infraestructura de soporte y los objetos en los que se colocan estas cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-122">As more and more workloads move to Azure, it is important to think about the supporting infrastructure and objects that these workloads are placed in.</span></span> <span data-ttu-id="ae47c-123">Pensar detenidamente sobre cómo se estructuran los recursos puede evitar la proliferación de cientos de "islas de cargas de trabajo" que deben administrarse por separado con flujo de datos y modelos de seguridad independientes y desafíos de cumplimiento de normas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-123">Thinking carefully about how resources are structured can avoid the proliferation of hundreds of "workload islands" that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="ae47c-124">Un centro de datos virtual es esencialmente una colección de entidades independientes, aunque relacionadas, con funciones, características e infraestructura de soporte en común.</span><span class="sxs-lookup"><span data-stu-id="ae47c-124">A Virtual Data Center is essentially a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="ae47c-125">Si mira las cargas de trabajo como un centro de datos virtual integrado, se dará cuenta de la reducción de costos que aportan las economías de escala y la optimización de la seguridad gracias a la centralización de los componentes y flujos de datos, además de más facilidad en las operaciones, la administración y el cumplimiento de auditorías.</span><span class="sxs-lookup"><span data-stu-id="ae47c-125">By viewing your workloads as an integrated VDC, you can realize reduced cost due to economies of scale, optimized security through component and data flow centralization, along with easier operations, management, and compliance audits.</span></span>

> [!NOTE]
> <span data-ttu-id="ae47c-126">Es importante comprender que el centro de datos virtual **no** es un producto independiente de Azure, sino la combinación de varias características y funcionalidades para satisfacer sus necesidades exactas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-126">It's important to understand that the VDC is **NOT** a discrete Azure product, but the combination of various features and capabilities to  meet your exact requirements.</span></span> <span data-ttu-id="ae47c-127">Un centro de datos virtual es una manera de pensar en sus cargas de trabajo y el uso de Azure para maximizar los recursos y funcionalidades en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-127">VDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="ae47c-128">El centro de datos virtual, por tanto, es un enfoque modular sobre cómo crear los servicios de TI en Azure, respetando las responsabilidades y roles de la organización.</span><span class="sxs-lookup"><span data-stu-id="ae47c-128">The virtual DC is therefore a modular approach on how to build up IT services in the Azure, respecting organizational roles and responsibilities.</span></span>

<span data-ttu-id="ae47c-129">El centro de datos virtual puede ayudar a que las empresas lleven cargas de trabajo y aplicaciones a Azure en los siguientes escenarios:</span><span class="sxs-lookup"><span data-stu-id="ae47c-129">The VDC can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="ae47c-130">Hospedaje de varias cargas de trabajo relacionadas</span><span class="sxs-lookup"><span data-stu-id="ae47c-130">Hosting multiple related workloads</span></span>
-   <span data-ttu-id="ae47c-131">Migración de cargas de trabajo desde un entorno local a Azure</span><span class="sxs-lookup"><span data-stu-id="ae47c-131">Migrating workloads from an on-premises environment to Azure</span></span>
-   <span data-ttu-id="ae47c-132">Implementación de requisitos de seguridad y acceso compartido o centralizado para las cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="ae47c-132">Implementing shared or centralized security and access requirements across workloads</span></span>
-   <span data-ttu-id="ae47c-133">Combinación de DevOps e IT centralizada adecuada para una gran empresa</span><span class="sxs-lookup"><span data-stu-id="ae47c-133">Mixing DevOps and Centralized IT appropriately for a large enterprise</span></span>

<span data-ttu-id="ae47c-134">La clave para poder disfrutar de todas las ventajas del centro de datos virtual es una topología centralizada (concentrador y radios) con una combinación de características de Azure: [red virtual de Azure][VNet], [grupos de seguridad de red][NSG], [emparejamiento de redes virtuales][VNetPeering], [rutas definidas por el usuario (UDR)][UDR] e identidad de Azure con [control de acceso basado en roles (RBAC)][RBAC].</span><span class="sxs-lookup"><span data-stu-id="ae47c-134">The key to unlock the advantages of VDC, is a centralized topology (hub and spokes) with a mix of Azure features: [Azure VNet][VNet], [NSGs][NSG], [VNet Peering][VNetPeering], [User-Defined Routes (UDR)][UDR], and Azure Identity with [Role Base Access Control (RBAC)][RBAC].</span></span>

## <a name="who-needs-a-virtual-data-center"></a><span data-ttu-id="ae47c-135">¿Quién necesita un centro de datos virtual?</span><span class="sxs-lookup"><span data-stu-id="ae47c-135">Who Needs a Virtual Data Center?</span></span>
<span data-ttu-id="ae47c-136">Cualquier cliente de Azure que necesite mover más de un par de cargas de trabajo a Azure puede obtener ventajas al contemplar el uso de recursos comunes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-136">Any Azure customer that needs to move more than a couple of workloads into Azure can benefit from thinking about using common resources.</span></span> <span data-ttu-id="ae47c-137">Dependiendo de la magnitud, incluso las aplicaciones únicas pueden beneficiarse del uso de los patrones y componentes que se utilizan para crear un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-137">Depending on the magnitude, even single applications can benefit from using the patterns and components used to build a VDC.</span></span>

<span data-ttu-id="ae47c-138">Si su organización tiene TI, red y seguridad centralizadas o si tiene un equipo o departamento de cumplimiento, un centro de datos virtual puede ayudar a aplicar los puntos de las directivas, la segregación del servicio y asegurar la uniformidad de los componentes comunes subyacentes al tiempo que da a los equipos de aplicación la libertad y control apropiados para sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-138">If your organization has a centralized IT, Network, Security, and/or Compliance team/department, a VDC can help enforce policy points, segregation of duty, and ensure uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="ae47c-139">Las organizaciones que se plantean DevOps pueden usar los conceptos del centro de datos virtual para proporcionar paquetes autorizados de recursos de Azure y garantizar el control total dentro de ese grupo (sea suscripción o grupo de recursos en una suscripción común), manteniendo el cumplimiento de los límites de red y seguridad definidos por una directiva centralizada en un concentrador de red virtual y grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-139">Organizations that are looking to DevOps can utilize the VDC concepts to provide authorized pockets of Azure resources and ensure they have total control within that group (either subscription or resource group in a common subscription), but the network and security boundaries stay compliant as defined by a centralized policy in a hub VNet and Resource Group.</span></span>

## <a name="considerations-on-implementing-a-virtual-data-center"></a><span data-ttu-id="ae47c-140">Consideraciones sobre la implementación de un centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="ae47c-140">Considerations on Implementing a Virtual Data Center</span></span>
<span data-ttu-id="ae47c-141">Hay varios asuntos esenciales a tener en cuenta al diseñar un centro de datos virtual:</span><span class="sxs-lookup"><span data-stu-id="ae47c-141">When designing a VDC, there are several pivotal issues to consider:</span></span>

-   <span data-ttu-id="ae47c-142">Servicios de identidad y directorio</span><span class="sxs-lookup"><span data-stu-id="ae47c-142">Identity and Directory Services</span></span>
-   <span data-ttu-id="ae47c-143">Infraestructura de seguridad</span><span class="sxs-lookup"><span data-stu-id="ae47c-143">Security infrastructure</span></span>
-   <span data-ttu-id="ae47c-144">Conectividad a la nube</span><span class="sxs-lookup"><span data-stu-id="ae47c-144">Connectivity to the cloud</span></span>
-   <span data-ttu-id="ae47c-145">Conectividad dentro de la nube</span><span class="sxs-lookup"><span data-stu-id="ae47c-145">Connectivity within the cloud</span></span>

### <a name="identity-and-directory-service"></a><span data-ttu-id="ae47c-146">Servicios de identidad y directorio</span><span class="sxs-lookup"><span data-stu-id="ae47c-146">Identity and Directory Service</span></span>
<span data-ttu-id="ae47c-147">Los servicios de identidad y directorio son un aspecto clave de todos los centros de datos, tanto en local como en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-147">Identity and Directory services are a key aspect of all data centers, both on-premises and in the cloud.</span></span> <span data-ttu-id="ae47c-148">La identidad está relacionada con todos los aspectos de acceso y autorización a los servicios dentro del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-148">Identity is related to all aspects of access and authorization to services within the VDC.</span></span> <span data-ttu-id="ae47c-149">Para ayudar a garantizar que solo los usuarios y procesos autorizados tienen acceso a la cuenta de Azure y los recursos, Azure usa varios tipos de credenciales para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="ae47c-149">To help ensure that only authorized users and processes access your Azure Account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="ae47c-150">Estos incluyen contraseñas (para obtener acceso a la cuenta de Azure), claves de cifrado, firmas digitales y certificados.</span><span class="sxs-lookup"><span data-stu-id="ae47c-150">These include passwords (to access the Azure account), cryptographic keys, digital signatures, and certificates.</span></span> <span data-ttu-id="ae47c-151">[*Azure Multi-Factor Authentication* (MFA)][MFA] es una capa adicional de seguridad para el acceso a los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-151">[*Azure Multi-Factor Authentication* (MFA)][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="ae47c-152">Azure MFA proporciona una autenticación segura gracias a una gran variedad de opciones sencillas de verificación, como llamadas telefónicas, mensajes de texto o notificaciones de aplicaciones móviles y permite a los clientes elegir el mecanismo que prefieran.</span><span class="sxs-lookup"><span data-stu-id="ae47c-152">Azure MFA provides strong authentication with a range of easy verification options—phone call, text message, or mobile app notification—and allow customers to choose the method they prefer.</span></span>

<span data-ttu-id="ae47c-153">Cualquier empresa de gran tamaño precisa definir un proceso de administración de identidad que describa la administración de identidades individuales, su autenticación, autorización, roles y privilegios dentro del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-153">Any large enterprise needs to define an identity management process that describes the management of individual identities, their authentication, authorization, roles, and privileges within or across the VDC.</span></span> <span data-ttu-id="ae47c-154">Los objetivos de este proceso deben ser mejorar la seguridad y productividad al reducir el costo, el tiempo de inactividad y las tareas manuales repetitivas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-154">The goals of this process should be to increase security and productivity while decreasing cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="ae47c-155">La empresas y organizaciones pueden requerir una combinación exigente de servicios para diferentes líneas de negocio (LOB) y los empleados a menudo tienen distintos roles cuando están implicados en proyectos diferentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-155">Enterprise/organizations can require a demanding mix of services for different Line-of-Businesses (LOBs), and employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="ae47c-156">Un centro de datos virtual requiere buena cooperación entre distintos equipos, cada uno con definiciones de rol específicas, para tener una buena gestión de los sistemas en ejecución.</span><span class="sxs-lookup"><span data-stu-id="ae47c-156">A VDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="ae47c-157">La matriz de responsabilidades, acceso y derechos puede ser muy compleja.</span><span class="sxs-lookup"><span data-stu-id="ae47c-157">The matrix of responsibilities, access, and rights can be extremely complex.</span></span> <span data-ttu-id="ae47c-158">La administración de identidad en el centro de datos virtual se implementa a través de [*Azure Active Directory* (AAD)][AAD] y el control de acceso basado en roles (RBAC).</span><span class="sxs-lookup"><span data-stu-id="ae47c-158">Identity management in VDC is implemented through [*Azure Active Directory* (AAD)][AAD] and Role-Based Access Control (RBAC).</span></span>

<span data-ttu-id="ae47c-159">Un servicio de directorio es una infraestructura de información compartida para buscar, gestionar, administrar y organizar los elementos cotidianos y los recursos de red.</span><span class="sxs-lookup"><span data-stu-id="ae47c-159">A Directory Service is a shared information infrastructure for locating, managing, administering, and organizing everyday items and network resources.</span></span> <span data-ttu-id="ae47c-160">Estos recursos pueden incluir volúmenes, carpetas, archivos, impresoras, usuarios, grupos, dispositivos y otros objetos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-160">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="ae47c-161">El servidor de directorio considera cada recurso de la red como un objeto.</span><span class="sxs-lookup"><span data-stu-id="ae47c-161">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="ae47c-162">La información sobre un recurso se almacena como una colección de atributos asociada a ese recurso u objeto.</span><span class="sxs-lookup"><span data-stu-id="ae47c-162">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="ae47c-163">Todos los servicios de negocio en línea de Microsoft dependen de Azure Active Directory (AAD) para el inicio de sesión y otras necesidades de identidad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-163">All Microsoft online business services rely on Azure Active Directory (AAD) for sign-in and other identity needs.</span></span> <span data-ttu-id="ae47c-164">Azure Active Directory es solución en la nube de administración de acceso e identidades completa y de alta disponibilidad que combina una administración de acceso a aplicaciones, gobernancia de identidades avanzada y servicios de directorio fundamentales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-164">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="ae47c-165">AAD se puede integrar con Active Directory local para habilitar el inicio de sesión único para todas las aplicaciones basadas en la nube y hospedadas localmente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-165">AAD can be integrated with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted (on-premises) applications.</span></span> <span data-ttu-id="ae47c-166">Los atributos de usuario de Active Directory local se pueden sincronizar automáticamente con AAD.</span><span class="sxs-lookup"><span data-stu-id="ae47c-166">The user attributes of on-premises Active Directory can be automatically synchronized to AAD.</span></span>

<span data-ttu-id="ae47c-167">No es necesario un administrador global único para asignar todos los permisos en un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-167">A single global administrator is not required to assign all permissions in a VDC.</span></span> <span data-ttu-id="ae47c-168">En su lugar, cada departamento específico (o grupo de usuarios o servicios en el servicio de directorio) puede tener los permisos necesarios para administrar sus propios recursos dentro del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-168">Instead each specific department (or group of users or services in the Directory Service) can have the permissions required to manage their own resources within a VDC.</span></span> <span data-ttu-id="ae47c-169">La estructura de permisos requiere un equilibrio.</span><span class="sxs-lookup"><span data-stu-id="ae47c-169">Structuring permissions requires balancing.</span></span> <span data-ttu-id="ae47c-170">Demasiados permisos pueden disminuir el rendimiento y muy pocos permisos o permisos flexibles pueden aumentar los riesgos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-170">Too many permissions can impede performance efficiency, and too few or loose permissions can increase security risks.</span></span> <span data-ttu-id="ae47c-171">Gracias al control de acceso basado en roles (RBAC) de Azure, podrá abordar este problema, ya que es posible realizar una administración avanzada del acceso a los recursos del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-171">Azure Role-Based Access Control (RBAC) helps to address this problem, by offering fine-grained access management for VDC resources.</span></span>

#### <a name="security-infrastructure"></a><span data-ttu-id="ae47c-172">Infraestructura de seguridad</span><span class="sxs-lookup"><span data-stu-id="ae47c-172">Security infrastructure</span></span>
<span data-ttu-id="ae47c-173">La infraestructura de seguridad, en el contexto de un centro de datos virtual, está relacionada fundamentalmente con la segregación del tráfico en el segmento de red virtual específico del centro de datos virtual y con el control de los flujos de entrada y salida en el centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-173">Security infrastructure, in the context of a VDC, is mainly related to the segregation of traffic in the VDC's specific virtual network segment, and how to control ingress and egress flows throughout the VDC.</span></span> <span data-ttu-id="ae47c-174">Azure se basa en una arquitectura multiinquilino que impide que el tráfico no autorizado y no intencionado entre implementaciones, con aislamiento de red virtual (VNet), listas de control de acceso (ACL), equilibradores de carga y filtros de direcciones IP, junto con directivas de flujo de tráfico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-174">Azure is based on multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments, using Virtual Network (VNet) isolation, access control lists (ACLs), load balancers, and IP filters, along with traffic flow policies.</span></span> <span data-ttu-id="ae47c-175">La traducción de direcciones de red (NAT) se usa para separar el tráfico de red interno del tráfico externo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-175">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="ae47c-176">El tejido de Azure asigna recursos de infraestructura para las cargas de trabajo del inquilino y administra las comunicaciones a y desde las máquinas virtuales (VM).</span><span class="sxs-lookup"><span data-stu-id="ae47c-176">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="ae47c-177">El hipervisor de Azure fuerza la separación de la memoria y el proceso entre las máquinas virtuales y enruta de forma segura el tráfico de red a los SO invitado de cada inquilino.</span><span class="sxs-lookup"><span data-stu-id="ae47c-177">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

#### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="ae47c-178">Conectividad a la nube</span><span class="sxs-lookup"><span data-stu-id="ae47c-178">Connectivity to the cloud</span></span>
<span data-ttu-id="ae47c-179">El centro de datos virtual necesita conectividad con redes externas para ofrecer servicios a los clientes, asociados o usuarios internos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-179">The VDC needs connectivity with external networks to offer services to customers, partners and/or internal users.</span></span> <span data-ttu-id="ae47c-180">Esto suele significar conectividad no solo con Internet, sino también con redes y centros de datos locales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-180">This usually means connectivity not only to the Internet, but also to on-premises networks and data centers.</span></span>

<span data-ttu-id="ae47c-181">Los clientes pueden crear directivas de seguridad para controlar qué servicios hospedados en el centro de datos virtual son accesibles desde Internet y de qué modo lo son mediante el uso de aplicaciones virtuales de red (con filtrado e inspección de tráfico) y de directivas de enrutamiento personalizadas y filtrado de red (enrutamiento definido por el usuario y grupos de seguridad de red).</span><span class="sxs-lookup"><span data-stu-id="ae47c-181">Customers can build their security policies to control what and how specific VDC hosted services are accessible to/from the Internet using Network Virtual Appliances (with filtering and traffic inspection), and custom routing policies and network filtering (User Defined Routing and Network Security Groups).</span></span>

<span data-ttu-id="ae47c-182">Las empresas a menudo necesitan conectar los centros de datos virtuales con centros de datos locales u otros recursos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-182">Enterprises often need to connect VDCs to on-premises data centers or other resources.</span></span> <span data-ttu-id="ae47c-183">La conectividad entre Azure y las redes locales, por tanto, es un aspecto fundamental al diseñar una arquitectura efectiva.</span><span class="sxs-lookup"><span data-stu-id="ae47c-183">The connectivity between Azure and on-premises networks is therefore a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="ae47c-184">Las empresas tienen dos maneras diferentes de crear una interconexión entre el centro de datos virtual y el local en Azure: tránsito a través de Internet o a través de conexiones directas privadas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-184">Enterprises have two different ways to create an interconnection between VDC and on-premises in Azure: transit over the Internet and/or by private direct connections.</span></span>

<span data-ttu-id="ae47c-185">Una [**red privada virtual sitio a sitio de Azure**][VPN] es un servicio de interconexión a través de Internet entre redes locales y el centro de datos virtual establecido a través de conexiones cifradas seguras (túneles IPsec y IKE).</span><span class="sxs-lookup"><span data-stu-id="ae47c-185">An [**Azure Site-to-Site VPN**][VPN] is an interconnection service over the Internet between on-premises networks and the VDC, established through secure encrypted connections (IPsec/IKE tunnels).</span></span> <span data-ttu-id="ae47c-186">La conexión sitio a sitio de Azure es flexible, rápida de crear y no requiere ninguna adquisición adicional, ya que todas las conexiones se realizan a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="ae47c-186">Azure Site-to-Site connection is flexible, quick to create, and does not require any further procurement, as all connections connect over the internet.</span></span>

<span data-ttu-id="ae47c-187">[**ExpressRoute**][ExR] es un servicio de conectividad de Azure que le permite crear conexiones privadas entre el centro de datos virtual y las redes locales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-187">[**ExpressRoute**][ExR] is an Azure connectivity service that lets you create private connections between VDC and the on-premises networks.</span></span> <span data-ttu-id="ae47c-188">Las conexiones ExpressRoute no se realizan sobre una conexión a Internet pública, ofrecen una mayor confiabilidad, seguridad y velocidades mayores (hasta 10 Gbps) con una latencia menor.</span><span class="sxs-lookup"><span data-stu-id="ae47c-188">ExpressRoute connections do not go over the public Internet, and offer higher security, reliability, and higher speeds (up to 10 Gbps) along with consistent latency.</span></span> <span data-ttu-id="ae47c-189">ExpressRoute es muy útil para los centros de datos virtuales, ya que los clientes de ExpressRoute pueden tener las ventajas de las reglas de cumplimiento de normas asociadas con las conexiones privadas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-189">ExpressRoute is very useful for VDCs, as ExpressRoute customers can get the benefits of compliance rules associated with private connections.</span></span>

<span data-ttu-id="ae47c-190">La implementación de conexiones ExpressRoute implica tomar contacto con un proveedor de servicios de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="ae47c-190">Deploying ExpressRoute connections involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="ae47c-191">Para clientes que necesitan comenzar rápidamente, es habitual usar inicialmente una red privada virtual de sitio a sitio para establecer la conectividad entre el centro de datos virtual y los recursos locales y, posteriormente, migrar a una conexión ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="ae47c-191">For customers that need to start quickly, it is common to initially use Site-to-Site VPN to establish connectivity between the VDC and on-premises resources, and then migrate to ExpressRoute connection.</span></span>

#### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="ae47c-192">*Conectividad dentro de la nube*</span><span class="sxs-lookup"><span data-stu-id="ae47c-192">*Connectivity within the cloud*</span></span>
<span data-ttu-id="ae47c-193">Las [redes virtuales][VNet] y el [emparejamiento de redes virtuales][VNetPeering] son los servicios de conectividad de red básica dentro de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-193">[VNets][VNet] and [VNet Peering][VNetPeering] are the basic networking connectivity services inside a VDC.</span></span> <span data-ttu-id="ae47c-194">Una red virtual garantiza un límite de aislamiento natural para los recursos del centro de datos virtual y el emparejamiento de redes virtuales permite la intercomunicación entre distintas redes virtuales dentro de la misma región de Azure o incluso de distintas regiones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-194">A VNet guarantees a natural boundary of isolation for VDC resources, and VNet peering allows intercommunication between different VNets within the same Azure region or even across regions.</span></span> <span data-ttu-id="ae47c-195">El control de tráfico dentro de una red virtual y entre redes virtuales debe cumplir con un conjunto de reglas de seguridad especificado a través de listas de control de acceso ([Grupo de seguridad de red][NSG]), [aplicaciones virtuales de red][NVA] y tablas de enrutamiento personalizadas ([UDR][UDR]).</span><span class="sxs-lookup"><span data-stu-id="ae47c-195">Traffic control inside a VNet and between VNets need to match a set of security rules specified through Access Control Lists ([Network Security Group][NSG]), [Network Virtual Appliances][NVA], and custom routing tables ([UDR][UDR]).</span></span>

## <a name="virtual-data-center-overview"></a><span data-ttu-id="ae47c-196">Información general del centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="ae47c-196">Virtual Data Center overview</span></span>

### <a name="topology"></a><span data-ttu-id="ae47c-197">Topología</span><span class="sxs-lookup"><span data-stu-id="ae47c-197">Topology</span></span>
<span data-ttu-id="ae47c-198">_Concentrador y radios_ es un modelo que extiende el centro de datos virtual por una única región de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-198">_Hub and spokes_ is a model for extending a Virtual Data Center within a single Azure region.</span></span>

<span data-ttu-id="ae47c-199">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="ae47c-199">[![1]][1]</span></span>

<span data-ttu-id="ae47c-200">El concentrador es la zona central que controla e inspecciona el tráfico de entrada y salida entre las diferentes zonas: Internet, local y los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-200">The hub is the central zone that controls and inspects ingress and/or egress traffic between different zones: Internet, on-premises, and the spokes.</span></span> <span data-ttu-id="ae47c-201">La topología de concentrador y radio ofrece al departamento de TI una manera eficaz de aplicar directivas de seguridad en una ubicación central, al tiempo que reduce la posibilidad de una configuración incorrecta y la exposición.</span><span class="sxs-lookup"><span data-stu-id="ae47c-201">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location, while reducing the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="ae47c-202">El concentrador contiene los componentes de los servicios comunes utilizados por los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-202">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="ae47c-203">Estos son algunos ejemplos típicos de servicios centrales comunes:</span><span class="sxs-lookup"><span data-stu-id="ae47c-203">Here are a few typical examples of common central services:</span></span>

-   <span data-ttu-id="ae47c-204">La infraestructura de Active Directory de Windows (con el servicio ADFS relacionado) necesaria para la autenticación de usuarios de terceros que acceden desde redes que no son de confianza antes de obtener acceso a las cargas de trabajo del radio</span><span class="sxs-lookup"><span data-stu-id="ae47c-204">The Windows Active Directory infrastructure (with the related ADFS service) required for user authentication of third parties accessing from untrusted networks before getting access to the workloads in the spoke</span></span>
-   <span data-ttu-id="ae47c-205">Un servicio DNS para resolver nombres para la carga de trabajo en los radios para el acceso a recursos locales y en Internet</span><span class="sxs-lookup"><span data-stu-id="ae47c-205">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the Internet</span></span>
-   <span data-ttu-id="ae47c-206">Una infraestructura PKI, para implementar el inicio de sesión único en las cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="ae47c-206">A PKI infrastructure, to implement single sign-on on workloads</span></span>
-   <span data-ttu-id="ae47c-207">Control de flujo (TCP/UDP) entre los radios e Internet</span><span class="sxs-lookup"><span data-stu-id="ae47c-207">Flow control (TCP/UDP) between the spokes and Internet</span></span>
-   <span data-ttu-id="ae47c-208">Control de flujo entre el radio y local</span><span class="sxs-lookup"><span data-stu-id="ae47c-208">Flow control between the spoke and on-premises</span></span>
-   <span data-ttu-id="ae47c-209">Si lo desea, control de flujo entre un radio y otro</span><span class="sxs-lookup"><span data-stu-id="ae47c-209">If desired, flow control between one spoke and another</span></span>

<span data-ttu-id="ae47c-210">El centro de datos virtual reduce el costo total al utilizar la infraestructura de concentrador compartida entre varios radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-210">The VDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="ae47c-211">El rol de cada radio puede ser el hospedaje de diferentes tipos de cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-211">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="ae47c-212">Los radios también pueden proporcionar un enfoque modular para implementaciones repetibles (por ejemplo, desarrollo y pruebas, pruebas de aceptación de usuario, el entorno de preproducción y producción) de las mismas cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-212">The spokes can also provide a modular approach for repeatable deployments (for example, dev and test, User Acceptance Testing, pre-production, and production) of the same workloads.</span></span> <span data-ttu-id="ae47c-213">También se pueden utilizar los radios segregar y habilitar varios grupos dentro de su organización (por ejemplo, los grupos de DevOps).</span><span class="sxs-lookup"><span data-stu-id="ae47c-213">The spokes can also be used to segregate and enable different groups within your organization (for example, DevOps groups).</span></span> <span data-ttu-id="ae47c-214">Dentro de un radio, es posible implementar una carga de trabajo básica o cargas de trabajo de varios niveles complejas con control de tráfico entre los niveles.</span><span class="sxs-lookup"><span data-stu-id="ae47c-214">Inside a spoke, it is possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

#### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="ae47c-215">Límites de la suscripción y múltiples concentradores</span><span class="sxs-lookup"><span data-stu-id="ae47c-215">Subscription limits and multiple hubs</span></span>
<span data-ttu-id="ae47c-216">En Azure, todos los componentes, de cualquier tipo, se implementan en una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-216">In Azure, every component, whatever the type, is deployed in an Azure Subscription.</span></span> <span data-ttu-id="ae47c-217">El aislamiento de componentes de Azure en distintas suscripciones de Azure puede satisfacer los requisitos de diferentes líneas de negocio, como la configuración de niveles diferenciados de acceso y autorización.</span><span class="sxs-lookup"><span data-stu-id="ae47c-217">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different LOBs, such as setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="ae47c-218">Un único centro de datos virtual puede escalar verticalmente a gran número de radios, aunque, al igual que en todos los sistemas de TI, existen límites en las plataformas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-218">A single VDC can scale up to large number of spokes, although, as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="ae47c-219">La implementación de un concentrador se enlaza a una suscripción de Azure específica, que tiene restricciones y límites (por ejemplo, un número máximo de emparejamientos de redes virtuales: consulte [Suscripción de Azure y límites de servicio, cuotas y restricciones][Limits] para más información).</span><span class="sxs-lookup"><span data-stu-id="ae47c-219">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits (for example, a max number of VNet peerings - see [Azure subscription and service limits, quotas, and constraints][Limits] for details).</span></span> <span data-ttu-id="ae47c-220">En los casos en los que los límites puedan ser un problema, la arquitectura se puede escalar verticalmente más allá extiendo el modelo desde un único concentrador-radios a un clúster de concentradores y radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-220">In cases where limits may be an issue, the architecture can scale up further by extending the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="ae47c-221">Varios centros en una o más regiones de Azure pueden estar conectados entre sí mediante el emparejamiento de redes virtuales, ExpressRoute o una red privada virtual de sitio a sitio.</span><span class="sxs-lookup"><span data-stu-id="ae47c-221">Multiple hubs in one or more Azure regions can be interconnected using VNet Peering, ExpressRoute, or site-to-site VPN.</span></span>

<span data-ttu-id="ae47c-222">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="ae47c-222">[![2]][2]</span></span>

<span data-ttu-id="ae47c-223">La introducción de varios concentradores aumenta el costo y el esfuerzo de administración del sistema y solo se justifica por la escalabilidad (por ejemplo, límites del sistema o redundancia) y por la replicación regional (por ejemplo, recuperación ante desastres o rendimiento del usuario final).</span><span class="sxs-lookup"><span data-stu-id="ae47c-223">The introduction of multiple hubs increases the cost and management effort of the system and would only be justified by scalability (examples: system limits or redundancy) and regional replication (examples: end-user performance or disaster recovery).</span></span> <span data-ttu-id="ae47c-224">En escenarios que requieran múltiples concentradores, todos los concentradores deben procurar ofrecer el mismo conjunto de servicios para facilitar la operativa.</span><span class="sxs-lookup"><span data-stu-id="ae47c-224">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

#### <a name="interconnection-between-spokes"></a><span data-ttu-id="ae47c-225">Interconexión entre los radios</span><span class="sxs-lookup"><span data-stu-id="ae47c-225">Interconnection between spokes</span></span>
<span data-ttu-id="ae47c-226">Dentro de un radio único, es posible implementar cargas de trabajo complejas en múltiples niveles.</span><span class="sxs-lookup"><span data-stu-id="ae47c-226">Inside a single spoke, it is possible to implement complex multi-tiers workloads.</span></span> <span data-ttu-id="ae47c-227">Las configuraciones de múltiples niveles se pueden implementar utilizando subredes (una para cada nivel) en la misma red virtual y filtrando los flujos con grupos de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="ae47c-227">Multi-tier configurations can be implemented using subnets (one for every tier) in the same VNet and filtering the flows using NSGs.</span></span>

<span data-ttu-id="ae47c-228">Por otro lado, un arquitecto podría querer implementar una carga de trabajo de varios niveles entre varias redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-228">On the other hand, an architect may want to deploy a multi-tier workload across multiple VNets.</span></span> <span data-ttu-id="ae47c-229">Con el emparejamiento de redes virtuales, los radios pueden conectarse a otros radios en el mismo concentrador o en concentradores diferentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-229">Using VNet peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="ae47c-230">Un ejemplo típico de este escenario es el caso en el que los servidores de procesamiento de la aplicación están en un radio (red virtual), mientras la base de datos se implementa en otro radio diferente (red virtual).</span><span class="sxs-lookup"><span data-stu-id="ae47c-230">A typical example of this scenario is the case where application processing servers are in one spoke (VNet), while the database is deployed in a different spoke (VNet).</span></span> <span data-ttu-id="ae47c-231">En este caso, es fácil interconectar los radios con emparejamiento de redes virtuales y así evitar el tránsito a través del concentrador.</span><span class="sxs-lookup"><span data-stu-id="ae47c-231">In this case, it is easy to interconnect the spokes with VNet peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="ae47c-232">Debe realizarse una revisión cuidadosa de la arquitectura y la seguridad para asegurarse de que evitar el paso por el concentrador no omite puntos de seguridad o auditoría de importancia que podrían existir solo en el concentrador.</span><span class="sxs-lookup"><span data-stu-id="ae47c-232">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that may only exist in the hub.</span></span>

<span data-ttu-id="ae47c-233">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="ae47c-233">[![3]][3]</span></span>

<span data-ttu-id="ae47c-234">Los radios también pueden estar conectados entre sí mediante un radio que actúa como concentrador.</span><span class="sxs-lookup"><span data-stu-id="ae47c-234">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="ae47c-235">Este método crea una jerarquía de dos niveles: el radio del nivel superior (nivel 0) se convierten en el concentrador de radios inferiores (nivel 1) en la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="ae47c-235">This approach creates a two-level hierarchy: the spoke in the higher level (level 0) become the hub of lower spokes (level 1) of the hierarchy.</span></span> <span data-ttu-id="ae47c-236">Los radios del centro de datos virtual deben reenviar el tráfico al concentrador central para llegar a la red local o a Internet.</span><span class="sxs-lookup"><span data-stu-id="ae47c-236">The spokes of VDC need to forward the traffic to the central hub to reach out either to the on-premises network or internet.</span></span> <span data-ttu-id="ae47c-237">Una arquitectura con dos niveles de concentradores presenta un enrutamiento complejo que anula las ventajas de una relación simple concentrador-radio.</span><span class="sxs-lookup"><span data-stu-id="ae47c-237">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="ae47c-238">Aunque Azure permite topologías complejas, uno de los principios básicos del concepto de centro de datos virtual es la repetibilidad y simplicidad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-238">Although Azure allows complex topologies, one of the core principles of the VDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="ae47c-239">Para minimizar el esfuerzo de administración, el diseño concentrador-radio simple es la arquitectura de referencia recomendada para un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-239">To minimize management effort, the simple hub-spoke design is the recommended VDC reference architecture.</span></span>

### <a name="components"></a><span data-ttu-id="ae47c-240">Componentes</span><span class="sxs-lookup"><span data-stu-id="ae47c-240">Components</span></span>
<span data-ttu-id="ae47c-241">Un centro de datos virtual se compone de cuatro tipos de componentes básicos: **infraestructura**, **redes perimetrales**, **cargas de trabajo** y **supervisión**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-241">A Virtual Data Center is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="ae47c-242">Cada tipo de componente consta de varias características de Azure y recursos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-242">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="ae47c-243">El centro de datos virtual se compone de instancias de varios tipos de componentes y múltiples variaciones del mismo tipo de componente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-243">Your VDC is made up of instances of multiple components types and multiple variations of the same component type.</span></span> <span data-ttu-id="ae47c-244">Por ejemplo, puede tener muchas instancias de cargas de trabajo diferentes, separadas lógicamente, que representan las distintas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-244">For instance, you may have many different, logically separated, workload instances that represent different applications.</span></span> <span data-ttu-id="ae47c-245">Estos distintos tipos de componentes e instancias se utilizan para crear el centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-245">You use these different component types and instances to ultimately build the VDC.</span></span>

<span data-ttu-id="ae47c-246">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="ae47c-246">[![4]][4]</span></span>

<span data-ttu-id="ae47c-247">La arquitectura de alto nivel anterior de un centro de datos virtual muestra distintos tipos de componentes utilizados en distintas zonas de la topología concentrador-radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-247">The preceding high-level architecture of a VDC shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="ae47c-248">El diagrama muestra los componentes de la infraestructura en distintas partes de la arquitectura.</span><span class="sxs-lookup"><span data-stu-id="ae47c-248">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="ae47c-249">Como procedimiento recomendado (para centros de datos locales y virtuales), los derechos de acceso y privilegios deben estar basados en grupos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-249">As a good practice (for an on-premises DC or VDC) access rights and privileges should be group-based.</span></span> <span data-ttu-id="ae47c-250">Trabajar con grupos, en lugar de usuarios individuales le ayuda a mantener las directivas de acceso de forma coherente a través de los distintos equipos y ayuda a minimizar los errores de configuración.</span><span class="sxs-lookup"><span data-stu-id="ae47c-250">Dealing with groups, instead of individual users helps maintaining access policies consistently across teams and aids in minimizing configuration errors.</span></span> <span data-ttu-id="ae47c-251">Asignar y eliminar usuarios de los grupos adecuados le ayuda a mantener actualizados los privilegios de un usuario específico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-251">Assigning and removing users to and from appropriate groups helps keeping the privileges of a specific user up-to-date.</span></span>

<span data-ttu-id="ae47c-252">Cada grupo de roles debe tener un prefijo único en sus nombres facilitando el proceso de identificar a qué grupo se ha asociado cada carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-252">Each role group should have a unique prefix on their names making it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="ae47c-253">Por ejemplo, una carga de trabajo que hospeda un servicio de autenticación podría tener grupos denominados *AuthServiceNetOps, AuthServiceSecOps, AuthServiceDevOps y AuthServiceInfraOps.*</span><span class="sxs-lookup"><span data-stu-id="ae47c-253">For instance, a workload hosting an authentication service might have groups named *AuthServiceNetOps, AuthServiceSecOps, AuthServiceDevOps, and AuthServiceInfraOps.*</span></span> <span data-ttu-id="ae47c-254">Del mismo modo, para roles centralizados o roles no relacionados con un servicio concreto, podrían estar precedidos de "Corp", *CorpNetOps* por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-254">Likewise for centralized roles, or roles not related to a specific service, could be prefaced with “Corp”, *CorpNetOps* for example.</span></span>

<span data-ttu-id="ae47c-255">Muchas organizaciones usan una variación de los grupos siguientes para proporcionar un desglose mayor de los roles:</span><span class="sxs-lookup"><span data-stu-id="ae47c-255">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="ae47c-256">El *grupo de TI central (Corp)* tiene los derechos de propietario para controlar los componentes de la infraestructura (por ejemplo, redes y seguridad) y, por lo tanto, debe disponer del rol de colaborador en la suscripción (y tiene el control del concentrador) y los derechos de colaborador de red en los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-256">The *central IT group (Corp)* has the ownership rights to control infrastructure (such as networking and security) components, and therefore needs to have the role of contributor on the subscription (and have control of the hub) and network contributor rights in the spokes.</span></span> <span data-ttu-id="ae47c-257">Las organizaciones de gran tamaño con frecuencia dividen estas responsabilidades de administración entre varios equipos como: un grupo de operaciones de red (CorpNetOps, con el foco exclusivo en la red) y un grupo de operaciones de seguridad (CorpSecOps, responsable de las directivas de seguridad y firewall).</span><span class="sxs-lookup"><span data-stu-id="ae47c-257">Large organization frequently split up these management responsibilities between multiple teams such as; a Network Operations (CorpNetOps) group (with exclusive focus on networking) and a Security Operations (CorpSecOps) group (responsible for firewall and security policy).</span></span> <span data-ttu-id="ae47c-258">En este caso específico, deben crearse dos grupos diferentes para la asignación de estos roles personalizados.</span><span class="sxs-lookup"><span data-stu-id="ae47c-258">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="ae47c-259">El *grupo de desarrollo y pruebas (AppDevOps)* tiene la responsabilidad de implementar las cargas de trabajo (aplicaciones o servicios).</span><span class="sxs-lookup"><span data-stu-id="ae47c-259">The *dev & test (AppDevOps) group* has the responsibility to deploy workloads (Apps or Services).</span></span> <span data-ttu-id="ae47c-260">Este grupo tiene el rol de colaborador de la máquina Virtual para las implementaciones de IaaS y uno o más roles del colaborador de PaaS (consulte [Roles integrados del control de acceso basado en roles de Azure][Roles]).</span><span class="sxs-lookup"><span data-stu-id="ae47c-260">This group takes the role of Virtual Machine Contributor for IaaS deployments and/or one or more PaaS contributor’s roles (see [Built-in roles for Azure Role-Based Access Control][Roles]).</span></span> <span data-ttu-id="ae47c-261">Opcionalmente, el equipo de desarrollo y pruebas podría tener visibilidad en las directivas de seguridad (NSG) y en las directivas de enrutamiento (UDR) en el concentrador o un radio específico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-261">Optionally the dev & test team may need to have visibility on security policies (NSGs) and routing policies (UDR) inside the hub or a specific spoke.</span></span> <span data-ttu-id="ae47c-262">Por lo tanto, además de los roles de colaborador para las cargas de trabajo, este grupo también necesitaría el rol de lector de red.</span><span class="sxs-lookup"><span data-stu-id="ae47c-262">Therefore, in addition to the roles of contributor for workloads, this group would also need the role of Network Reader.</span></span>
-   <span data-ttu-id="ae47c-263">El *grupo de operaciones y mantenimiento (CorpInfraOps o AppInfraOps)* tiene la responsabilidad de administrar las cargas de trabajo en producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-263">The *operation and maintenance group (CorpInfraOps or AppInfraOps)* have the responsibility of managing workloads in production.</span></span> <span data-ttu-id="ae47c-264">Este grupo debe ser un colaborador de la suscripción en las cargas de trabajo en las suscripciones de producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-264">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="ae47c-265">Algunas organizaciones también pueden evaluar si necesitan un grupo de equipo de soporte técnico con el rol de colaborador en la suscripción de producción y en la suscripción del concentrador central, con el fin de solucionar posibles problemas de configuración en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-265">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and in the central hub subscription, in order to fix potential configuration issues in the production environment.</span></span>

<span data-ttu-id="ae47c-266">Un centro de datos virtual se estructura para que los grupos de TI centrales creados para la administración del concentrador tengan grupos correspondientes en el nivel de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-266">A VDC is structured so that groups created for the central IT groups managing the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="ae47c-267">Además de la administración de los recursos del concentrador, los grupos de TI central deberían ser los únicos capaces de controlar el acceso externo y los permisos de nivel superior en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-267">In addition to managing hub resources only the central IT groups would be able to control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="ae47c-268">Sin embargo, los grupos de cargas de trabajo serían capaces de controlar los recursos y los permisos de su red virtual con independencia de TI central.</span><span class="sxs-lookup"><span data-stu-id="ae47c-268">However, workload groups would be able to control resources and permissions of their VNet independently on Central IT.</span></span>

<span data-ttu-id="ae47c-269">Se deben crear particiones en el centro de datos virtual para alojar varios proyectos de forma segura en diferentes líneas de negocio (LOB).</span><span class="sxs-lookup"><span data-stu-id="ae47c-269">The VDC needs to be partitioned to securely host multiple projects across different Line-of-Businesses (LOBs).</span></span> <span data-ttu-id="ae47c-270">Todos los proyectos requieren diferentes entornos aislados (desarrollo, UAT, producción).</span><span class="sxs-lookup"><span data-stu-id="ae47c-270">All projects require different isolated environments (Dev, UAT, production).</span></span> <span data-ttu-id="ae47c-271">El uso de suscripciones de Azure independientes para cada uno de estos entornos proporciona un aislamiento natural.</span><span class="sxs-lookup"><span data-stu-id="ae47c-271">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="ae47c-272">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="ae47c-272">[![5]][5]</span></span>

<span data-ttu-id="ae47c-273">El diagrama anterior muestra la relación entre los proyectos de una organización, los usuarios, grupos y los entornos donde se implementan los componentes de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-273">The preceding diagram shows the relationship between an organization's projects, users, groups, and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="ae47c-274">Normalmente, en TI, un entorno (o nivel) es un sistema en el que se implementan y ejecutan varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-274">Typically in IT, an environment (or tier) is a system in which multiple applications are deployed and executed.</span></span> <span data-ttu-id="ae47c-275">Las empresas de tamaño grande usan un entorno de desarrollo (en el que se realizan originalmente los cambios y pruebas) y un entorno de producción (el que los usuarios finales utilizan).</span><span class="sxs-lookup"><span data-stu-id="ae47c-275">Large enterprises use a development environment (where changes originally made and tested) and a production environment (what end-users use).</span></span> <span data-ttu-id="ae47c-276">Esos entornos están separados, a menudo con varios entornos de ensayo entre ellos para permitir la implementación por fases (lanzamiento), las pruebas y la reversión en caso de problemas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-276">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback in case of problems.</span></span> <span data-ttu-id="ae47c-277">Las arquitecturas de implementación varían considerablemente, aunque normalmente siguen el proceso básico de comenzar en un desarrollo (DEV) y terminar en producción (PROD).</span><span class="sxs-lookup"><span data-stu-id="ae47c-277">Deployment architectures vary significantly, but usually the basic process of starting at development (DEV) and ending at production (PROD) is still followed.</span></span>

<span data-ttu-id="ae47c-278">Una arquitectura común para estos tipos de entornos de varios niveles se compone de DevOps (desarrollo y pruebas), UAT (ensayo) y entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-278">A common architecture for these types of multi-tier environments consists of DevOps (development and testing), UAT (staging), and production environments.</span></span> <span data-ttu-id="ae47c-279">Las organizaciones pueden aprovechar uno o varios inquilinos de Azure AD para definir el acceso y los derechos para estos entornos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-279">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="ae47c-280">El diagrama anterior muestra un caso en el que se usan dos inquilinos diferentes de Azure AD: uno para DevOps y UAT y otro exclusivamente para producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-280">The previous diagram shows a case where two different Azure AD tenants are used: one for DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="ae47c-281">La presencia de inquilinos de Azure AD diferentes refuerza la separación entre entornos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-281">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="ae47c-282">El mismo grupo de usuarios (por ejemplo, TI central) debe autenticarse con un identificador URI diferente para tener acceso a un inquilino de AD diferente y modificar los roles o permisos de los entornos de DevOps o de producción de un proyecto.</span><span class="sxs-lookup"><span data-stu-id="ae47c-282">The same group of users (as an example, Central IT) needs to authenticate using a different URI to access a different AD tenant modify the roles or permissions of either the DevOps or production environments of a project.</span></span> <span data-ttu-id="ae47c-283">La presencia de una autenticación de usuario diferente para tener acceso a diferentes entornos reduce posibles interrupciones y otros problemas causados por errores humanos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-283">The presence of different user authentication to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="ae47c-284">Tipo de componente: infraestructura</span><span class="sxs-lookup"><span data-stu-id="ae47c-284">Component type: Infrastructure</span></span>
<span data-ttu-id="ae47c-285">Este tipo de componente es en el que reside la mayor parte de la infraestructura de soporte.</span><span class="sxs-lookup"><span data-stu-id="ae47c-285">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="ae47c-286">También es donde los equipos de TI central, seguridad y cumplimiento dedican la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-286">It's also where your centralized IT, Security, and/or Compliance teams spend most of their time.</span></span>

<span data-ttu-id="ae47c-287">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="ae47c-287">[![6]][6]</span></span>

<span data-ttu-id="ae47c-288">Los componentes de infraestructura proporcionan una interconexión entre los distintos componentes de un centro de datos virtual y están presentes tanto en el concentrador como en los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-288">Infrastructure components provide an interconnection between the different components of a VDC, and are present in both the hub and the spokes.</span></span> <span data-ttu-id="ae47c-289">Normalmente se asigna la responsabilidad de administrar y mantener los componentes de infraestructura al equipo de TI central o al de seguridad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-289">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT and/or security team.</span></span>

<span data-ttu-id="ae47c-290">Una de las tareas principales del equipo de infraestructura de TI es garantizar la coherencia de los esquemas de direcciones IP en toda la empresa.</span><span class="sxs-lookup"><span data-stu-id="ae47c-290">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="ae47c-291">El espacio de direcciones IP privadas asignado al centro de datos virtual debe ser coherente y no superponerse con direcciones IP privadas asignadas a redes locales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-291">The private IP address space assigned to the VDC needs to be consistent and NOT overlapping with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="ae47c-292">Aunque el uso de NAT en los enrutadores locales perimetrales o en entornos de Azure puede evitar conflictos de direcciones IP, agrega complicaciones a los componentes de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="ae47c-292">While NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts, it adds complications to your infrastructure components.</span></span> <span data-ttu-id="ae47c-293">La simplicidad de administración es uno de los principales objetivos del centro de datos virtual, por lo que el uso de NAT para controlar cuestiones de direcciones IP no es una solución recomendada.</span><span class="sxs-lookup"><span data-stu-id="ae47c-293">Simplicity of management is one of the key goals of VDC, so using NAT to handle IP concerns is not a recommended solution.</span></span>

<span data-ttu-id="ae47c-294">Los componentes de infraestructura contienen la siguiente funcionalidad:</span><span class="sxs-lookup"><span data-stu-id="ae47c-294">Infrastructure components contain the following functionality:</span></span>

-   <span data-ttu-id="ae47c-295">[**Servicios de identidad y directorio**][AAD].</span><span class="sxs-lookup"><span data-stu-id="ae47c-295">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="ae47c-296">El acceso a cada tipo de recurso en Azure se controla mediante una identidad que se almacena en un servicio de directorio.</span><span class="sxs-lookup"><span data-stu-id="ae47c-296">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="ae47c-297">El servicio de directorio almacena no solo la lista de usuarios, sino también los derechos de acceso a los recursos en una suscripción de Azure específica.</span><span class="sxs-lookup"><span data-stu-id="ae47c-297">The directory service stores not only the list of users, but also the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="ae47c-298">Estos servicios pueden existir solo en la nube, o se pueden sincronizar con la identidad local almacenada en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="ae47c-298">These services can exist cloud-only, or they can be synchronized with on-premises identity stored in Active Directory.</span></span>
-   <span data-ttu-id="ae47c-299">[**Virtual Network**][VPN].</span><span class="sxs-lookup"><span data-stu-id="ae47c-299">[**Virtual Network**][VPN].</span></span> <span data-ttu-id="ae47c-300">Las redes virtuales son uno de los componentes principales de un centro de datos virtual y le permiten crear un límite de aislamiento de tráfico en la plataforma de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-300">Virtual Networks are one of main components of a VDC, and enable you to create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="ae47c-301">Una red virtual se compone de uno o varios segmentos de red virtual, cada uno con un prefijo de red IP específico (una subred).</span><span class="sxs-lookup"><span data-stu-id="ae47c-301">A Virtual Network is composed of a single or multiple virtual network segments, each with a specific IP network prefix (a subnet).</span></span> <span data-ttu-id="ae47c-302">La red virtual define un área de perímetro interno en el que las máquinas virtuales de IaaS y los servicios de PaaS pueden establecer comunicaciones privadas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-302">The Virtual Network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="ae47c-303">Las máquinas virtuales (y los servicios de PaaS) de una red virtual no pueden comunicar directamente con máquinas virtuales (y servicios de PaaS) de una red virtual diferente, incluso si ambas redes virtuales se han creado en la misma suscripción y por el mismo cliente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-303">VMs (and PaaS services) in one virtual network cannot communicate directly to VMs (and PaaS services) in a different virtual network, even if both virtual networks are created by the same customer, under the same subscription.</span></span> <span data-ttu-id="ae47c-304">El aislamiento consiste en una propiedad fundamental que garantiza que las máquinas virtuales del cliente y la comunicación sigan siendo privadas en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-304">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>
-   <span data-ttu-id="ae47c-305">[**UDR**][UDR].</span><span class="sxs-lookup"><span data-stu-id="ae47c-305">[**UDR**][UDR].</span></span> <span data-ttu-id="ae47c-306">El tráfico en una red virtual se enruta de forma predeterminada en función de la tabla de enrutamiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="ae47c-306">Traffic in a Virtual Network is routed by default based on the system routing table.</span></span> <span data-ttu-id="ae47c-307">Una ruta definida por el usuario (UDR) es una tabla de enrutamiento personalizada que los administradores de red pueden asociar a una o varias subredes para sobrescribir el comportamiento de la tabla de enrutamiento del sistema y definir una ruta de comunicación en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-307">A User Define Route is a custom routing table that network administrators can associate to one or more subnets to overwrite the behavior of the system routing table and define a communication path within a virtual network.</span></span> <span data-ttu-id="ae47c-308">La presencia de una UDR garantiza que el tráfico de salida del radio transita a través de máquinas virtuales personalizadas específicas o aplicaciones virtuales de red y equilibradores de carga presentes en el concentrador y los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-308">The presence of UDRs guarantees that egress traffic from the spoke transit through specific custom VMs and/or Network Virtual Appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="ae47c-309">[**NSG**][NSG].</span><span class="sxs-lookup"><span data-stu-id="ae47c-309">[**NSG**][NSG].</span></span> <span data-ttu-id="ae47c-310">Un grupo de seguridad de red (NSG) es una lista de reglas de seguridad que actúa como filtro de tráfico en direcciones IP de origen y destino, protocolos y puertos IP de origen y destino.</span><span class="sxs-lookup"><span data-stu-id="ae47c-310">A Network Security Group is a list of security rules that act as traffic filtering on IP Sources, IP Destination, Protocols, IP Source Ports, and IP Destination ports.</span></span> <span data-ttu-id="ae47c-311">El NSG se puede aplicar a una subred, una tarjeta NIC virtual asociada a una máquina virtual de Azure, o ambos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-311">The NSG can be applied to a subnet, a Virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="ae47c-312">Los NSG son fundamentales para implementar un control de flujo correcto en el concentrador y los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-312">The NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="ae47c-313">El nivel de seguridad permitido por el NSG está una función de los puertos que abra y su finalidad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-313">The level of security afforded by the NSG is a function of which ports you open, and for what purpose.</span></span> <span data-ttu-id="ae47c-314">Los clientes deben aplicar filtros adicionales en cada máquina virtual con firewalls basados en host, como IPtables o el Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="ae47c-314">Customers should apply additional per-VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="ae47c-315">[**DNS**][DNS].</span><span class="sxs-lookup"><span data-stu-id="ae47c-315">[**DNS**][DNS].</span></span> <span data-ttu-id="ae47c-316">La resolución de nombres de recursos en las redes virtuales de un centro de datos virtual se proporciona mediante DNS.</span><span class="sxs-lookup"><span data-stu-id="ae47c-316">The name resolution of resources in the VNets of a VDC is provided through DNS.</span></span> <span data-ttu-id="ae47c-317">Azure proporciona servicios DNS para la resolución de nombres tanto [DNS][pública] como [privada][PrivateDNS].</span><span class="sxs-lookup"><span data-stu-id="ae47c-317">Azure provides DNS services for both [Public][DNS] and [Private][PrivateDNS] name resolution.</span></span> <span data-ttu-id="ae47c-318">Las zonas privadas proporcionan la resolución de nombres dentro de una red virtual o en redes virtuales distintas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-318">Private zones provide name resolution both within a virtual network and across virtual networks.</span></span> <span data-ttu-id="ae47c-319">Puede hacer que las zonas privadas abarquen redes virtuales de la misma región, e incluso de distintas regiones y suscripciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-319">You can have private zones not only span across virtual networks in the same region, but also across regions and subscriptions.</span></span> <span data-ttu-id="ae47c-320">Azure DNS proporciona un servicio de hospedaje de dominios DNS que permite resolver nombres mediante la infraestructura de Microsoft Azure (resolución pública).</span><span class="sxs-lookup"><span data-stu-id="ae47c-320">For public resolution, Azure DNS provides a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="ae47c-321">Al hospedar dominios en Azure, puede administrar los registros DNS con las mismas credenciales, API, herramientas y facturación que con los demás servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-321">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>
-   <span data-ttu-id="ae47c-322">[**Administración de la suscripción**][SubMgmt] y del [**Grupo de recursos**][RGMgmt].</span><span class="sxs-lookup"><span data-stu-id="ae47c-322">[**Subscription**][SubMgmt] and [**Resource Group Management**][RGMgmt].</span></span> <span data-ttu-id="ae47c-323">Una suscripción define un límite natural para crear varios grupos de recursos en Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-323">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="ae47c-324">Los recursos de una suscripción se ensamblan juntos en contenedores lógicos llamados grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-324">Resources in a subscription are assembled together in logical containers named Resource Groups.</span></span> <span data-ttu-id="ae47c-325">El grupo de recursos representa un grupo lógico para organizar los recursos de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-325">The Resource Group represents a logical group to organize the resources of a VDC.</span></span>
-   <span data-ttu-id="ae47c-326">[**RBAC**][RBAC].</span><span class="sxs-lookup"><span data-stu-id="ae47c-326">[**RBAC**][RBAC].</span></span> <span data-ttu-id="ae47c-327">Mediante RBAC, es posible asignar roles organizativos junto con los derechos de acceso a recursos específicos de Azure, lo que le permite restringir a los usuarios a solo un subconjunto determinado de acciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-327">Through RBAC, it is possible to map organizational role along with rights to access specific Azure resources, allowing you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="ae47c-328">Con RBAC puede conceder acceso asignando el rol adecuado a usuarios, grupos y aplicaciones dentro del ámbito correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-328">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="ae47c-329">El ámbito de una asignación de roles puede ser una suscripción de Azure, un grupo de recursos o un único recurso.</span><span class="sxs-lookup"><span data-stu-id="ae47c-329">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="ae47c-330">RBAC permite la herencia de permisos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-330">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="ae47c-331">Un rol asignado en un ámbito principal también concede acceso a los elementos secundarios dentro del mismo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-331">A role assigned at a parent scope also grants access to the children contained within it.</span></span> <span data-ttu-id="ae47c-332">Con RBAC podrá repartir las tareas y conceder a los usuarios únicamente el nivel de acceso que necesitan para realizar su trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-332">Using RBAC, you can segregate duties and grant only the amount of access to users that they need to perform their jobs.</span></span> <span data-ttu-id="ae47c-333">Por ejemplo, utilice RBAC para dejar que un empleado administre máquinas virtuales en una suscripción y que otro pueda administrar bases de datos SQL en la misma suscripción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-333">For example, use RBAC to let one employee manage virtual machines in a subscription, while another can manage SQL DBs within the same subscription.</span></span>
-   <span data-ttu-id="ae47c-334">[**Emparejamiento de redes virtuales**][VNetPeering].</span><span class="sxs-lookup"><span data-stu-id="ae47c-334">[**VNet Peering**][VNetPeering].</span></span> <span data-ttu-id="ae47c-335">La característica fundamental utilizada para crear la infraestructura de un centro de datos virtual es el emparejamiento de redes virtuales, un mecanismo que conecta dos redes virtuales (VNet) de la misma región mediante la red del centro de datos de Azure o de la red troncal mundial de Azure para regiones distintas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-335">The fundamental feature used to create the infrastructure of a VDC is VNet Peering, a mechanism that connects two virtual networks (VNets) in the same region through the Azure data center network, or using the Azure world-wide backbone across regions.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="ae47c-336">Tipo de componente: redes perimetrales</span><span class="sxs-lookup"><span data-stu-id="ae47c-336">Component Type: Perimeter Networks</span></span>
<span data-ttu-id="ae47c-337">Los componentes de la [Red perimetral] [ DMZ] (también conocida como una red DMZ) le permiten proporcionar conectividad de red con su redes locales y centro de datos físico, junto con cualquier tipo de conectividad hacia y desde Internet.</span><span class="sxs-lookup"><span data-stu-id="ae47c-337">[Perimeter network][DMZ] components (also known as a DMZ network) allow you to provide network  connectivity with your on-premises or physical data center networks, along with any connectivity to and from the Internet.</span></span> <span data-ttu-id="ae47c-338">También es donde probablemente los equipos de red y seguridad empleen la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-338">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="ae47c-339">Los paquetes entrantes deben fluir a través de los dispositivos de seguridad del concentrador, como el firewall, IDS e IPS, antes de llegar a los servidores back-end en los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-339">Incoming packets should flow through the security appliances in the hub, such as the firewall, IDS, and IPS, before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="ae47c-340">Los paquetes enlazados a Internet desde las cargas de trabajo también deberían fluir a través de los dispositivos de seguridad de la red perimetral para fines de auditoría, inspección y aplicación de directivas antes de salir de la red.</span><span class="sxs-lookup"><span data-stu-id="ae47c-340">Internet-bound packets from the workloads should also flow through the security appliances in the perimeter network for policy enforcement, inspection, and auditing purposes, before leaving the network.</span></span>

<span data-ttu-id="ae47c-341">Los componentes de la red perimetral proporcionan las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="ae47c-341">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="ae47c-342">[Redes virtuales][VNet], [UDR][UDR], [NSG][NSG]</span><span class="sxs-lookup"><span data-stu-id="ae47c-342">[Virtual Networks][VNet], [UDR][UDR], [NSG][NSG]</span></span>
-   <span data-ttu-id="ae47c-343">[Aplicación virtual de red][NVA]</span><span class="sxs-lookup"><span data-stu-id="ae47c-343">[Network Virtual Appliance][NVA]</span></span>
-   <span data-ttu-id="ae47c-344">[Equilibrador de carga][ALB]</span><span class="sxs-lookup"><span data-stu-id="ae47c-344">[Load Balancer][ALB]</span></span>
-   <span data-ttu-id="ae47c-345">[Application Gateway][AppGW] / [WAF][WAF]</span><span class="sxs-lookup"><span data-stu-id="ae47c-345">[Application Gateway][AppGW] / [WAF][WAF]</span></span>
-   <span data-ttu-id="ae47c-346">[Direcciones IP públicas][PIP]</span><span class="sxs-lookup"><span data-stu-id="ae47c-346">[Public IPs][PIP]</span></span>

<span data-ttu-id="ae47c-347">Normalmente, los equipos de TI central y de seguridad tienen la responsabilidad de la definición de requisitos y las operaciones de las redes perimetrales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-347">Usually, the central IT and security teams have responsibility for requirement definition and operations of the perimeter networks.</span></span>

<span data-ttu-id="ae47c-348">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="ae47c-348">[![7]][7]</span></span>

<span data-ttu-id="ae47c-349">El diagrama anterior muestra el cumplimiento de dos perímetros con acceso a Internet y a una red local, ambos residentes en el concentrador.</span><span class="sxs-lookup"><span data-stu-id="ae47c-349">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network, both resident in the hub.</span></span> <span data-ttu-id="ae47c-350">En un único concentrador, la red perimetral a Internet puede escalar verticalmente para admitir grandes cantidades de líneas de negocio, utilizando varias granjas de firewalls de aplicaciones web (WAF) y/o firewalls.</span><span class="sxs-lookup"><span data-stu-id="ae47c-350">In a single hub, the perimeter network to internet can scale up to support large numbers of LOBs, using multiple farms of Web Application Firewalls (WAFs) and/or firewalls.</span></span>

<span data-ttu-id="ae47c-351">[**Redes virtuales**][VNet] El concentrador normalmente se basa en una red virtual con varias subredes para hospedar los distintos tipos de servicios con filtrado e inspección del tráfico hacia o desde Internet utilizando NVA, WAF y Azure Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="ae47c-351">[**Virtual Networks**][VNet] The hub is typically built on a VNet with multiple subnets to host the different type of services filtering and inspecting traffic to or from the internet via NVAs, WAFs, and Azure Application Gateways.</span></span>

<span data-ttu-id="ae47c-352">[**UDR**][UDR] Con UDR, los clientes pueden implementar un firewall, IDS/IPS y otras aplicaciones virtuales y enrutar el tráfico de red a través de estas aplicaciones de seguridad para la aplicación de directivas de límites de seguridad, auditoría e inspección.</span><span class="sxs-lookup"><span data-stu-id="ae47c-352">[**UDR**][UDR] Using UDR, customers can deploy firewalls, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="ae47c-353">Las UDR pueden crearse en el concentrador y los radios para garantizar que el tráfico transita a través de máquinas virtuales personalizadas específicas, aplicaciones virtuales de red y equilibradores de carga utilizados en el centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-353">UDRs can be created in both the hub and the spokes to guarantee that traffic transits through the specific custom VMs, Network Virtual Appliances and load balancers used by the VDC.</span></span> <span data-ttu-id="ae47c-354">Para garantizar que el tráfico generado desde máquinas virtuales residentes en el radio transita a las aplicaciones virtuales correctas, se debe establecer una UDR en las subredes del radio configurando la dirección IP del front-end del equilibrador de carga interno como el próximo salto.</span><span class="sxs-lookup"><span data-stu-id="ae47c-354">To guarantee that traffic generated from VMs resident in the spoke transit to the correct virtual appliances, a UDR needs to be set in the subnets of the spoke by setting the front-end IP address of the internal load balancer as the next-hop.</span></span> <span data-ttu-id="ae47c-355">El equilibrador de carga interno distribuye el tráfico interno a las aplicaciones virtuales (grupo de back-end de equilibradores de carga).</span><span class="sxs-lookup"><span data-stu-id="ae47c-355">The internal load balancer distributes the internal traffic to the virtual appliances (load balancer back-end pool).</span></span>

<span data-ttu-id="ae47c-356">[![8]][8]</span><span class="sxs-lookup"><span data-stu-id="ae47c-356">[![8]][8]</span></span>

<span data-ttu-id="ae47c-357">[**Aplicaciones virtuales de red**][NVA] En el concentrador, la red perimetral con acceso a Internet se administra normalmente a través de una granja de firewalls o firewalls de aplicaciones web (WAF).</span><span class="sxs-lookup"><span data-stu-id="ae47c-357">[**Network Virtual Appliances**][NVA] In the hub, the perimeter network with access to the internet is normally managed through a farm of firewalls and/or Web Application Firewalls (WAFs).</span></span>

<span data-ttu-id="ae47c-358">Las diferentes líneas de negocio normalmente utilizan diversas aplicaciones web y estas aplicaciones tienden a sufrir varias vulnerabilidades y puntos débiles potenciales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-358">Different LOBs commonly use many web applications, and these applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="ae47c-359">Los firewall de aplicaciones web son un tipo especial de producto que se usa para detectar ataques contra las aplicaciones web (HTTP/HTTPS) con mayor profundidad que un firewall genérico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-359">Web Applications Firewalls are a special breed of product used to detect attacks against web applications (HTTP/HTTPS) in more depth than a generic firewall.</span></span> <span data-ttu-id="ae47c-360">En comparación con la tecnología de firewall tradicional, los WAF tienen un conjunto de características específicas para proteger los servidores web internos frente a amenazas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-360">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="ae47c-361">Una granja de firewalls es un grupo de firewalls que trabajan conjuntamente bajo una administración común, con un conjunto de reglas de seguridad para proteger las cargas de trabajo hospedadas en los radios y controlar el acceso a las redes locales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-361">A firewall farm is group of firewalls working in tandem under the same common administration, with a set of security rules to protect the workloads hosted in the spokes, and control access to on-premises networks.</span></span> <span data-ttu-id="ae47c-362">Una granja de firewalls tiene menos software especializado en comparación con un WAF, pero tiene un ámbito más amplio de aplicación para filtrar e inspeccionar cualquier tipo de tráfico de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="ae47c-362">A firewall farm has less specialized software compared with a WAF, but has a broad application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="ae47c-363">Las granjas de firewalls se implementan normalmente en Azure a través de aplicaciones virtuales de red (NVA), que están disponibles en Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ae47c-363">Firewall farms are normally implemented in Azure through Network Virtual Appliances (NVAs), which are available in the Azure marketplace.</span></span>

<span data-ttu-id="ae47c-364">Se recomienda usar un conjunto de NVA para el tráfico que se origina en Internet y otro para el tráfico que se origina en local.</span><span class="sxs-lookup"><span data-stu-id="ae47c-364">It is recommended to use one set of NVAs for traffic originating on the Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="ae47c-365">Utilizar únicamente un conjunto de NVA para ambos es un riesgo de seguridad, ya que no proporciona ningún perímetro de seguridad entre los dos conjuntos de tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="ae47c-365">Using only one set of NVAs for both is a security risk, as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="ae47c-366">El uso de NVA independientes reduce la complejidad de la comprobación de las reglas de seguridad y deja claro qué reglas se corresponden con cada solicitud de red entrante.</span><span class="sxs-lookup"><span data-stu-id="ae47c-366">Using separate NVAs reduces the complexity of checking security rules, and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="ae47c-367">La mayoría de las empresas de tamaño grande administran varios dominios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-367">Most large enterprises manage multiple domains.</span></span> <span data-ttu-id="ae47c-368">El servicio DNS de Azure se puede usar para hospedar los registros DNS de un dominio concreto.</span><span class="sxs-lookup"><span data-stu-id="ae47c-368">Azure DNS can be used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="ae47c-369">Como ejemplo, se puede registrar la dirección IP virtual (VIP) del equilibrador de carga externo de Azure (o de los WAF) en el registro A de un registro DNS de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-369">As example, the Virtual IP Address (VIP) of the Azure external load balancer (or the WAFs) can be registered in the A record of an Azure DNS record.</span></span>

<span data-ttu-id="ae47c-370">[**Azure Load Balancer**][ALB] El equilibrador de carga de Azure ofrece un servicio de nivel 4 (TCP, UDP) de alta disponibilidad que puede distribuir el tráfico entrante entre instancias del servicio definidas en un conjunto de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="ae47c-370">[**Azure Load Balancer**][ALB] Azure load balancer offers a high availability Layer 4 (TCP, UDP) service, which can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="ae47c-371">El tráfico enviado al equilibrador de carga desde los puntos de conexión front-end (puntos de conexión de direcciones IP públicas o privadas) se puede redistribuir con o sin traducción de direcciones a un conjunto de grupo de direcciones IP de back-end (ejemplo: aplicaciones virtuales de red o máquinas virtuales).</span><span class="sxs-lookup"><span data-stu-id="ae47c-371">Traffic sent to the load balancer from front-end endpoints (public IP endpoints or private IP endpoints) can be redistributed with or without address translation to a set of back-end IP address pool (examples being; Network Virtual Appliances or VMs).</span></span>

<span data-ttu-id="ae47c-372">Azure Load Balancer puede sondear el estado de las diversas instancias de servidor y, cuando un sondeo no responde, el equilibrador de carga deja de enviar tráfico a la instancia incorrecta.</span><span class="sxs-lookup"><span data-stu-id="ae47c-372">Azure Load Balancer can probe the health of the various server instances as well, and when a probe fails to respond the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="ae47c-373">En un centro de datos virtual, tenemos la presencia de un equilibrador de carga externo en el concentrador (por ejemplo, para equilibrar el tráfico a los NVA) y en los radios (para realizar tareas como equilibrar el tráfico entre diferentes máquinas virtuales de una aplicación de varios niveles).</span><span class="sxs-lookup"><span data-stu-id="ae47c-373">In a VDC, we have the presence of an external load balancer in the hub (for instance, balance the traffic to NVAs), and in the spokes (to perform tasks like balancing traffic between different VMs of a multitier application).</span></span>

<span data-ttu-id="ae47c-374">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway es una aplicación virtual dedicada que cuenta con un controlador de entrega de aplicaciones (ADC) que se ofrece como servicio y que proporciona numerosas funcionalidades de equilibrio de carga de nivel 7 para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ae47c-374">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway is a dedicated virtual appliance providing application delivery controller (ADC) as a service, offering various layer 7 load balancing capabilities for your application.</span></span> <span data-ttu-id="ae47c-375">Le permite optimizar la productividad de las granjas de servidores web traspasando la carga de la terminación SSL con mayor actividad de la CPU a Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="ae47c-375">It allows you to optimize web farm productivity by offloading CPU intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="ae47c-376">Además, dispone de otras funcionalidades de enrutamiento de nivel 7, como la distribución round robin del tráfico entrante, la afinidad de sesiones basada en cookies, el enrutamiento basado en rutas de acceso URL y la capacidad de hospedar varios sitios web detrás de una única puerta de enlace de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-376">It also provides other layer 7 routing capabilities including round robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single Application Gateway.</span></span> <span data-ttu-id="ae47c-377">También se proporciona un firewall de aplicaciones web (WAF) como parte de la SKU de WAF de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="ae47c-377">A web application firewall (WAF) is also provided as part of the application gateway WAF SKU.</span></span> <span data-ttu-id="ae47c-378">Esta SKU proporciona protección a las aplicaciones web frente a vulnerabilidades web y vulnerabilidades de seguridad comunes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-378">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="ae47c-379">Application Gateway puede configurarse como una puerta de enlace orientada a Internet, una puerta de enlace solo para uso interno o una combinación de las dos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-379">Application Gateway can be configured as internet facing gateway, internal only gateway, or a combination of both.</span></span> 

<span data-ttu-id="ae47c-380">[**Direcciones IP públicas**][PIP] Algunas características de Azure le permiten asociar los puntos de conexión de servicio a una dirección IP pública que permite al recurso estar accesible desde Internet.</span><span class="sxs-lookup"><span data-stu-id="ae47c-380">[**Public IPs**][PIP] Some Azure features enable you to associate service endpoints to a public IP address that allows to your resource to be accessed from the internet.</span></span> <span data-ttu-id="ae47c-381">Este punto de conexión usa la traducción de direcciones de red (NAT) para enrutar el tráfico a la dirección interna y el puerto de la red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-381">This endpoint uses Network Address Translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="ae47c-382">Esta ruta es la vía principal para que el tráfico externo pase a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-382">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="ae47c-383">Las direcciones IP públicas se pueden configurar para determinar qué tráfico se pasa y cómo y dónde se traduce en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-383">The Public IP addresses can be configured to determine which traffic is passed in, and how and where it's translated on to the virtual network.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="ae47c-384">Tipo de componente: supervisión</span><span class="sxs-lookup"><span data-stu-id="ae47c-384">Component type: Monitoring</span></span>
<span data-ttu-id="ae47c-385">Los componentes de supervisión proporcionan visibilidad y alertas sobre todos los demás tipos de componentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-385">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="ae47c-386">Todos los equipos deben tener acceso a la supervisión de los componentes y servicios a los que tienen acceso.</span><span class="sxs-lookup"><span data-stu-id="ae47c-386">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="ae47c-387">Si tiene equipos de soporte técnico o de operaciones centralizados, necesitarán un acceso integrado a los datos proporcionados por estos componentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-387">If you have a centralized help desk or operations teams, they would need to have integrated access to the data provided by these components.</span></span>

<span data-ttu-id="ae47c-388">Azure ofrece diferentes tipos de servicios de registro y supervisión para realizar un seguimiento del comportamiento de los recursos hospedados en Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-388">Azure offers different types of logging and monitoring services to track the behavior of Azure hosted resources.</span></span> <span data-ttu-id="ae47c-389">La regulación y el control de las cargas de trabajo en Azure no se basa solo en recopilar datos de registro, sino también en la posibilidad de desencadenar acciones basándose en eventos notificados específicos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-389">Governance and control of workloads in Azure is based not just on collecting log data, but also the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="ae47c-390">[**Azure Monitor**][Monitor]: Azure incluye varios servicios que realizan individualmente una tarea o un rol específico en el espacio de supervisión.</span><span class="sxs-lookup"><span data-stu-id="ae47c-390">[**Azure Monitor**][Monitor] - Azure includes multiple services that individually perform a specific role or task in the monitoring space.</span></span> <span data-ttu-id="ae47c-391">Juntos, estos servicios ofrecen una solución completa para recopilar, analizar y actuar en la telemetría de la aplicación y los recursos de Azure que las admiten.</span><span class="sxs-lookup"><span data-stu-id="ae47c-391">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your application and the Azure resources that support them.</span></span> <span data-ttu-id="ae47c-392">También pueden servir para supervisar recursos locales críticos, a fin de proporcionar un entorno de supervisión híbrido.</span><span class="sxs-lookup"><span data-stu-id="ae47c-392">They can also work to monitor critical on-premises resources in order to provide a hybrid monitoring environment.</span></span> <span data-ttu-id="ae47c-393">Conocer las herramientas y los datos que están disponibles es el primer paso para desarrollar una estrategia de supervisión completa para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ae47c-393">Understanding the tools and data that are available is the first step in developing a complete monitoring strategy for your application.</span></span>

<span data-ttu-id="ae47c-394">Hay dos tipos principales de registros en Azure:</span><span class="sxs-lookup"><span data-stu-id="ae47c-394">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="ae47c-395">Los [**Registros de actividad** ] [ ActLog] (conocido también como "Registro operativo") proporcionan una visión general de las operaciones realizadas en recursos de la suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="ae47c-395">[**Activity Logs**][ActLog] (referred also as "Operational Log") provide insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="ae47c-396">Estos registros informan sobre los eventos en el plano de control de las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-396">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="ae47c-397">Todos los recursos de Azure generan registros de auditoría.</span><span class="sxs-lookup"><span data-stu-id="ae47c-397">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="ae47c-398">Los [**registros de diagnóstico de Azure**][DiagLog] son registros generados por un recurso que proporcionan datos exhaustivos y frecuentes acerca del funcionamiento de ese recurso.</span><span class="sxs-lookup"><span data-stu-id="ae47c-398">[**Azure Diagnostic Logs**][DiagLog] are logs generated by a resource that provide rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="ae47c-399">El contenido de estos registros varía según el tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="ae47c-399">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="ae47c-400">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="ae47c-400">[![9]][9]</span></span>

<span data-ttu-id="ae47c-401">En un centro de datos virtual es muy importante realizar el seguimiento de los registros de los grupos de seguridad de red, especialmente esta información:</span><span class="sxs-lookup"><span data-stu-id="ae47c-401">In a VDC, it is extremely important to track the NSGs logs, particularly this information:</span></span>

-   <span data-ttu-id="ae47c-402">[**Registros de eventos**][NSGLog]: proporcionan información sobre qué reglas de grupos de seguridad de red se aplican a las máquinas virtuales y a los roles de instancia en función de la dirección MAC.</span><span class="sxs-lookup"><span data-stu-id="ae47c-402">[**Event logs**][NSGLog]: provides information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="ae47c-403">[**Registros de contador**][NSGLog]: realizan el seguimiento sobre cuántas veces se aplica cada regla de los grupos de seguridad de red para denegar o permitir el tráfico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-403">[**Counter logs**][NSGLog]: tracks how many times each NSG rule was executed to deny or allow traffic.</span></span>

<span data-ttu-id="ae47c-404">Todos los registros se pueden almacenar en cuentas de Azure Storage con fines de auditoría, análisis estático o copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="ae47c-404">All logs can be stored in Azure Storage Accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="ae47c-405">Cuando los registros se almacenan en una cuenta de Azure Storage, los clientes pueden usar diferentes tipos de marcos de trabajo para recuperar, preparar, analizar y visualizar estos datos para notificar el estado de los recursos en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-405">When the logs are stored in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span>

<span data-ttu-id="ae47c-406">Las grandes empresas pueden haber adquirido previamente un marco estándar para la supervisión de los sistemas locales y pueden ampliar ese marco de trabajo para integrar los registros generados por las implementaciones en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-406">Large enterprises should already have acquired a standard framework for monitoring on-premises systems and can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="ae47c-407">Para las organizaciones que deseen mantener todo el registro en la nube, [Log Analytics][../log-analytics/log-analytics-overview .md] es una excelente opción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-407">For organizations that wish to keep all the logging in the cloud, [Log Analytics][../log-analytics/log-analytics-overview .md] is a great choice.</span></span> <span data-ttu-id="ae47c-408">Puesto que Log Analytics se implementa como un servicio basado en la nube, puede hacer que funcione rápidamente con una inversión mínima en servicios de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="ae47c-408">Since Log Analytics is implemented as a cloud-based service, you can have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="ae47c-409">Log Analytics puede también integrarse con componentes de System Center, como System Center Operations Manager para ampliar sus inversiones existentes de administración en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-409">Log Analytics can also integrate with System Center components such as System Center Operations Manager to extend your existing management investments into the cloud.</span></span>

<span data-ttu-id="ae47c-410">Log Analytics es un servicio de Azure que ayuda a recopilar, correlacionar, buscar y actuar en los datos de registro y rendimiento generados por los sistemas operativos, aplicaciones y componentes de infraestructura en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-410">Log Analytics is a service in Azure that helps collect, correlate, search, and act on log and performance data generated by operating systems, applications, and infrastructure cloud components.</span></span> <span data-ttu-id="ae47c-411">Ofrece a los clientes una visión operativa en tiempo real mediante la búsqueda integrada y los paneles personalizados para analizar todos los registros en todas las cargas de trabajo del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-411">It gives customers real-time operational insights using integrated search and custom dashboards to analyze all the records across all your workloads in a VDC.</span></span>

<span data-ttu-id="ae47c-412">La solución [Network Performance Monitor (NPM)][NPM] de OMS proporciona información de un extremo a otro de la red, incluida una vista única de las redes de Azure y las locales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-412">The [Network Performance Monitor (NPM)][NPM] solution inside OMS can provide detailed network information end-to-end, including a single view of your Azure networks and on-premises networks.</span></span> <span data-ttu-id="ae47c-413">Con monitores específicos para los servicios públicos y ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="ae47c-413">With specific monitors for ExpressRoute and public services.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="ae47c-414">Tipo de componente: cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="ae47c-414">Component type: Workloads</span></span>
<span data-ttu-id="ae47c-415">Los componentes de carga de trabajo son donde residen los servicios y aplicaciones reales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-415">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="ae47c-416">También es donde los equipos de desarrollo de aplicaciones dedican la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-416">It's also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="ae47c-417">Las posibilidades de cargas de trabajo son realmente infinitas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-417">The workload possibilities are truly endless.</span></span> <span data-ttu-id="ae47c-418">Estos son solo algunos de los tipos posibles de cargas de trabajo:</span><span class="sxs-lookup"><span data-stu-id="ae47c-418">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="ae47c-419">**Aplicaciones de líneas de negocio internas**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-419">**Internal LOB Applications**.</span></span> <span data-ttu-id="ae47c-420">Las aplicaciones de línea de negocio son aplicaciones informáticas necesarias para la operación en curso de una empresa.</span><span class="sxs-lookup"><span data-stu-id="ae47c-420">Line-of-business applications are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="ae47c-421">Las aplicaciones de línea de negocio tienen algunas características comunes:</span><span class="sxs-lookup"><span data-stu-id="ae47c-421">LOB applications have some common characteristics:</span></span>

-   <span data-ttu-id="ae47c-422">**Interactividad**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-422">**Interactive**.</span></span> <span data-ttu-id="ae47c-423">Las aplicaciones de línea de negocio son interactivas por naturaleza: los datos se captan y se devuelven resultados e informes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-423">LOB applications are interactive by nature: data is entered, and result/reports are returned.</span></span>
-   <span data-ttu-id="ae47c-424">**Controladas por datos**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-424">**Data driven**.</span></span> <span data-ttu-id="ae47c-425">Las aplicaciones de línea de negocio son intensivas en el uso de datos, con acceso frecuente a bases de datos o a otro almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-425">LOB applications are data intensive with frequent access to the databases or other storage.</span></span>
-   <span data-ttu-id="ae47c-426">**Integradas**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-426">**Integrated**.</span></span> <span data-ttu-id="ae47c-427">Las aplicaciones de línea de negocio ofrecen integración con otros sistemas dentro y fuera de la organización.</span><span class="sxs-lookup"><span data-stu-id="ae47c-427">LOB applications offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="ae47c-428">**Sitios web accesibles para clientes (accesibles desde Internet o internos)**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-428">**Customer facing web sites (Internet or Internal facing)**.</span></span> <span data-ttu-id="ae47c-429">La mayoría de las aplicaciones que interactúan con Internet son sitios web.</span><span class="sxs-lookup"><span data-stu-id="ae47c-429">Most applications that interact with the Internet are web sites.</span></span> <span data-ttu-id="ae47c-430">Azure ofrece la funcionalidad de ejecutar un sitio web en una máquina virtual de IaaS o desde un sitio de [Azure Web Apps] [ WebApps] (PaaS).</span><span class="sxs-lookup"><span data-stu-id="ae47c-430">Azure offers the capability to run a web site on an IaaS VM or from an [Azure Web Apps][WebApps] site (PaaS).</span></span> <span data-ttu-id="ae47c-431">Azure Web Apps admite la integración con redes virtuales que permite implementar las aplicaciones web en los radios de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-431">Azure Web Apps support integration with VNets that allow the deployment of the Web Apps in the spoke of a VDC.</span></span> <span data-ttu-id="ae47c-432">Al observar los sitios web de orientación interna, con la integración con redes virtuales no es necesario exponer un punto de conexión en Internet para las aplicaciones, sino que puede usar en su lugar los recursos a través de direcciones no enrutables a Internet privadas desde la red virtual privada.</span><span class="sxs-lookup"><span data-stu-id="ae47c-432">When looking at internal facing web sites, with the VNET integration, you don't need to expose an Internet endpoint for your applications but can use the resources via private non-internet routable addresses from your private VNet instead.</span></span>

<span data-ttu-id="ae47c-433">**Big Data y análisis** cuando necesita escalar verticalmente los datos hasta un volumen muy grande, las bases de datos pueden no escalar correctamente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-433">**Big Data/Analytics** When data needs to scale up to a very large volume, databases may not scale up properly.</span></span> <span data-ttu-id="ae47c-434">La tecnología de Hadoop ofrece un sistema para ejecutar consultas distribuidas en paralelo en un gran número de nodos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-434">Hadoop technology offers a system to run distributed queries in parallel on large number of nodes.</span></span> <span data-ttu-id="ae47c-435">Los clientes tienen la opción de ejecutar las cargas de trabajo de datos en máquinas virtuales IaaS o bien en PaaS ([HDInsight][HDI]).</span><span class="sxs-lookup"><span data-stu-id="ae47c-435">Customers have the option to run data workloads in IaaS VMs or PaaS ([HDInsight][HDI]).</span></span> <span data-ttu-id="ae47c-436">HDInsight admite la implementación en una red virtual basada en la ubicación y se puede implementar en un clúster en un radio del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="ae47c-436">HDInsight supports deploying into a location-based VNet, can be deployed to a cluster in a spoke of the VDC.</span></span>

<span data-ttu-id="ae47c-437">**Eventos y mensajería**.</span><span class="sxs-lookup"><span data-stu-id="ae47c-437">**Events and Messaging**.</span></span> <span data-ttu-id="ae47c-438">[Azure Event Hubs][EventHubs] es un servicio de ingestión de datos de telemetría a hiperescala que recopila, transforma y almacena millones de eventos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-438">[Azure Event Hubs][EventHubs] is a hyper-scale telemetry ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="ae47c-439">Como plataforma de streaming distribuida, ofrece retención de tiempo configurable y baja latencia, lo que permite recopilar grandes cantidades de datos de telemetría en Azure y leer los datos desde varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ae47c-439">As a distributed streaming platform, it offers low latency and configurable time retention, enabling you to ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="ae47c-440">Con Event Hubs, una única transmisión puede admitir canalizaciones en tiempo real y basadas en lotes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-440">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="ae47c-441">Se puede implementar un servicio de mensajería en la nube altamente confiable entre aplicaciones y servicios con [Azure Service Bus][ServiceBus] que ofrece mensajería asincrónica entre cliente y servidor, junto con mensajería de estructura primero en entrar primero en salir (FIFO) y funcionalidades de publicación y suscripción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-441">A highly reliable cloud messaging service between applications and services, can be implemented through [Azure Service Bus][ServiceBus] that offers asynchronous brokered messaging between client and server, along with structured first-in-first-out (FIFO) messaging and publish/subscribe capabilities.</span></span>

<span data-ttu-id="ae47c-442">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="ae47c-442">[![10]][10]</span></span>

### <a name="multiple-vdc"></a><span data-ttu-id="ae47c-443">Múltiples centros de datos virtuales</span><span class="sxs-lookup"><span data-stu-id="ae47c-443">Multiple VDC</span></span>
<span data-ttu-id="ae47c-444">Hasta ahora, este artículo se ha centrado en un único centro de datos virtual y la descripción de los componentes básicos y arquitectura que contribuyen a un centro de datos virtual resistente.</span><span class="sxs-lookup"><span data-stu-id="ae47c-444">So far, this article has focused on a single VDC, describing the basic components and architecture that contribute to a resilient VDC.</span></span> <span data-ttu-id="ae47c-445">Características de Azure como el equilibrador de carga de Azure, las aplicaciones virtuales de red, los conjuntos de disponibilidad, los conjuntos de escala y otros mecanismos contribuyen a un sistema que le permite crear niveles de SLA sólidos en los servicios de producción.</span><span class="sxs-lookup"><span data-stu-id="ae47c-445">Azure features such as Azure load balancer, NVAs, availability sets, scale sets, along with other mechanisms contribute to a system that allow you to build solid SLA levels into your production services.</span></span>

<span data-ttu-id="ae47c-446">Sin embargo, un único centro de datos virtual se hospeda en una única región y es vulnerable a una interrupción importante que pudiera afectar a toda esa región.</span><span class="sxs-lookup"><span data-stu-id="ae47c-446">However, a single VDC is hosted within a single region, and is vulnerable to major outage that might affect that entire region.</span></span> <span data-ttu-id="ae47c-447">Los clientes que desean lograr altos niveles de SLA necesitan proteger los servicios a través de implementaciones del mismo proyecto en dos (o más) centros de datos virtuales, ubicados en regiones diferentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-447">Customers that want to achieve high SLAs need to protect the services through deployments of the same project in two (or more) VDCs, placed in different regions.</span></span>

<span data-ttu-id="ae47c-448">Además de aspectos de SLA, hay varios escenarios comunes en los que tiene sentido implementar varios centros de datos virtuales:</span><span class="sxs-lookup"><span data-stu-id="ae47c-448">In addition to SLA concerns, there are several common scenarios where deploying multiple VDCs makes sense:</span></span>

-   <span data-ttu-id="ae47c-449">Presencia regional y global</span><span class="sxs-lookup"><span data-stu-id="ae47c-449">Regional/Global presence</span></span>
-   <span data-ttu-id="ae47c-450">Recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="ae47c-450">Disaster Recovery</span></span>
-   <span data-ttu-id="ae47c-451">Mecanismo para desviar el tráfico entre centros de datos</span><span class="sxs-lookup"><span data-stu-id="ae47c-451">Mechanism to divert traffic between DC</span></span>

#### <a name="regionalglobal-presence"></a><span data-ttu-id="ae47c-452">Presencia regional y global</span><span class="sxs-lookup"><span data-stu-id="ae47c-452">Regional/global presence</span></span>
<span data-ttu-id="ae47c-453">Los centros de datos de Azure están presentes en varias regiones de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-453">Azure data centers are present in numerous regions worldwide.</span></span> <span data-ttu-id="ae47c-454">Al seleccionar varios centros de datos de Azure, los clientes deben tener en cuenta dos factores relacionados: distancias geográficas y latencia.</span><span class="sxs-lookup"><span data-stu-id="ae47c-454">When selecting multiple Azure data centers, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="ae47c-455">Los clientes necesitan evaluar la distancia geográfica entre los centros de datos virtuales y la distancia entre los centros de datos virtuales y los usuarios finales para ofrecer la mejor experiencia de usuario.</span><span class="sxs-lookup"><span data-stu-id="ae47c-455">Customers need to evaluate the geographical distance between the VDCs and  the distance between the VDC and the end users, to offer the best user experience.</span></span>

<span data-ttu-id="ae47c-456">La región de Azure donde se hospedan los centros de datos virtuales también debe cumplir con los requisitos de regulación establecidos por cualquier jurisdicción en la que opere la organización.</span><span class="sxs-lookup"><span data-stu-id="ae47c-456">The Azure Region where VDCs are hosted also need to conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="ae47c-457">Recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="ae47c-457">Disaster recovery</span></span>
<span data-ttu-id="ae47c-458">La implementación de un plan de recuperación ante desastres está muy relacionada con el tipo de carga de trabajo del que se trate y la capacidad de sincronizar el estado de la carga de trabajo entre diferentes centros de datos virtuales.</span><span class="sxs-lookup"><span data-stu-id="ae47c-458">The implementation of a disaster recovery plan is strongly related to the type of workload concerned, and the ability to synchronize the workload state between different VDCs.</span></span> <span data-ttu-id="ae47c-459">De un modo ideal, la mayoría de los clientes desea sincronizar los datos de aplicación entre dos implementaciones que se ejecutan en dos centros de datos virtuales diferentes para implementar un mecanismo de conmutación por error rápido.</span><span class="sxs-lookup"><span data-stu-id="ae47c-459">Ideally, most customers want to synchronize application data between deployments running in two different VDCs to implement a fast fail-over mechanism.</span></span> <span data-ttu-id="ae47c-460">La mayoría de las aplicaciones es sensible a la latencia, lo que puede provocar un posible tiempo de espera y retraso en la sincronización de los datos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-460">Most applications are sensitive to latency, and that can cause potential timeout and delay in data synchronization.</span></span>

<span data-ttu-id="ae47c-461">La sincronización o la supervisión de latido de aplicaciones en diferentes centros de datos virtuales exige comunicación entre ellos.</span><span class="sxs-lookup"><span data-stu-id="ae47c-461">Synchronization or heartbeat monitoring of applications in different VDCs requires communication between them.</span></span> <span data-ttu-id="ae47c-462">Dos centros de datos virtuales en regiones diferentes pueden estar conectados a través de:</span><span class="sxs-lookup"><span data-stu-id="ae47c-462">Two VDCs in different regions can be connected through:</span></span>

-   <span data-ttu-id="ae47c-463">Emparejamiento de redes virtuales: permite la conexión de centros de diferentes regiones</span><span class="sxs-lookup"><span data-stu-id="ae47c-463">VNet Peering - VNet Peering can connect hubs across regions</span></span>
-   <span data-ttu-id="ae47c-464">Emparejamiento privado de ExpressRoute cuando los concentradores de los centros de datos virtuales están conectados al mismo circuito de ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="ae47c-464">ExpressRoute private peering when the VDC hubs are connected to the same ExpressRoute circuit</span></span>
-   <span data-ttu-id="ae47c-465">Varios circuitos de ExpressRoute conectados a través de la red troncal corporativa y la malla de centros de datos virtuales conectada a circuitos de ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="ae47c-465">multiple ExpressRoute circuits connected via your corporate backbone and your VDC mesh connected to the ExpressRoute circuits</span></span>
-   <span data-ttu-id="ae47c-466">Conexiones VPN de sitio a sitio entre los concentradores de los centros de datos virtuales en cada región de Azure</span><span class="sxs-lookup"><span data-stu-id="ae47c-466">Site-to-Site VPN connections between your VDC hubs in each Azure Region</span></span>

<span data-ttu-id="ae47c-467">Normalmente se prefiere el mecanismo de conexión ExpressRoute o de enrutamiento de redes virtuales por su mayor ancho de banda y latencia coherente al transitar por la red troncal de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ae47c-467">Usually VNet Peering or ExpressRoute connections are the preferred mechanism due higher bandwidth and consistent latency when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="ae47c-468">No hay ninguna receta mágica para validar una aplicación distribuida entre dos (o más) centros de datos virtuales diferentes ubicados en regiones diferentes.</span><span class="sxs-lookup"><span data-stu-id="ae47c-468">There is no magic recipe to validate an application distributed between two (or more) different VDCs located in different regions.</span></span> <span data-ttu-id="ae47c-469">Los clientes deben ejecutar pruebas de calificación de red para comprobar la latencia y el ancho de banda de las conexiones y decidir si la replicación de datos sincrónica o asincrónica es adecuada y cuál puede ser el objetivo de tiempo de recuperación óptimo (RTO) para las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="ae47c-469">Customers should run network qualification tests to verify the latency and bandwidth of the connections and target whether synchronous or asynchronous data replication is appropriate and what the optimal recovery time objective (RTO) can be for your workloads.</span></span>

#### <a name="mechanism-to-divert-traffic-between-dc"></a><span data-ttu-id="ae47c-470">Mecanismo para desviar el tráfico entre centros de datos</span><span class="sxs-lookup"><span data-stu-id="ae47c-470">Mechanism to divert traffic between DC</span></span>
<span data-ttu-id="ae47c-471">Una técnica eficaz para desviar el tráfico entrante en un centro de datos a otro se basa en DNS.</span><span class="sxs-lookup"><span data-stu-id="ae47c-471">One effective technique to divert the traffic incoming in one DC to another is based on DNS.</span></span> <span data-ttu-id="ae47c-472">[Azure Traffic Manager][TM] utiliza el mecanismo de sistema de nombres de dominio (DNS) para dirigir el tráfico del usuario final hacia el punto de conexión público más adecuado en un centro de datos específico.</span><span class="sxs-lookup"><span data-stu-id="ae47c-472">[Azure Traffic Manager][TM] uses the Domain Name System (DNS) mechanism to direct the end-user traffic to the most appropriate public endpoint in a specific VDC.</span></span> <span data-ttu-id="ae47c-473">Mediante sondeos, Traffic Manager comprueba periódicamente el estado del servicio de los puntos de conexión públicos en centros de datos virtuales diferentes y, en caso de error en esos puntos de conexión, enruta automáticamente al centro de datos virtual secundario.</span><span class="sxs-lookup"><span data-stu-id="ae47c-473">Through probes, Traffic Manager periodically checks the service health of public endpoints in different VDCs and, in case of failure of those endpoints, it routes automatically to the secondary VDC.</span></span>

<span data-ttu-id="ae47c-474">Traffic Manager funciona en puntos de conexión públicos de Azure y puede utilizarse, por ejemplo, para controlar y desviar el tráfico a Web Apps y Azure Virtual Machines en el centro de datos virtual adecuado.</span><span class="sxs-lookup"><span data-stu-id="ae47c-474">Traffic Manager works on Azure public endpoints and can be used, for example, to control/divert traffic to Azure VMs and Web Apps in the appropriate VDC.</span></span> <span data-ttu-id="ae47c-475">Traffic Manager es resistente incluso al enfrentarse un error de una región de Azure completa y puede controlar la distribución del tráfico de usuario hacia puntos de conexión de servicio en centros de datos virtuales diferentes en función de varios criterios (por ejemplo, error de un servicio en un centro de datos virtual específico o seleccionar el centro de datos virtual con la menor latencia de red para el cliente).</span><span class="sxs-lookup"><span data-stu-id="ae47c-475">Traffic Manager is resilient even in the face of an entire Azure region failing and can control the distribution of user traffic for service endpoints in different VDCs based on several criteria (for instance, failure of a service in a specific VDC, or selecting the VDC with the lowest network latency for the client).</span></span>

### <a name="conclusion"></a><span data-ttu-id="ae47c-476">Conclusión</span><span class="sxs-lookup"><span data-stu-id="ae47c-476">Conclusion</span></span>
<span data-ttu-id="ae47c-477">El centro de datos virtual es un enfoque para la migración del centro de datos a la nube que utiliza una combinación de características y funcionalidades para crear una arquitectura escalable de Azure que maximiza el uso de recursos en la nube, se reducen los costos y se simplifica la regulación de sistema.</span><span class="sxs-lookup"><span data-stu-id="ae47c-477">The Virtual Data Center is an approach to data center migration into the cloud that uses a combination of features and capabilities to create a scalable architecture in Azure that maximizes cloud resource use, reducing costs, and simplifying system governance.</span></span> <span data-ttu-id="ae47c-478">El concepto de centro de datos virtual se basa en una topología de concentrador y radios que proporciona servicios compartidos comunes en el concentrador y permite aplicaciones y cargas de trabajo específicas en los radios.</span><span class="sxs-lookup"><span data-stu-id="ae47c-478">The VDC concept is based on a hub-spokes topology, providing common shared services in the hub and allowing specific applications/workloads in the spokes.</span></span> <span data-ttu-id="ae47c-479">El centro de datos virtual coincide con la estructura de roles de la empresa, donde diferentes departamentos (TI Central, DevOps, operaciones y mantenimiento) funcionan conjuntamente, cada uno con una lista específica de roles y tareas.</span><span class="sxs-lookup"><span data-stu-id="ae47c-479">A VDC matches the structure of company roles, where different departments (Central IT, DevOps, operation and maintenance) work together, each with a specific list of roles and duties.</span></span> <span data-ttu-id="ae47c-480">El centro de datos virtual cumple los requisitos de una migración "levantar y mover", pero también proporciona muchas ventajas para las implementaciones nativas en la nube.</span><span class="sxs-lookup"><span data-stu-id="ae47c-480">A VDC satisfies the requirements for a "Lift and Shift" migration, but also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="ae47c-481">Referencias</span><span class="sxs-lookup"><span data-stu-id="ae47c-481">References</span></span>
<span data-ttu-id="ae47c-482">Las siguientes características se describen en este documento.</span><span class="sxs-lookup"><span data-stu-id="ae47c-482">The following features were discussed in this document.</span></span> <span data-ttu-id="ae47c-483">Haga clic en los vínculos para más información.</span><span class="sxs-lookup"><span data-stu-id="ae47c-483">Click the links to learn more.</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="ae47c-484">Características de red</span><span class="sxs-lookup"><span data-stu-id="ae47c-484">Network Features</span></span>|<span data-ttu-id="ae47c-485">Equilibrio de carga</span><span class="sxs-lookup"><span data-stu-id="ae47c-485">Load Balancing</span></span>|<span data-ttu-id="ae47c-486">Conectividad</span><span class="sxs-lookup"><span data-stu-id="ae47c-486">Connectivity</span></span>|
|<span data-ttu-id="ae47c-487">[Redes virtuales de Azure][VNet]</span><span class="sxs-lookup"><span data-stu-id="ae47c-487">[Azure Virtual Networks][VNet]</span></span></br><span data-ttu-id="ae47c-488">[Grupos de seguridad de red][NSG]</span><span class="sxs-lookup"><span data-stu-id="ae47c-488">[Network Security Groups][NSG]</span></span></br><span data-ttu-id="ae47c-489">[Registros NSG][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="ae47c-489">[NSG Logs][NSGLog]</span></span></br><span data-ttu-id="ae47c-490">[Enrutamiento definido por el usuario][UDR]</span><span class="sxs-lookup"><span data-stu-id="ae47c-490">[User Defined Routing][UDR]</span></span></br><span data-ttu-id="ae47c-491">[Aplicaciones virtuales de red][NVA]</span><span class="sxs-lookup"><span data-stu-id="ae47c-491">[Network Virtual Appliances][NVA]</span></span></br><span data-ttu-id="ae47c-492">[Direcciones IP públicas][PIP]</span><span class="sxs-lookup"><span data-stu-id="ae47c-492">[Public IP Addresses][PIP]</span></span></br><span data-ttu-id="ae47c-493">[DNS]</span><span class="sxs-lookup"><span data-stu-id="ae47c-493">[DNS]</span></span>|<span data-ttu-id="ae47c-494">[Azure Load Balancer (L3) ][ALB]</span><span class="sxs-lookup"><span data-stu-id="ae47c-494">[Azure Load Balancer (L3) ][ALB]</span></span></br><span data-ttu-id="ae47c-495">[Application Gateway (L7) ][AppGW]</span><span class="sxs-lookup"><span data-stu-id="ae47c-495">[Application Gateway (L7) ][AppGW]</span></span></br><span data-ttu-id="ae47c-496">[Firewall de aplicaciones web][WAF]</span><span class="sxs-lookup"><span data-stu-id="ae47c-496">[Web Application Firewall][WAF]</span></span></br><span data-ttu-id="ae47c-497">[Azure Traffic Manager][TM]</span><span class="sxs-lookup"><span data-stu-id="ae47c-497">[Azure Traffic Manager][TM]</span></span> |<span data-ttu-id="ae47c-498">[Emparejamiento de redes virtuales][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="ae47c-498">[VNet Peering][VNetPeering]</span></span></br><span data-ttu-id="ae47c-499">[Red privada virtual][VPN]</span><span class="sxs-lookup"><span data-stu-id="ae47c-499">[Virtual Private Network][VPN]</span></span></br><span data-ttu-id="ae47c-500">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="ae47c-500">[ExpressRoute][ExR]</span></span>
|<span data-ttu-id="ae47c-501">Identidad</span><span class="sxs-lookup"><span data-stu-id="ae47c-501">Identity</span></span></br>|<span data-ttu-id="ae47c-502">Supervisión</span><span class="sxs-lookup"><span data-stu-id="ae47c-502">Monitoring</span></span></br>|<span data-ttu-id="ae47c-503">Prácticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="ae47c-503">Best Practices</span></span></br>|
|<span data-ttu-id="ae47c-504">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="ae47c-504">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="ae47c-505">[Multi-Factor Authentication][MFA]</span><span class="sxs-lookup"><span data-stu-id="ae47c-505">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="ae47c-506">[Control de acceso basado en roles][RBAC]</span><span class="sxs-lookup"><span data-stu-id="ae47c-506">[Role Base Access Controls][RBAC]</span></span></br><span data-ttu-id="ae47c-507">[Roles predeterminados de AAD][Roles]</span><span class="sxs-lookup"><span data-stu-id="ae47c-507">[Default AAD Roles][Roles]</span></span> |<span data-ttu-id="ae47c-508">[Azure Monitor][Monitor]</span><span class="sxs-lookup"><span data-stu-id="ae47c-508">[Azure Monitor][Monitor]</span></span></br><span data-ttu-id="ae47c-509">[Registros de actividad][ActLog]</span><span class="sxs-lookup"><span data-stu-id="ae47c-509">[Activity Logs][ActLog]</span></span></br><span data-ttu-id="ae47c-510">[Registros de diagnóstico][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="ae47c-510">[Diagnostic Logs][DiagLog]</span></span></br><span data-ttu-id="ae47c-511">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="ae47c-511">[Microsoft Operations Management Suite][OMS]</span></span></br><span data-ttu-id="ae47c-512">[Network Performance Monitor][NPM]</span><span class="sxs-lookup"><span data-stu-id="ae47c-512">[Network Performance Monitor][NPM]</span></span>|<span data-ttu-id="ae47c-513">[Procedimientos recomendados en redes perimetrales][DMZ]</span><span class="sxs-lookup"><span data-stu-id="ae47c-513">[Perimeter Networks Best Practices][DMZ]</span></span></br><span data-ttu-id="ae47c-514">[Administración de suscripciones][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="ae47c-514">[Subscription Management][SubMgmt]</span></span></br><span data-ttu-id="ae47c-515">[Administración de grupos de recursos][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="ae47c-515">[Resource Group Management][RGMgmt]</span></span></br><span data-ttu-id="ae47c-516">[Límites de la suscripción de Azure][Limits]</span><span class="sxs-lookup"><span data-stu-id="ae47c-516">[Azure Subscription Limits][Limits]</span></span> |
|<span data-ttu-id="ae47c-517">Otros servicios de Azure</span><span class="sxs-lookup"><span data-stu-id="ae47c-517">Other Azure Services</span></span>|
|<span data-ttu-id="ae47c-518">[Azure Web Apps][WebApps]</span><span class="sxs-lookup"><span data-stu-id="ae47c-518">[Azure Web Apps][WebApps]</span></span></br><span data-ttu-id="ae47c-519">[HDInsights (Hadoop) ][HDI]</span><span class="sxs-lookup"><span data-stu-id="ae47c-519">[HDInsights (Hadoop) ][HDI]</span></span></br><span data-ttu-id="ae47c-520">[Event Hubs][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="ae47c-520">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="ae47c-521">[Service Bus][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="ae47c-521">[Service Bus][ServiceBus]</span></span>|



## <a name="next-steps"></a><span data-ttu-id="ae47c-522">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="ae47c-522">Next Steps</span></span>
 - <span data-ttu-id="ae47c-523">Explore [Emparejamiento de redes virtuales][VNetPeering], la tecnología subyacente a los diseños de concentrador y radio del centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="ae47c-523">Explore [VNet Peering][VNetPeering], the underpinning technology for VDC hub and spoke designs</span></span>
 - <span data-ttu-id="ae47c-524">Implemente [AAD][AAD] para empezar a trabajar con la exploración de [RBAC][RBAC]</span><span class="sxs-lookup"><span data-stu-id="ae47c-524">Implement [AAD][AAD] to get started with [RBAC][RBAC] exploration</span></span>
 - <span data-ttu-id="ae47c-525">Desarrolle un modelo para la administración de los recursos y suscripciones, y un modelo de RBAC para satisfacer la estructura, requisitos y directivas de su organización.</span><span class="sxs-lookup"><span data-stu-id="ae47c-525">Develop a Subscription and Resource management model and RBAC model to meet the structure, requirements, and polices of your organization.</span></span> <span data-ttu-id="ae47c-526">La actividad más importante es el planeamiento.</span><span class="sxs-lookup"><span data-stu-id="ae47c-526">The most important activity is planning.</span></span> <span data-ttu-id="ae47c-527">Siempre que resulte práctico, planee reorganizaciones, fusiones, nuevas líneas de producto, etc.</span><span class="sxs-lookup"><span data-stu-id="ae47c-527">As much as practical, plan for reorganizations, mergers, new product lines, etc.</span></span>

<!--Image References-->
[0]: ./images/networking-redundant-equipment.png "Ejemplos de superposición de componentes" 
[1]: ./images/networking-vdc-high-level.png "Ejemplo genérico de centro de datos virtual con concentrador y radios"
[2]: ./images/networking-hub-spokes-cluster.png "Clúster de concentradores y radios"
[3]: ./images/networking-spoke-to-spoke.png "Radio a radio"
[4]: ./images/networking-vdc-block-level-diagram.png "Diagrama de nivel de bloques del centro de datos virtual"
[5]: ./images/networking-users-groups-subsciptions.png "Usuarios, grupos, suscripciones y proyectos"
[6]: ./images/networking-infrastructure-high-level.png "Diagrama genérico de infraestructura"
[7]: ./images/networking-highlevel-perimeter-networks.png "Diagrama genérico de infraestructura"
[8]: ./images/networking-vnet-peering-perimeter-neworks.png "Emparejamiento de VNET y redes perimetrales"
[9]: ./images/networking-high-level-diagram-monitoring.png "Diagrama genérico para supervisión"
[10]: ./images/networking-high-level-workloads.png "Diagrama genérico para cargas de trabajo"

<!--Link References-->
[Limits]: /azure/azure-subscription-service-limits
[Roles]: /azure/role-based-access-control/built-in-roles
[VNet]: /azure/virtual-network/virtual-networks-overview
[NSG]: /azure/virtual-network/virtual-networks-nsg
[DNS]: /azure/dns/dns-overview
[PrivateDNS]: /azure/dns/private-dns-overview
[VNetPeering]: /azure/virtual-network/virtual-network-peering-overview 
[UDR]: /azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: /azure/role-based-access-control/overview
[MFA]: /azure/multi-factor-authentication/multi-factor-authentication
[AAD]: /azure/active-directory/active-directory-whatis
[VPN]: /azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: /azure/expressroute/expressroute-introduction 
[NVA]: /azure/architecture/reference-architectures/dmz/nva-ha
[SubMgmt]: /azure/azure-resource-manager/resource-manager-subscription-governance 
[RGMgmt]: /azure/azure-resource-manager/resource-group-overview
[DMZ]: /azure/best-practices-network-security
[ALB]: /azure/load-balancer/load-balancer-overview
[PIP]: /azure/virtual-network/resource-groups-networking#public-ip-address
[AppGW]: /azure/application-gateway/application-gateway-introduction
[WAF]: /azure/application-gateway/application-gateway-web-application-firewall-overview
[Monitor]: /azure/monitoring-and-diagnostics/
[ActLog]: /azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: /azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: /azure/operations-management-suite/operations-management-suite-overview
[NPM]: /azure/log-analytics/log-analytics-network-performance-monitor
[WebApps]: /azure/app-service/
[HDI]: /azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: /azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: /azure/service-bus-messaging/service-bus-messaging-overview
[TM]: /azure/traffic-manager/traffic-manager-overview
