---
title: Prácticas recomendadas para empresas que migran su infraestructura a Azure
description: En este artículo se describe una plantilla scaffold que las empresas pueden utilizar para garantizar que el entorno sea seguro y fácil de administrar.
author: rdendtler
ms.date: 03/31/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: 91adce796ae7785d3831e9628fce0193076eec9b
ms.sourcegitcommit: f4069cf68456b5c74acb1b890dc4e45e11f12b59
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/04/2018
ms.locfileid: "43675790"
---
# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a><span data-ttu-id="9bf86-103">Scaffolding empresarial de Azure: gobierno de suscripción preceptivo</span><span class="sxs-lookup"><span data-stu-id="9bf86-103">Azure enterprise scaffold - prescriptive subscription governance</span></span>
<span data-ttu-id="9bf86-104">Cada vez son más las empresas que adoptan la tecnología de nube pública para ganar agilidad y flexibilidad.</span><span class="sxs-lookup"><span data-stu-id="9bf86-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="9bf86-105">Aprovechan los puntos fuertes de la nube para generar ingresos u optimizar los recursos de la empresa.</span><span class="sxs-lookup"><span data-stu-id="9bf86-105">They are utilizing the cloud's strengths to generate revenue or optimize resources for the business.</span></span> <span data-ttu-id="9bf86-106">Microsoft Azure proporciona un gran número de servicios que las empresas pueden ensamblar como bloques de creación con el objetivo de abordar diversas aplicaciones y cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-106">Microsoft Azure provides a multitude of services that enterprises can assemble like building blocks to address a wide array of workloads and applications.</span></span> 

<span data-ttu-id="9bf86-107">Sin embargo, a menudo es difícil saber por dónde comenzar.</span><span class="sxs-lookup"><span data-stu-id="9bf86-107">But, knowing where to begin is often difficult.</span></span> <span data-ttu-id="9bf86-108">Después de decantarse por Azure, suelen surgirles unas cuantas preguntas:</span><span class="sxs-lookup"><span data-stu-id="9bf86-108">After deciding to use Azure, a few questions commonly arise:</span></span>

* <span data-ttu-id="9bf86-109">"¿Cómo puedo cumplir los requisitos legales de soberanía de datos en determinados países?"</span><span class="sxs-lookup"><span data-stu-id="9bf86-109">"How do I meet our legal requirements for data sovereignty in certain countries?"</span></span>
* <span data-ttu-id="9bf86-110">"¿Cómo puedo asegurarme de que alguien no modifique por error un sistema importante?"</span><span class="sxs-lookup"><span data-stu-id="9bf86-110">"How do I ensure that someone does not inadvertently change a critical system?"</span></span>
* <span data-ttu-id="9bf86-111">"¿Cómo puedo saber lo que cada recurso admite para poder tenerlo en cuenta y realizar la facturación de forma adecuada?"</span><span class="sxs-lookup"><span data-stu-id="9bf86-111">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>

<span data-ttu-id="9bf86-112">La posibilidad de que existan suscripciones vacías sin ninguna protección es desalentadora.</span><span class="sxs-lookup"><span data-stu-id="9bf86-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="9bf86-113">Este espacio en blanco puede dificultar la migración a Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="9bf86-114">En este artículo se ofrece un punto de partida para que los profesionales técnicos satisfagan la necesidad de contar con un sistema de gobierno y la equilibren con el imperativo de ganar agilidad.</span><span class="sxs-lookup"><span data-stu-id="9bf86-114">This article provides a starting point for technical professionals to address the need for governance, and balance it with the need for agility.</span></span> <span data-ttu-id="9bf86-115">Además, se presenta el concepto de scaffolding empresarial, que guía a las organizaciones en la implementación y administración de suscripciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure subscriptions.</span></span> 

## <a name="need-for-governance"></a><span data-ttu-id="9bf86-116">Necesidad de contar con un sistema de gobierno</span><span class="sxs-lookup"><span data-stu-id="9bf86-116">Need for governance</span></span>
<span data-ttu-id="9bf86-117">Al migrar la infraestructura a Azure, hay que abordar el asunto del sistema de gobierno en la primera fase para garantizar que la nube se utilice correctamente en la empresa.</span><span class="sxs-lookup"><span data-stu-id="9bf86-117">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="9bf86-118">Desafortunadamente, debido al tiempo que se tarda en crear un sistema de gobierno completo y toda la administración que conlleva, algunos grupos de negocios recurren directamente a los proveedores sin contar con su equipo de TI.</span><span class="sxs-lookup"><span data-stu-id="9bf86-118">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to vendors without involving enterprise IT.</span></span> <span data-ttu-id="9bf86-119">Este enfoque puede dejar a la empresa expuesta a vulnerabilidades si los recursos no se administran correctamente.</span><span class="sxs-lookup"><span data-stu-id="9bf86-119">This approach can leave the enterprise open to vulnerabilities if the resources are not properly managed.</span></span> <span data-ttu-id="9bf86-120">Las características de la nube pública —agilidad, flexibilidad y precios basados en el consumo— son importantes para los grupos de negocios que necesitan satisfacer rápidamente las necesidades de los clientes (internos y externos).</span><span class="sxs-lookup"><span data-stu-id="9bf86-120">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="9bf86-121">Sin embargo, el equipo de TI de la empresa debe garantizar que los datos y sistemas estén protegidos de forma eficaz.</span><span class="sxs-lookup"><span data-stu-id="9bf86-121">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="9bf86-122">En condiciones reales, se utiliza la técnica scaffolding para crear la base de la estructura.</span><span class="sxs-lookup"><span data-stu-id="9bf86-122">In real life, scaffolding is used to create the basis of the structure.</span></span> <span data-ttu-id="9bf86-123">Las plantillas scaffold sirven de guía para el esquema general y proporcionan puntos de anclaje para poder montar sistemas más permanentes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-123">The scaffold guides the general outline, and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="9bf86-124">Las scaffold empresariales son lo mismo: una serie de controles flexibles y funcionalidades de Azure que proporcionan la estructura al entorno, así como delimitadores para los servicios basados en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="9bf86-124">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="9bf86-125">Además, brindan a los fabricantes (grupos de negocio y departamentos de TI) los cimientos para crear y asociar nuevos servicios.</span><span class="sxs-lookup"><span data-stu-id="9bf86-125">It provides the builders (IT and business groups) a foundation to create and attach new services.</span></span>

<span data-ttu-id="9bf86-126">Estas plantillas se basan en las prácticas que hemos recopilado de muchas interacciones con clientes de varios tamaños.</span><span class="sxs-lookup"><span data-stu-id="9bf86-126">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="9bf86-127">Desde pequeñas organizaciones que desarrollan soluciones en la nube para empresas de la lista Fortune 500 hasta fabricantes independientes de software que van a migrar y desarrollar soluciones en la nube.</span><span class="sxs-lookup"><span data-stu-id="9bf86-127">Those clients range from small organizations developing solutions in the cloud to Fortune 500 enterprises and independent software vendors who are migrating and developing solutions in the cloud.</span></span> <span data-ttu-id="9bf86-128">Las plantillas scaffold empresariales se han creado con la suficiente flexibilidad como para admitir las cargas de trabajo de TI tradicionales y las del método ágil; por ejemplo, los desarrolladores que crean aplicaciones de software como servicio (SaaS) basadas en las funcionalidades de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-128">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure capabilities.</span></span>

<span data-ttu-id="9bf86-129">Asimismo, están diseñadas para ser el pilar de todas las suscripciones nuevas de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-129">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="9bf86-130">Estas plantillas permiten a los administradores asegurarse de que las cargas de trabajo cumplan los requisitos mínimos de gobierno de una organización sin impedir que los grupos de negocios y los desarrolladores cumplan rápidamente sus objetivos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-130">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9bf86-131">Contar con un sistema de gobierno es fundamental para que Azure tenga éxito.</span><span class="sxs-lookup"><span data-stu-id="9bf86-131">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="9bf86-132">En este artículo se aborda la implementación técnica de una scaffold empresarial, pero solo se mencionan el proceso más amplio y las relaciones entre los componentes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-132">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="9bf86-133">El gobierno de directivas es jerárquico y viene determinado por lo que la empresa desee conseguir.</span><span class="sxs-lookup"><span data-stu-id="9bf86-133">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="9bf86-134">Naturalmente, en la creación de un modelo de gobierno de Azure participan los representantes del departamento de TI. Sin embargo, es más importante que los líderes del grupo de negocios y los responsables de seguridad y riesgos tengan una importante representación en dicho proceso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-134">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="9bf86-135">Al final, una scaffold empresarial tiene que ver con mitigar los riesgos empresariales para facilitar la misión y los objetivos de la organización.</span><span class="sxs-lookup"><span data-stu-id="9bf86-135">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives.</span></span>
> 
> 

<span data-ttu-id="9bf86-136">En la imagen siguiente se describen los componentes de la scaffold.</span><span class="sxs-lookup"><span data-stu-id="9bf86-136">The following image describes the components of the scaffold.</span></span> <span data-ttu-id="9bf86-137">La base se sustenta en un plan sólido para departamentos, cuentas y suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-137">The foundation relies on a solid plan for departments, accounts, and subscriptions.</span></span> <span data-ttu-id="9bf86-138">Los pilares constan de directivas de Resource Manager y de estándares de nomenclatura eficaces.</span><span class="sxs-lookup"><span data-stu-id="9bf86-138">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="9bf86-139">El resto de los componentes provienen de las principales funcionalidades y características de Azure que posibilitan un entorno seguro y fácil de administrar.</span><span class="sxs-lookup"><span data-stu-id="9bf86-139">The rest of the scaffold comes from core Azure capabilities and features that enable a secure and manageable environment.</span></span>

![Componentes de una plantilla scaffold](./_images/components.png)

> [!NOTE]
> <span data-ttu-id="9bf86-141">Azure ha crecido rápidamente desde que se presentara en el 2008.</span><span class="sxs-lookup"><span data-stu-id="9bf86-141">Azure has grown rapidly since its introduction in 2008.</span></span> <span data-ttu-id="9bf86-142">Debido a este desarrollo, los equipos de ingeniería de Microsoft tuvieron que replantear su enfoque de administración e implementación de servicios.</span><span class="sxs-lookup"><span data-stu-id="9bf86-142">This growth required Microsoft engineering teams to rethink their approach for managing and deploying services.</span></span> <span data-ttu-id="9bf86-143">El modelo de Azure Resource Manager se introdujo en 2014 y reemplaza al de implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="9bf86-143">The Azure Resource Manager model was introduced in 2014 and replaces the classic deployment model.</span></span> <span data-ttu-id="9bf86-144">Resource Manager permite a las organizaciones implementar, organizar y controlar los recursos de Azure de una forma más sencilla.</span><span class="sxs-lookup"><span data-stu-id="9bf86-144">Resource Manager enables organizations to more easily deploy, organize, and control Azure resources.</span></span> <span data-ttu-id="9bf86-145">Además, con esta herramienta se pueden crear recursos de forma paralela, de modo que es posible implementar más rápido soluciones complejas e interdependientes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-145">Resource Manager includes parallelization when creating resources for faster deployment of complex, interdependent solutions.</span></span> <span data-ttu-id="9bf86-146">También se puede controlar el acceso de manera pormenorizada y etiquetar los recursos con metadatos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-146">It also includes granular access control, and the ability to tag resources with metadata.</span></span> <span data-ttu-id="9bf86-147">Microsoft recomienda crear todos los recursos mediante el modelo de implementación de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9bf86-147">Microsoft recommends that you create all resources through the Resource Manager model.</span></span> <span data-ttu-id="9bf86-148">Las plantillas scaffold empresariales se han diseñado expresamente para el modelo de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9bf86-148">The enterprise scaffold is explicitly designed for the Resource Manager model.</span></span>
> 
> 

## <a name="define-your-hierarchy"></a><span data-ttu-id="9bf86-149">Definición de la jerarquía</span><span class="sxs-lookup"><span data-stu-id="9bf86-149">Define your hierarchy</span></span>
<span data-ttu-id="9bf86-150">La base de una plantilla scaffold es la inscripción de Azure Enterprise (y Enterprise Portal).</span><span class="sxs-lookup"><span data-stu-id="9bf86-150">The foundation of the scaffold is the Azure Enterprise Enrollment (and the Enterprise Portal).</span></span> <span data-ttu-id="9bf86-151">La inscripción Enterprise define la forma y el uso de los servicios de Azure en una empresa y su estructura de gobierno básica.</span><span class="sxs-lookup"><span data-stu-id="9bf86-151">The enterprise enrollment defines the shape and use of Azure services within a company and is the core governance structure.</span></span> <span data-ttu-id="9bf86-152">En el contrato Enterprise, los clientes pueden subdividir el entorno en departamentos, cuentas y, finalmente, suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-152">Within the enterprise agreement, customers are able to further subdivide the environment into departments, accounts, and finally, subscriptions.</span></span> <span data-ttu-id="9bf86-153">Una suscripción de Azure es la unidad básica donde se encuentran todos los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-153">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="9bf86-154">También define varios límites en Azure, como el número de núcleos, recursos, etc.</span><span class="sxs-lookup"><span data-stu-id="9bf86-154">It also defines several limits within Azure, such as number of cores, resources, etc.</span></span>

![Jerarquía](./_images/agreement.png)

<span data-ttu-id="9bf86-156">Cada empresa es diferente, y la jerarquía de la imagen anterior permite una gran flexibilidad en lo que respecta a cómo se organiza Azure en la empresa.</span><span class="sxs-lookup"><span data-stu-id="9bf86-156">Every enterprise is different and the hierarchy in the previous image allows for significant flexibility in how Azure is organized within the company.</span></span> <span data-ttu-id="9bf86-157">Antes de implementar las instrucciones de este documento, debe modelar la jerarquía y comprender el impacto en la facturación, el acceso a los recursos y la complejidad.</span><span class="sxs-lookup"><span data-stu-id="9bf86-157">Before implementing the guidance contained in this document, you should model your hierarchy and understand the impact on billing, resource access, and complexity.</span></span>

<span data-ttu-id="9bf86-158">Los tres patrones comunes de las inscripciones de Azure son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-158">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="9bf86-159">El patrón **funcional**</span><span class="sxs-lookup"><span data-stu-id="9bf86-159">The **functional** pattern</span></span>
  
    ![functional](./_images/functional.png)
* <span data-ttu-id="9bf86-161">El patrón de **unidad de negocio**</span><span class="sxs-lookup"><span data-stu-id="9bf86-161">The **business unit** pattern</span></span> 
  
    ![Patrón de unidad de negocio](./_images/business.png)
* <span data-ttu-id="9bf86-163">El patrón **geográfico**</span><span class="sxs-lookup"><span data-stu-id="9bf86-163">The **geographic** pattern</span></span>
  
    ![Patrón geográfico](./_images/geographic.png)

<span data-ttu-id="9bf86-165">Las plantillas scaffold se aplican en el nivel de suscripción para ampliar los requisitos de gobierno de la empresa en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="9bf86-165">You apply the scaffold at the subscription level to extend the governance requirements of the enterprise into the subscription.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="9bf86-166">Estándares de nomenclatura</span><span class="sxs-lookup"><span data-stu-id="9bf86-166">Naming standards</span></span>
<span data-ttu-id="9bf86-167">El primer pilar de una plantilla scaffold son los estándares de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="9bf86-167">The first pillar of the scaffold is naming standards.</span></span> <span data-ttu-id="9bf86-168">Cuando se diseñan bien, se pueden identificar los recursos en el portal, en una factura y en los scripts.</span><span class="sxs-lookup"><span data-stu-id="9bf86-168">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="9bf86-169">Es probable que ya tenga estándares de nomenclatura para la infraestructura local.</span><span class="sxs-lookup"><span data-stu-id="9bf86-169">Most likely, you already have naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="9bf86-170">Al agregar Azure a su entorno, debe extender estos estándares de nomenclatura a los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-170">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span> <span data-ttu-id="9bf86-171">Un estándar de nomenclatura permite administrar de forma más eficaz el entorno en todos los niveles.</span><span class="sxs-lookup"><span data-stu-id="9bf86-171">Naming standard facilitate more efficient management of the environment at all levels.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-172">Convenciones de nomenclatura:</span><span class="sxs-lookup"><span data-stu-id="9bf86-172">For naming conventions:</span></span>
> * <span data-ttu-id="9bf86-173">Revise y adopte siempre que sea posible esta [guía de patrones y prácticas](../../best-practices/naming-conventions.md),</span><span class="sxs-lookup"><span data-stu-id="9bf86-173">Review and adopt where possible the [Patterns and Practices guidance](../../best-practices/naming-conventions.md).</span></span> <span data-ttu-id="9bf86-174">que lo ayudará a decidirse por un estándar de nomenclatura significativo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-174">This guidance helps you decide on a meaningful naming standard.</span></span>
> * <span data-ttu-id="9bf86-175">Alterne el uso de mayúsculas y minúsculas en los nombres de recursos (por ejemplo, miGrupoDeRecursos y NombreDeLaRedVirtual).</span><span class="sxs-lookup"><span data-stu-id="9bf86-175">Use camelCasing for names of resources (such as myResourceGroup and vnetNetworkName).</span></span> <span data-ttu-id="9bf86-176">Nota: Hay determinados recursos, como las cuentas de almacenamiento, en los que solo se pueden emplear minúsculas (y ningún otro carácter especial).</span><span class="sxs-lookup"><span data-stu-id="9bf86-176">Note: There are certain resources, such as storage accounts, where the only option is to use lower case (and no other special characters).</span></span>
> * <span data-ttu-id="9bf86-177">Plantéese usar las directivas de Azure Resource Manager (que se describen en la sección siguiente) para aplicar los estándares de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="9bf86-177">Consider using Azure Resource Manager policies (described in the next section) to enforce naming standards.</span></span>
> 
> <span data-ttu-id="9bf86-178">Las sugerencias anteriores lo ayudan a implementar una convención de nomenclatura coherente.</span><span class="sxs-lookup"><span data-stu-id="9bf86-178">The preceding tips help you implement a consistent naming convention.</span></span>

## <a name="policies-and-auditing"></a><span data-ttu-id="9bf86-179">Directivas y auditoría</span><span class="sxs-lookup"><span data-stu-id="9bf86-179">Policies and auditing</span></span>
<span data-ttu-id="9bf86-180">El segundo pilar de scaffolding implica la creación de [directivas de Azure](/azure/azure-policy/azure-policy-introduction) y la [auditoría del registro de actividades](/azure/azure-resource-manager/resource-group-audit).</span><span class="sxs-lookup"><span data-stu-id="9bf86-180">The second pillar of the scaffold involves creating [Azure policies](/azure/azure-policy/azure-policy-introduction) and [auditing the activity log](/azure/azure-resource-manager/resource-group-audit).</span></span> <span data-ttu-id="9bf86-181">Las directivas de Resource Manager ofrecen la posibilidad de administrar riesgos en Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-181">Resource Manager policies provide you with the ability to manage risk in Azure.</span></span> <span data-ttu-id="9bf86-182">Puede definir directivas que garanticen la soberanía de datos restringiendo, aplicando o auditando determinadas acciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-182">You can define policies that ensure data sovereignty by restricting, enforcing, or auditing certain actions.</span></span> 

* <span data-ttu-id="9bf86-183">Las directivas son un sistema de **permisos** predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9bf86-183">Policy is a default **allow** system.</span></span> <span data-ttu-id="9bf86-184">Las acciones se controlan mediante la definición y asignación de directivas a los recursos que deniegan o auditan acciones en los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-184">You control actions by defining and assigning policies to resources that deny or audit actions on resources.</span></span>
* <span data-ttu-id="9bf86-185">Las directivas se describen a través de las definiciones de directiva en un lenguaje de definición de directivas (condiciones If-Then).</span><span class="sxs-lookup"><span data-stu-id="9bf86-185">Policies are described by policy definitions in a policy definition language (if-then conditions).</span></span>
* <span data-ttu-id="9bf86-186">Las directivas se crean con archivos en formato JSON (notación de objetos JavaScript).</span><span class="sxs-lookup"><span data-stu-id="9bf86-186">You create policies with JSON (Javascript Object Notation) formatted files.</span></span> <span data-ttu-id="9bf86-187">Después de definir una directiva, se asigna a un ámbito determinado: suscripción, grupo de recursos o recurso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-187">After defining a policy, you assign it to a particular scope: subscription, resource group, or resource.</span></span>

<span data-ttu-id="9bf86-188">Las directivas tienen varias acciones que permiten adoptar un enfoque específico en sus escenarios.</span><span class="sxs-lookup"><span data-stu-id="9bf86-188">Policies have multiple actions that allow for a fine-grained approach to your scenarios.</span></span> <span data-ttu-id="9bf86-189">Las acciones son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-189">The actions are:</span></span>

* <span data-ttu-id="9bf86-190">**Denegar**: bloquea la solicitud del recurso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-190">**Deny**: Blocks the resource request</span></span>
* <span data-ttu-id="9bf86-191">**Auditoría**: permite la solicitud, pero se agrega una línea en el registro de actividad (que se puede usar para proporcionar alertas o desencadenar runbooks).</span><span class="sxs-lookup"><span data-stu-id="9bf86-191">**Audit**: Allows the request but adds a line to the activity log (which can be used to provide alerts or to trigger runbooks)</span></span>
* <span data-ttu-id="9bf86-192">**Anexar**: agrega información especificada al recurso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-192">**Append**: Adds specified information to the resource.</span></span> <span data-ttu-id="9bf86-193">Por ejemplo, si no hay una etiqueta CostCenter en un recurso, agregue dicha etiqueta con un valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9bf86-193">For example, if there is not a "CostCenter" tag on a resource, add that tag with a default value.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="9bf86-194">Usos comunes de las directivas de Resource Manager</span><span class="sxs-lookup"><span data-stu-id="9bf86-194">Common uses of Resource Manager policies</span></span>
<span data-ttu-id="9bf86-195">Las directivas de Azure Resource Manager constituyen una solución eficaz del kit de herramientas de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-195">Azure Resource Manager policies are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="9bf86-196">Gracias a ellas, podrá evitar costos inesperados, identificar un centro de costos de recursos a través del etiquetado y asegurarse de que se cumplan los requisitos de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="9bf86-196">They enable you to avoid unexpected costs, to identify a cost center for resources through tagging, and to ensure that compliancy requirements are met.</span></span> <span data-ttu-id="9bf86-197">Cuando las directivas se combinan con las características de auditoría integradas, puede crear soluciones complejas y flexibles.</span><span class="sxs-lookup"><span data-stu-id="9bf86-197">When policies are combined with the built-in auditing features, you can fashion complex and flexible solutions.</span></span> <span data-ttu-id="9bf86-198">Las directivas permiten a las compañías proporcionar controles para las cargas de trabajo de TI tradicional y las del método ágil; por ejemplo, desarrollando aplicaciones para los clientes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-198">Policies allow companies to provide controls for "Traditional IT" workloads and "Agile" workloads; such as, developing customer applications.</span></span> <span data-ttu-id="9bf86-199">Los patrones más comunes que se pueden encontrar para las directivas son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-199">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="9bf86-200">**Soberanía de datos y cumplimiento geográfico**: Azure proporciona regiones en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-200">**Geo-compliance/data sovereignty** - Azure provides regions across the world.</span></span> <span data-ttu-id="9bf86-201">Las empresas suelen querer controlar el lugar dónde se crean los recursos (ya sea para garantizar la soberanía de datos o simplemente para asegurarse de que se crean cerca de los consumidores finales de los recursos).</span><span class="sxs-lookup"><span data-stu-id="9bf86-201">Enterprises often wish to control where resources are created (whether to ensure data sovereignty or just to ensure resources are created close to the end consumers of the resources).</span></span>
* <span data-ttu-id="9bf86-202">**Administración de costos**: una suscripción de Azure puede contener recursos de muchos tipos y escala.</span><span class="sxs-lookup"><span data-stu-id="9bf86-202">**Cost management** - An Azure subscription can contain resources of many types and scale.</span></span> <span data-ttu-id="9bf86-203">A menudo, las organizaciones quieren asegurarse de que las suscripciones estándares no empleen recursos innecesariamente grandes, lo que puede acarrear un costo de cientos de dólares, o más, al mes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-203">Corporations often wish to ensure that standard subscriptions avoid using unnecessarily large resources, which can cost hundreds of dollars a month or more.</span></span>
* <span data-ttu-id="9bf86-204">**Gobierno predeterminado a través de las etiquetas obligatorias**: requerir etiquetas es una de las características más habituales y solicitadas.</span><span class="sxs-lookup"><span data-stu-id="9bf86-204">**Default governance through required tags** - Requiring tags is one of the most common and highly desired features.</span></span> <span data-ttu-id="9bf86-205">Al utilizar las directivas de Azure Resource Manager, las empresas pueden asegurarse de que un recurso esté correctamente etiquetado.</span><span class="sxs-lookup"><span data-stu-id="9bf86-205">Using Azure Resource Manager Policies enterprises are able to ensure that a resource is appropriately tagged.</span></span> <span data-ttu-id="9bf86-206">Las etiquetas más comunes son las de departamento, propietario del recurso y tipo de entorno (por ejemplo, producción, pruebas o desarrollo).</span><span class="sxs-lookup"><span data-stu-id="9bf86-206">The most common tags are: Department, Resource Owner, and Environment type (for example - production, test, development)</span></span>

<span data-ttu-id="9bf86-207">**Ejemplos**</span><span class="sxs-lookup"><span data-stu-id="9bf86-207">**Examples**</span></span>

<span data-ttu-id="9bf86-208">Suscripción de TI tradicional para aplicaciones de línea de negocio</span><span class="sxs-lookup"><span data-stu-id="9bf86-208">"Traditional IT" subscription for line-of-business applications</span></span>

* <span data-ttu-id="9bf86-209">Aplique las etiquetas Department y Owner en todos los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-209">Enforce Department and Owner tags on all resources</span></span>
* <span data-ttu-id="9bf86-210">Restrinja la creación de recursos en la región de Norteamérica.</span><span class="sxs-lookup"><span data-stu-id="9bf86-210">Restrict resource creation to the North American Region</span></span>
* <span data-ttu-id="9bf86-211">Restrinja la capacidad de crear máquinas virtuales de serie G y clústeres de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="9bf86-211">Restrict the ability to create G-Series VMs and HDInsight Clusters</span></span>

<span data-ttu-id="9bf86-212">Entorno del método ágil para una unidad de negocio que va a crear aplicaciones en la nube</span><span class="sxs-lookup"><span data-stu-id="9bf86-212">"Agile" Environment for a business unit creating cloud applications</span></span>

* <span data-ttu-id="9bf86-213">Para cumplir los requisitos de soberanía de datos, permita la creación de recursos SOLO en una región específica.</span><span class="sxs-lookup"><span data-stu-id="9bf86-213">To meet data sovereignty requirements, allow the creation of resources ONLY in a specific region.</span></span>
* <span data-ttu-id="9bf86-214">Aplique la etiqueta Environment en todos los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-214">Enforce Environment tag on all resources.</span></span> <span data-ttu-id="9bf86-215">Si un recurso se crea sin una etiqueta, anexe la etiqueta **Environment: Unknown** al recurso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-215">If a resource is created without a tag, append the **Environment: Unknown** tag to the resource.</span></span>
* <span data-ttu-id="9bf86-216">Realice la auditoría cuando los recursos se creen fuera de Norteamérica, pero no la impida.</span><span class="sxs-lookup"><span data-stu-id="9bf86-216">Audit when resources are created outside of North America but do not prevent.</span></span>
* <span data-ttu-id="9bf86-217">Realice la auditoría cuando se creen recursos de alto costo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-217">Audit when high-cost resources are created.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-218">El uso más común de las directivas de Resource Manager en las organizaciones es controlar *qué* tipos de recursos pueden crearse y *dónde*.</span><span class="sxs-lookup"><span data-stu-id="9bf86-218">The most common use of Resource Manager policies across organizations is to control *where* resources can be created and *what* types of resources can be created.</span></span> <span data-ttu-id="9bf86-219">Además de proporcionar controles de *ubicación* y *tipo*, muchas empresas utilizan directivas para garantizar que los recursos tengan los metadatos apropiados para facturar por consumo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-219">In addition to providing controls on *where* and *what*, many enterprises use policies to ensure resources have the appropriate metadata to bill back for consumption.</span></span> <span data-ttu-id="9bf86-220">Se recomienda aplicar directivas en el nivel de suscripción para los siguientes patrones:</span><span class="sxs-lookup"><span data-stu-id="9bf86-220">We recommend applying policies at the subscription level for:</span></span>
> 
> * <span data-ttu-id="9bf86-221">Soberanía de datos y cumplimiento geográfico</span><span class="sxs-lookup"><span data-stu-id="9bf86-221">Geo-compliance/data sovereignty</span></span>
> * <span data-ttu-id="9bf86-222">Administración de costos</span><span class="sxs-lookup"><span data-stu-id="9bf86-222">Cost management</span></span>
> * <span data-ttu-id="9bf86-223">Etiquetas obligatorias (se determinan según la necesidad de la empresa, como BillTo y Application Owner)</span><span class="sxs-lookup"><span data-stu-id="9bf86-223">Required tags (Determined by business need, such as BillTo, Application Owner)</span></span>
> 
> <span data-ttu-id="9bf86-224">Puede aplicar más directivas en niveles inferiores del ámbito.</span><span class="sxs-lookup"><span data-stu-id="9bf86-224">You can apply additional policies at lower levels of scope.</span></span>
> 
> 

### <a name="audit---what-happened"></a><span data-ttu-id="9bf86-225">Auditoría: ¿qué ha ocurrido?</span><span class="sxs-lookup"><span data-stu-id="9bf86-225">Audit - what happened?</span></span>
<span data-ttu-id="9bf86-226">Para ver cómo funciona el entorno, debe auditar la actividad de usuario.</span><span class="sxs-lookup"><span data-stu-id="9bf86-226">To view how your environment is functioning, you need to audit user activity.</span></span> <span data-ttu-id="9bf86-227">La mayoría de los tipos de recursos de Azure crean registros de diagnóstico que se pueden analizar a través de una herramienta de registro o en Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="9bf86-227">Most resource types within Azure create diagnostic logs that you can analyze through a log tool or in Azure Log Analytics.</span></span> <span data-ttu-id="9bf86-228">Puede recopilar registros de actividades a través de varias suscripciones para proporcionar información de la empresa o de departamentos concretos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-228">You can gather activity logs across multiple subscriptions to provide a departmental or enterprise view.</span></span> <span data-ttu-id="9bf86-229">Los registros de auditoría constituyen una herramienta de diagnóstico importante y un mecanismo fundamental para desencadenar eventos en el entorno de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-229">Audit records are both an important diagnostic tool and a crucial mechanism to trigger events in the Azure environment.</span></span>

<span data-ttu-id="9bf86-230">Los registros de actividades de las implementaciones de Resource Manager permiten determinar las **operaciones** que se realizaron y las personas responsables.</span><span class="sxs-lookup"><span data-stu-id="9bf86-230">Activity logs from Resource Manager deployments enable you to determine the **operations** that took place and who performed them.</span></span> <span data-ttu-id="9bf86-231">Además, pueden recopilarse y agregarse mediante herramientas como Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="9bf86-231">Activity logs can be collected and aggregated using tools like Log Analytics.</span></span>


## <a name="resource-group"></a><span data-ttu-id="9bf86-232">Grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="9bf86-232">Resource group</span></span>
<span data-ttu-id="9bf86-233">Resource Manager permite colocar recursos en grupos significativos de administración, facturación y afinidad natural.</span><span class="sxs-lookup"><span data-stu-id="9bf86-233">Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="9bf86-234">Como se mencionó anteriormente, Azure tiene dos modelos de implementación.</span><span class="sxs-lookup"><span data-stu-id="9bf86-234">As mentioned earlier, Azure has two deployment models.</span></span> <span data-ttu-id="9bf86-235">En el modelo clásico anterior, la unidad básica de administración era la suscripción.</span><span class="sxs-lookup"><span data-stu-id="9bf86-235">In the earlier Classic model, the basic unit of management was the subscription.</span></span> <span data-ttu-id="9bf86-236">Era difícil desglosar los recursos dentro de una suscripción, así que había que crear un gran número de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-236">It was difficult to break down resources within a subscription, which led to the creation of large numbers of subscriptions.</span></span> <span data-ttu-id="9bf86-237">Con el modelo de Resource Manager, se han introducido los grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-237">With the Resource Manager model, we saw the introduction of resource groups.</span></span> <span data-ttu-id="9bf86-238">Los grupos de recursos son contenedores de recursos que tienen un ciclo de vida común o comparten un atributo como "Todos los servidores SQL Server" o "Aplicación A".</span><span class="sxs-lookup"><span data-stu-id="9bf86-238">Resource groups are containers of resources that have a common lifecycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="9bf86-239">Además, no pueden estar dentro de otros grupos y los recursos solo pueden pertenecer a un solo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-239">Resource groups cannot be contained within each other and resources can only belong to one resource group.</span></span> <span data-ttu-id="9bf86-240">Puede aplicar determinadas acciones en todos los recursos de un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-240">You can apply certain actions on all resources in a resource group.</span></span> <span data-ttu-id="9bf86-241">Por ejemplo, al eliminar un grupo de recursos, se quitan todos los recursos del grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-241">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="9bf86-242">Normalmente, las aplicaciones completas o los sistemas relacionados se colocan en el mismo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-242">Typically, you place an entire application or related system in the same resource group.</span></span> <span data-ttu-id="9bf86-243">Por ejemplo, una aplicación de tres niveles denominada "aplicación web de Contoso" contendría el servidor web, el servidor de aplicaciones y el servidor SQL Server en el mismo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-243">For example, a three-tier application called Contoso Web Application would contain the web server, application server and SQL server in the same resource group.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-244">El modo de organizar los grupos de recursos puede variar según se trate de cargas de trabajo de TI tradicional o del método ágil:</span><span class="sxs-lookup"><span data-stu-id="9bf86-244">How you organize your resource groups may vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>
> 
> * <span data-ttu-id="9bf86-245">Las cargas de trabajo de TI tradicional se suelen agrupar por elementos dentro del mismo ciclo de vida, como una aplicación.</span><span class="sxs-lookup"><span data-stu-id="9bf86-245">"Traditional IT" workloads are most commonly grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="9bf86-246">Si se agrupan las aplicaciones, se podrán administrar las aplicaciones de forma individual.</span><span class="sxs-lookup"><span data-stu-id="9bf86-246">Grouping by application allows for individual application management.</span></span>
> * <span data-ttu-id="9bf86-247">Las cargas de trabajo de TI o del método ágil tienden a centrarse en las aplicaciones en la nube orientadas a los clientes externos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-247">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="9bf86-248">Los grupos de recursos deben reflejar las capas de implementación (por ejemplo, el nivel web y el de aplicaciones) y administración.</span><span class="sxs-lookup"><span data-stu-id="9bf86-248">The resource groups should reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>
> 
> <span data-ttu-id="9bf86-249">La comprensión de la carga de trabajo lo ayudará a desarrollar una estrategia de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-249">Understanding your workload helps you develop a resource group strategy.</span></span>


## <a name="resource-tags"></a><span data-ttu-id="9bf86-250">Etiquetas del recurso</span><span class="sxs-lookup"><span data-stu-id="9bf86-250">Resource tags</span></span>
<span data-ttu-id="9bf86-251">A medida que los usuarios de su organización agregan recursos a la suscripción, cada vez adquiere más importancia asociar los recursos con el departamento, el cliente y el entorno adecuados.</span><span class="sxs-lookup"><span data-stu-id="9bf86-251">As users in your organization add resources to the subscription, it becomes increasingly important to associate resources with the appropriate department, customer, and environment.</span></span> <span data-ttu-id="9bf86-252">Puede asociar metadatos a los recursos a través de las [etiquetas](/azure/azure-resource-manager/resource-group-using-tags).</span><span class="sxs-lookup"><span data-stu-id="9bf86-252">You can attach metadata to resources through [tags](/azure/azure-resource-manager/resource-group-using-tags).</span></span> <span data-ttu-id="9bf86-253">Estas sirven para proporcionar información sobre el recurso o el propietario.</span><span class="sxs-lookup"><span data-stu-id="9bf86-253">You use tags to provide information about the resource or the owner.</span></span> <span data-ttu-id="9bf86-254">Además, no solo permiten agregar y agrupar los recursos de varias maneras, sino también emplear esos datos para fines de contracargo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-254">Tags enable you to not only aggregate and group resources in various ways, but use that data for the purposes of chargeback.</span></span> <span data-ttu-id="9bf86-255">Puede etiquetar recursos con hasta 15 pares clave-valor.</span><span class="sxs-lookup"><span data-stu-id="9bf86-255">You can tag resources with up to 15 key:value pairs.</span></span> 

<span data-ttu-id="9bf86-256">Las etiquetas de recurso son flexibles y deben asociarse a la mayoría de los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-256">Resource tags are flexible and should be attached to most resources.</span></span> <span data-ttu-id="9bf86-257">Ejemplos de etiquetas de recursos comunes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-257">Examples of common resource tags are:</span></span>

* <span data-ttu-id="9bf86-258">BillTo</span><span class="sxs-lookup"><span data-stu-id="9bf86-258">BillTo</span></span>
* <span data-ttu-id="9bf86-259">Department (o Business Unit)</span><span class="sxs-lookup"><span data-stu-id="9bf86-259">Department (or Business Unit)</span></span>
* <span data-ttu-id="9bf86-260">Environment (Production, Stage y Development)</span><span class="sxs-lookup"><span data-stu-id="9bf86-260">Environment (Production, Stage, Development)</span></span>
* <span data-ttu-id="9bf86-261">Tier (Web Tier y Application Tier)</span><span class="sxs-lookup"><span data-stu-id="9bf86-261">Tier (Web Tier, Application Tier)</span></span>
* <span data-ttu-id="9bf86-262">Application Owner</span><span class="sxs-lookup"><span data-stu-id="9bf86-262">Application Owner</span></span>
* <span data-ttu-id="9bf86-263">ProjectName</span><span class="sxs-lookup"><span data-stu-id="9bf86-263">ProjectName</span></span>

![etiquetas](./_images/resource-group-tagging.png)

<span data-ttu-id="9bf86-265">Consulte [Recommended naming conventions for Azure resources](../../best-practices/naming-conventions.md) (Convenciones de nomenclatura recomendadas para los recursos de Azure).</span><span class="sxs-lookup"><span data-stu-id="9bf86-265">For more examples of tags, see [Recommended naming conventions for Azure resources](../../best-practices/naming-conventions.md).</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-266">Considere la posibilidad de utilizar una directiva que exija etiquetar los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="9bf86-266">Consider making a policy that mandates tagging for:</span></span>
> 
> * <span data-ttu-id="9bf86-267">Grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="9bf86-267">Resource groups</span></span>
> * <span data-ttu-id="9bf86-268">Storage</span><span class="sxs-lookup"><span data-stu-id="9bf86-268">Storage</span></span>
> * <span data-ttu-id="9bf86-269">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="9bf86-269">Virtual Machines</span></span>
> * <span data-ttu-id="9bf86-270">Servidores web y entornos de servicios de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="9bf86-270">Application Service Environments/web servers</span></span>
> 
> <span data-ttu-id="9bf86-271">Esta estrategia de etiquetado identifica en las distintas suscripciones qué metadatos se necesitan para los aspectos comerciales, económicos, de seguridad, de administración de riesgos y de administración general del entorno.</span><span class="sxs-lookup"><span data-stu-id="9bf86-271">This tagging strategy identifies across your subscriptions what metadata is needed for the business, finance, security, risk management, and overall management of the environment.</span></span> 



## <a name="role-based-access-control"></a><span data-ttu-id="9bf86-272">Control de acceso basado en rol</span><span class="sxs-lookup"><span data-stu-id="9bf86-272">Role-based access control</span></span>
<span data-ttu-id="9bf86-273">Probablemente se esté preguntando quién debe tener acceso a los recursos</span><span class="sxs-lookup"><span data-stu-id="9bf86-273">You probably are asking yourself "who should have access to resources?"</span></span> <span data-ttu-id="9bf86-274">y cómo puede controlar dicho acceso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-274">and "how do I control this access?"</span></span> <span data-ttu-id="9bf86-275">Permitir o denegar el acceso a Azure Portal, así como controlar el acceso a los recursos del portal, resulta fundamental.</span><span class="sxs-lookup"><span data-stu-id="9bf86-275">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is crucial.</span></span> 

<span data-ttu-id="9bf86-276">Cuando se publicó inicialmente Azure, los controles de acceso a una suscripción eran básicos: Administrador o Coadministrador.</span><span class="sxs-lookup"><span data-stu-id="9bf86-276">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="9bf86-277">Acceder una suscripción del modelo clásico implicaba hacerlo a todos los recursos del portal.</span><span class="sxs-lookup"><span data-stu-id="9bf86-277">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="9bf86-278">Esta falta de un control específico provocó una proliferación de suscripciones que proporcionaban un nivel de control de acceso razonable a una inscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-278">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span>

<span data-ttu-id="9bf86-279">Esta proliferación de suscripciones ya no es necesaria.</span><span class="sxs-lookup"><span data-stu-id="9bf86-279">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="9bf86-280">Gracias al [control de acceso basado en rol](/azure/role-based-access-control/overview), puede asignar usuarios a roles estándares (por ejemplo, los tipos de roles comunes de "lector" y "escritor").</span><span class="sxs-lookup"><span data-stu-id="9bf86-280">With [role-based access control](/azure/role-based-access-control/overview), you can assign users to standard roles (such as common "reader" and "writer" types of roles).</span></span> <span data-ttu-id="9bf86-281">También se pueden definir reglas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="9bf86-281">You can also define custom roles.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-282">Para implementar el control de acceso basado en roles:</span><span class="sxs-lookup"><span data-stu-id="9bf86-282">To implement role-based access control:</span></span>
> * <span data-ttu-id="9bf86-283">Conecte su almacén de identidades corporativo (normalmente, Active Directory) a Azure Active Directory con la herramienta AD Connect.</span><span class="sxs-lookup"><span data-stu-id="9bf86-283">Connect your corporate identity store (most commonly Active Directory) to Azure Active Directory using the AD Connect tool.</span></span>
> * <span data-ttu-id="9bf86-284">Controle el administrador o coadministrador de una suscripción mediante una identidad administrada.</span><span class="sxs-lookup"><span data-stu-id="9bf86-284">Control the Admin/Co-Admin of a subscription using a managed identity.</span></span> <span data-ttu-id="9bf86-285">**No** asigne administradores o coadministradores a un nuevo propietario de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="9bf86-285">**Don't** assign Admin/Co-admin to a new subscription owner.</span></span> <span data-ttu-id="9bf86-286">En su lugar, use los roles RBAC para proporcionar derechos de **propietario** a un grupo o usuario.</span><span class="sxs-lookup"><span data-stu-id="9bf86-286">Instead, use RBAC roles to provide **Owner** rights to a group or individual.</span></span>
> * <span data-ttu-id="9bf86-287">Agregue los usuarios de Azure a un grupo (por ejemplo, los propietarios de la aplicación X) en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9bf86-287">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="9bf86-288">Utilice el grupo sincronizado para proporcionar a los miembros del grupo los derechos adecuados para administrar el grupo de recursos que contiene la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9bf86-288">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
> * <span data-ttu-id="9bf86-289">Siga el principio de conceder los **privilegios mínimos** necesarios para realizar el trabajo previsto.</span><span class="sxs-lookup"><span data-stu-id="9bf86-289">Follow the principle of granting the **least privilege** required to do the expected work.</span></span> <span data-ttu-id="9bf86-290">Por ejemplo: </span><span class="sxs-lookup"><span data-stu-id="9bf86-290">For example:</span></span>
>   * <span data-ttu-id="9bf86-291">Grupo de implementación: un grupo que solo puede implementar recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-291">Deployment Group: A group that is only able to deploy resources.</span></span>
>   * <span data-ttu-id="9bf86-292">Administración de máquinas virtuales: un grupo que puede reiniciar las máquinas virtuales (para realizar operaciones)</span><span class="sxs-lookup"><span data-stu-id="9bf86-292">Virtual Machine Management: A group that is able to restart VMs (for operations)</span></span>
> 
> <span data-ttu-id="9bf86-293">Estas sugerencias lo ayudarán a administrar el acceso de los usuarios en la totalidad de su suscripción.</span><span class="sxs-lookup"><span data-stu-id="9bf86-293">These tips help you manage user access across your subscription.</span></span>

## <a name="azure-resource-locks"></a><span data-ttu-id="9bf86-294">Bloqueos de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="9bf86-294">Azure resource locks</span></span>
<span data-ttu-id="9bf86-295">A medida que su organización agrega servicios básicos a la suscripción, cada vez reviste más importancia asegurarse de que estos servicios estén disponibles para evitar la interrupción de la actividad empresarial.</span><span class="sxs-lookup"><span data-stu-id="9bf86-295">As your organization adds core services to the subscription, it becomes increasingly important to ensure that those services are available to avoid business disruption.</span></span> <span data-ttu-id="9bf86-296">Gracias a los [bloqueos de recursos](/azure/azure-resource-manager/resource-group-lock-resources), se pueden restringir las operaciones en recursos de gran valor donde modificarlas o eliminarlas tendría un gran impacto en las aplicaciones o la infraestructura en la nube.</span><span class="sxs-lookup"><span data-stu-id="9bf86-296">[Resource locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact on your applications or cloud infrastructure.</span></span> <span data-ttu-id="9bf86-297">Puede aplicar bloqueos a una suscripción, un recurso o un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-297">You can apply locks to a subscription, resource group, or resource.</span></span> <span data-ttu-id="9bf86-298">Normalmente, los bloqueos se aplican a recursos fundamentales como redes virtuales, puertas de enlace y cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9bf86-298">Typically, you apply locks to foundational resources such as virtual networks, gateways, and storage accounts.</span></span> 

<span data-ttu-id="9bf86-299">Además, en estos momentos, admiten dos valores: CanNotDelete y ReadOnly.</span><span class="sxs-lookup"><span data-stu-id="9bf86-299">Resource locks currently support two values: CanNotDelete and ReadOnly.</span></span> <span data-ttu-id="9bf86-300">CanNotDelete significa que los usuarios (con los derechos adecuados) todavía pueden leer o modificar un recurso, pero no eliminarlo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-300">CanNotDelete means that users (with the appropriate rights) can still read or modify a resource but cannot delete it.</span></span> <span data-ttu-id="9bf86-301">ReadOnly significa que los usuarios autorizados no pueden eliminar o modificar un recurso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-301">ReadOnly means that authorized users can't delete or modify a resource.</span></span>

<span data-ttu-id="9bf86-302">Para crear o eliminar bloqueos de administración, debe tener acceso a las acciones `Microsoft.Authorization/*` o `Microsoft.Authorization/locks/*`.</span><span class="sxs-lookup"><span data-stu-id="9bf86-302">To create or delete management locks, you must have access to `Microsoft.Authorization/*` or `Microsoft.Authorization/locks/*` actions.</span></span>
<span data-ttu-id="9bf86-303">Entre los roles integrados, solamente se conceden esas acciones al propietario y al administrador de acceso de usuarios.</span><span class="sxs-lookup"><span data-stu-id="9bf86-303">Of the built-in roles, only Owner and User Access Administrator are granted those actions.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-304">Las opciones de red principales deben protegerse con bloqueos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-304">Core network options should be protected with locks.</span></span> <span data-ttu-id="9bf86-305">La eliminación accidental de una puerta de enlace o una VPN de sitio a sitio podría resultar desastroso para una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="9bf86-305">Accidental deletion of a gateway, site-to-site VPN would be disastrous to an Azure subscription.</span></span> <span data-ttu-id="9bf86-306">Azure no permite eliminar una red virtual que se esté utilizando, pero, por preocupación, recomendamos aplicar más restricciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-306">Azure doesn't allow you to delete a virtual network that is in use, but applying more restrictions is a helpful precaution.</span></span> 
> 
> * <span data-ttu-id="9bf86-307">Virtual Network: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="9bf86-307">Virtual Network: CanNotDelete</span></span>
> * <span data-ttu-id="9bf86-308">Grupo de seguridad de red: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="9bf86-308">Network Security Group: CanNotDelete</span></span>
> * <span data-ttu-id="9bf86-309">Directivas: CanNotDelete</span><span class="sxs-lookup"><span data-stu-id="9bf86-309">Policies: CanNotDelete</span></span>
> 
> <span data-ttu-id="9bf86-310">Las directivas también resultan cruciales para el mantenimiento de los controles adecuados.</span><span class="sxs-lookup"><span data-stu-id="9bf86-310">Policies are also crucial to the maintenance of appropriate controls.</span></span> <span data-ttu-id="9bf86-311">Recomendamos aplicar un bloqueo **CanNotDelete** en las directivas que se están utilizando.</span><span class="sxs-lookup"><span data-stu-id="9bf86-311">We recommend that you apply a **CanNotDelete** lock to polices that are in use.</span></span>

## <a name="core-networking-resources"></a><span data-ttu-id="9bf86-312">Recursos de red principales</span><span class="sxs-lookup"><span data-stu-id="9bf86-312">Core networking resources</span></span>
<span data-ttu-id="9bf86-313">El acceso a los recursos puede ser interno (dentro de la red corporativa) o externo (a través de Internet).</span><span class="sxs-lookup"><span data-stu-id="9bf86-313">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="9bf86-314">Es muy fácil que los usuarios de una organización puedan colocar accidentalmente los recursos en la zona incorrecta y, posiblemente, abrirlos para acceder con intenciones malintencionado.</span><span class="sxs-lookup"><span data-stu-id="9bf86-314">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="9bf86-315">Al igual que con los dispositivos locales, las empresas deben agregar los controles adecuados para asegurarse de que los usuarios de Azure toman las decisiones correctas.</span><span class="sxs-lookup"><span data-stu-id="9bf86-315">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="9bf86-316">Para el gobierno de suscripciones, identificamos los recursos principales que proporcionan un control de acceso básico.</span><span class="sxs-lookup"><span data-stu-id="9bf86-316">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="9bf86-317">Se trata de los siguientes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-317">The core resources consist of:</span></span>

* <span data-ttu-id="9bf86-318">Las **redes virtuales** son objetos de contenedor de las subredes.</span><span class="sxs-lookup"><span data-stu-id="9bf86-318">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="9bf86-319">Aunque no es estrictamente necesario, se suelen utilizar al conectar las aplicaciones a los recursos corporativos internos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-319">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="9bf86-320">Los **grupos de seguridad de red** son similares a los firewalls y proporcionan reglas de cómo un recurso puede "hablar" a través de la red.</span><span class="sxs-lookup"><span data-stu-id="9bf86-320">**Network security groups** are similar to a firewall and provide rules for how a resource can "talk" over the network.</span></span> <span data-ttu-id="9bf86-321">Proporcionan un control granular sobre cómo o bajo qué condición una subred (o máquina virtual) puede conectarse a Internet o a otras subredes de la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="9bf86-321">They provide granular control over how/if a subnet (or virtual machine) can connect to the Internet or other subnets in the same virtual network.</span></span>

![Redes principales](./_images/core-network.png)

> [!TIP]
> <span data-ttu-id="9bf86-323">En el caso de las redes:</span><span class="sxs-lookup"><span data-stu-id="9bf86-323">For networking:</span></span>
> * <span data-ttu-id="9bf86-324">Cree redes virtuales específicas para las cargas de trabajo orientadas tanto a clientes externos como a internos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-324">Create virtual networks dedicated to external-facing workloads and internal-facing workloads.</span></span> <span data-ttu-id="9bf86-325">Con este enfoque se reduce la posibilidad de colocar accidentalmente máquinas virtuales que están diseñadas para cargas de trabajo internas en un espacio orientado a clientes externos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-325">This approach reduces the chance of inadvertently placing virtual machines that are intended for internal workloads in an external facing space.</span></span>
> * <span data-ttu-id="9bf86-326">Configure grupos de seguridad de red para limitar el acceso.</span><span class="sxs-lookup"><span data-stu-id="9bf86-326">Configure network security groups to limit access.</span></span> <span data-ttu-id="9bf86-327">Como mínimo, bloquean el acceso a Internet desde las redes virtuales internas y a la red corporativa desde las externas.</span><span class="sxs-lookup"><span data-stu-id="9bf86-327">At a minimum, block access to the internet from internal virtual networks, and block access to the corporate network from external virtual networks.</span></span>
> 
> <span data-ttu-id="9bf86-328">Estas sugerencias lo ayudarán a implementar recursos de red seguros.</span><span class="sxs-lookup"><span data-stu-id="9bf86-328">These tips help you implement secure networking resources.</span></span>

## <a name="automation"></a><span data-ttu-id="9bf86-329">Automation</span><span class="sxs-lookup"><span data-stu-id="9bf86-329">Automation</span></span>
<span data-ttu-id="9bf86-330">Administrar los recursos de manera individual es un proceso lento y potencialmente propenso a errores en determinadas operaciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-330">Managing resources individually is both time-consuming and potentially error prone for certain operations.</span></span> <span data-ttu-id="9bf86-331">Azure proporciona varias funciones de automatización, como Azure Automation, Logic Apps y Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="9bf86-331">Azure provides various automation capabilities including Azure Automation, Logic Apps, and Azure Functions.</span></span> <span data-ttu-id="9bf86-332">[Azure Automation](/azure/automation/automation-intro) permite a los administradores crear y definir runbooks para administrar las tareas comunes de administración de recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-332">[Azure Automation](/azure/automation/automation-intro) enables administrators to create and define runbooks to handle common tasks in managing resources.</span></span> <span data-ttu-id="9bf86-333">Puede crear runbooks mediante un editor de código de PowerShell o uno de tipo gráfico.</span><span class="sxs-lookup"><span data-stu-id="9bf86-333">You create runbooks by using either a PowerShell code editor or a graphical editor.</span></span> <span data-ttu-id="9bf86-334">Puede generar flujos de trabajo complejos de varias fases.</span><span class="sxs-lookup"><span data-stu-id="9bf86-334">You can produce complex multi-stage workflows.</span></span> <span data-ttu-id="9bf86-335">Azure Automation suele utilizarse para controlar tareas comunes, como detener recursos sin usar o crear recursos como respuesta a un desencadenador específico sin necesidad de intervención humana.</span><span class="sxs-lookup"><span data-stu-id="9bf86-335">Azure Automation is often used to handle common tasks such as shutting down unused resources, or creating resources in response to a specific trigger without needing human intervention.</span></span>

> [!TIP]
> <span data-ttu-id="9bf86-336">En el caso de la automatización:</span><span class="sxs-lookup"><span data-stu-id="9bf86-336">For automation:</span></span>
> * <span data-ttu-id="9bf86-337">Cree una cuenta de Azure Automation y revise los runbooks disponibles (de línea de comandos y gráficos) en la [Galería de runbooks](/azure/automation/automation-runbook-gallery).</span><span class="sxs-lookup"><span data-stu-id="9bf86-337">Create an Azure Automation account and review the available runbooks (both graphical and command line) available in the [Runbook Gallery](/azure/automation/automation-runbook-gallery).</span></span>
> * <span data-ttu-id="9bf86-338">Importe y personalice los runbooks claves para utilizarlos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-338">Import and customize key runbooks for your own use.</span></span>
> 
> <span data-ttu-id="9bf86-339">Un escenario común es la capacidad de iniciar o apagar máquinas virtuales según una programación.</span><span class="sxs-lookup"><span data-stu-id="9bf86-339">A common scenario is the ability to Start/Shutdown virtual machines on a schedule.</span></span> <span data-ttu-id="9bf86-340">Hay runbooks de ejemplo disponibles en la galería que controlan este escenario y explican cómo expandirlo.</span><span class="sxs-lookup"><span data-stu-id="9bf86-340">There are example runbooks that are available in the Gallery that both handle this scenario and teach you how to expand it.</span></span>
> 
> 

## <a name="azure-security-center"></a><span data-ttu-id="9bf86-341">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="9bf86-341">Azure Security Center</span></span>
<span data-ttu-id="9bf86-342">Quizás, uno de los principales impedimentos para adoptar la tecnología de nube han sido las preocupaciones por la seguridad.</span><span class="sxs-lookup"><span data-stu-id="9bf86-342">Perhaps one of the biggest blockers to cloud adoption has been the concerns over security.</span></span> <span data-ttu-id="9bf86-343">Los departamentos de riesgos de TI y seguridad tienen que asegurarse de que los recursos de Azure estén protegidos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-343">IT risk managers and security departments need to ensure that resources in Azure are secure.</span></span> 

<span data-ttu-id="9bf86-344">[Azure Security Center](/azure/security-center/security-center-intro) proporciona una perspectiva central del estado de seguridad de los recursos de las suscripciones y ofrece recomendaciones que ayudan a evitar que se realicen ataques a los recursos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-344">The [Azure Security Center](/azure/security-center/security-center-intro) provides a central view of the security status of resources in the subscriptions, and provides recommendations that help prevent compromised resources.</span></span> <span data-ttu-id="9bf86-345">Asimismo, puede habilitar directivas más granulares (por ejemplo, aplicar directivas a grupos de recursos concretos que permiten a la empresa adaptar su postura con respecto al riesgo que están abordando).</span><span class="sxs-lookup"><span data-stu-id="9bf86-345">It can enable more granular policies (for example, applying policies to specific resource groups that allow the enterprise to tailor their posture to the risk they are addressing).</span></span> <span data-ttu-id="9bf86-346">Finalmente, Azure Security Center es una plataforma abierta que permite a los asociados de Microsoft y fabricantes independientes de software crear software que se integre en Azure Security Center para mejorar sus funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="9bf86-346">Finally, Azure Security Center is an open platform that enables Microsoft partners and independent software vendors to create software that plugs into Azure Security Center to enhance its capabilities.</span></span> 

> [!TIP]
> <span data-ttu-id="9bf86-347">Azure Security Center está habilitado de forma predeterminada en todas las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9bf86-347">Azure Security Center is enabled by default in each subscription.</span></span> <span data-ttu-id="9bf86-348">Sin embargo, debe habilitar la recopilación de datos de máquinas virtuales para permitir que Azure Security Center instale su agente y empiece a recopilar datos.</span><span class="sxs-lookup"><span data-stu-id="9bf86-348">However, you must enable data collection from virtual machines to allow Azure Security Center to install its agent and begin gathering data.</span></span>
> 
> ![recopilación de datos](./_images/data-collection.png)
> 
> 

## <a name="next-steps"></a><span data-ttu-id="9bf86-350">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9bf86-350">Next steps</span></span>
* <span data-ttu-id="9bf86-351">Ahora que ha obtenido información sobre el gobierno de suscripciones, es hora de ver estas recomendaciones en la práctica.</span><span class="sxs-lookup"><span data-stu-id="9bf86-351">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="9bf86-352">Vea [Examples of implementing Azure subscription governance](azure-scaffold-examples.md) (Ejemplos de implementación de un sistema de gobierno de suscripciones).</span><span class="sxs-lookup"><span data-stu-id="9bf86-352">See [Examples of implementing Azure subscription governance](azure-scaffold-examples.md).</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="9bf86-353">Implementación de un ejemplo</span><span class="sxs-lookup"><span data-stu-id="9bf86-353">Implement an example</span></span>](azure-scaffold-examples.md)
