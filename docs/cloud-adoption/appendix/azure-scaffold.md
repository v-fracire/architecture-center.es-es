---
title: Prácticas recomendadas para empresas que migran su infraestructura a Azure
description: En este artículo se describe una plantilla scaffold que las empresas pueden utilizar para garantizar que el entorno sea seguro y fácil de administrar.
author: rdendtler
ms.author: rodend
ms.date: 9/22/2018
ms.openlocfilehash: a1962a3d5be79715de4781d955b6be1db5923bea
ms.sourcegitcommit: 94d50043db63416c4d00cebe927a0c88f78c3219
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/28/2018
ms.locfileid: "47429305"
---
# <a name="azure-enterprise-scaffold-prescriptive-subscription-governance"></a><span data-ttu-id="48082-103">Scaffolding empresarial de Azure: gobierno de suscripción prescriptivo</span><span class="sxs-lookup"><span data-stu-id="48082-103">Azure enterprise scaffold: Prescriptive subscription governance</span></span>

<span data-ttu-id="48082-104">Cada vez son más las empresas que adoptan la tecnología de nube pública para ganar agilidad y flexibilidad.</span><span class="sxs-lookup"><span data-stu-id="48082-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="48082-105">Aprovechan los puntos fuertes de la nube para generar ingresos y optimizar el uso de los recursos de la empresa.</span><span class="sxs-lookup"><span data-stu-id="48082-105">They utilize the cloud's strengths to generate revenue and optimize resource usage for the business.</span></span> <span data-ttu-id="48082-106">Microsoft Azure proporciona un gran número de servicios y funcionalidades que las empresas ensamblan como bloques de creación con el objetivo de abordar diversas aplicaciones y cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="48082-106">Microsoft Azure provides a multitude of services and capabilities that enterprises assemble like building blocks to address a wide array of workloads and applications.</span></span>

<span data-ttu-id="48082-107">Decidirse a usar Microsoft Azure es solo el primer paso para poder beneficiarse de la ventaja de la nube.</span><span class="sxs-lookup"><span data-stu-id="48082-107">Deciding to use Microsoft Azure is only the first step to achieving the benefit of the cloud.</span></span> <span data-ttu-id="48082-108">El segundo paso es comprender cómo la empresa puede usar Azure con eficacia e identificar las funcionalidades básicas que deben existir para responder preguntas como:</span><span class="sxs-lookup"><span data-stu-id="48082-108">The second step is understanding how the enterprise can effectively use Azure and identify the baseline capabilities that need to be in place to address questions like:</span></span>

* <span data-ttu-id="48082-109">"Me preocupa la soberanía de datos; ¿cómo puedo garantizar que los datos y sistemas cumplan nuestros requisitos normativos?"</span><span class="sxs-lookup"><span data-stu-id="48082-109">"I'm concerned about data sovereignty; how can I ensure that my data and systems meet our regulatory requirements?"</span></span>
* <span data-ttu-id="48082-110">"¿Cómo puedo saber lo que cada recurso admite para poder tenerlo en cuenta y realizar la facturación de forma adecuada?"</span><span class="sxs-lookup"><span data-stu-id="48082-110">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>
* <span data-ttu-id="48082-111">"Quiero asegurarme de que todo lo que se implementa o hace en la nube pública se ponga en marcha pensando en todo momento en la seguridad como máxima prioridad; ¿cómo puedo facilitar que así sea?"</span><span class="sxs-lookup"><span data-stu-id="48082-111">"I want to make sure that everything we deploy or do in the public cloud starts with the mindset of security first, how do I help facilitate that?"</span></span>

<span data-ttu-id="48082-112">La posibilidad de que existan suscripciones vacías sin ninguna protección es desalentadora.</span><span class="sxs-lookup"><span data-stu-id="48082-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="48082-113">Este espacio en blanco puede dificultar la migración a Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="48082-114">En este artículo sirve como punto de partida para que los profesionales técnicos satisfagan la necesidad de contar con un sistema de gobierno y la equilibren con el imperativo de ganar agilidad.</span><span class="sxs-lookup"><span data-stu-id="48082-114">This article provides a starting point for technical professionals to address the need for governance and balance it with the need for agility.</span></span> <span data-ttu-id="48082-115">Además, se presenta el concepto de scaffolding empresarial, que guía a las organizaciones en la implementación y administración de los entornos de Azure de forma segura.</span><span class="sxs-lookup"><span data-stu-id="48082-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure environments in a secure way.</span></span> <span data-ttu-id="48082-116">Proporciona el marco de trabajo para desarrollar controles eficaces y eficientes.</span><span class="sxs-lookup"><span data-stu-id="48082-116">It provides the framework to develop effective and efficient controls.</span></span>

## <a name="need-for-governance"></a><span data-ttu-id="48082-117">Necesidad de contar con un sistema de gobierno</span><span class="sxs-lookup"><span data-stu-id="48082-117">Need for governance</span></span>

<span data-ttu-id="48082-118">Al migrar la infraestructura a Azure, hay que abordar el asunto del sistema de gobierno en la primera fase para garantizar que la nube se utilice correctamente en la empresa.</span><span class="sxs-lookup"><span data-stu-id="48082-118">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="48082-119">Desafortunadamente, debido al tiempo que se tarda en crear un sistema de gobierno completo y toda la administración que conlleva, algunos grupos de negocios recurren directamente a los proveedores sin contar con su equipo de TI.</span><span class="sxs-lookup"><span data-stu-id="48082-119">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to providers without involving enterprise IT.</span></span> <span data-ttu-id="48082-120">Este enfoque puede dejar a la empresa expuesta a vulnerabilidades si los recursos no se administran correctamente.</span><span class="sxs-lookup"><span data-stu-id="48082-120">This approach can leave the enterprise open to compromise if the resources are not properly managed.</span></span> <span data-ttu-id="48082-121">Las características de la nube pública —agilidad, flexibilidad y precios basados en el consumo— son importantes para los grupos de negocios que necesitan satisfacer rápidamente las necesidades de los clientes (internos y externos).</span><span class="sxs-lookup"><span data-stu-id="48082-121">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="48082-122">Sin embargo, el equipo de TI de la empresa debe garantizar que los datos y sistemas estén protegidos de forma eficaz.</span><span class="sxs-lookup"><span data-stu-id="48082-122">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="48082-123">Al realizar una compilación, se utiliza la técnica scaffolding para crear la base de una estructura.</span><span class="sxs-lookup"><span data-stu-id="48082-123">When creating a building, scaffolding is used to create the basis of a structure.</span></span> <span data-ttu-id="48082-124">Las plantillas scaffold sirven de guía para el esquema general y proporcionan puntos de anclaje para poder montar sistemas más permanentes.</span><span class="sxs-lookup"><span data-stu-id="48082-124">The scaffold guides the general outline and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="48082-125">Las scaffold empresariales son lo mismo: una serie de controles flexibles y funcionalidades de Azure que proporcionan la estructura al entorno, así como delimitadores para los servicios basados en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="48082-125">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="48082-126">Además, brindan a los fabricantes (grupos de negocio y departamentos de TI) los cimientos para crear y asociar nuevos servicios, teniendo en cuenta la velocidad de entrega.</span><span class="sxs-lookup"><span data-stu-id="48082-126">It provides the builders (IT and business groups) a foundation to create and attach new services keeping speed of delivery in mind.</span></span>

<span data-ttu-id="48082-127">Estas plantillas se basan en las prácticas que hemos recopilado de muchas interacciones con clientes de varios tamaños.</span><span class="sxs-lookup"><span data-stu-id="48082-127">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="48082-128">Desde pequeñas organizaciones que desarrollan soluciones en la nube para grandes empresas internacionales hasta fabricantes de software independientes que van a migrar cargas de trabajo y desarrollar soluciones nativas de la nube.</span><span class="sxs-lookup"><span data-stu-id="48082-128">Those clients range from small organizations developing solutions in the cloud to large multi-national enterprises and independent software vendors who are migrating workloads and developing cloud-native solutions.</span></span> <span data-ttu-id="48082-129">Las plantillas scaffold empresariales se han creado con la suficiente flexibilidad como para admitir las cargas de trabajo de TI tradicionales y las del método ágil; por ejemplo, los desarrolladores que crean aplicaciones de software como servicio (SaaS) basadas en las funcionalidades de la plataforma Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-129">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure platform capabilities.</span></span>

<span data-ttu-id="48082-130">Asimismo, están diseñadas para ser el pilar de todas las suscripciones nuevas de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-130">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="48082-131">Estas plantillas permiten a los administradores asegurarse de que las cargas de trabajo cumplan los requisitos mínimos de gobierno de una organización sin impedir que los grupos de negocios y los desarrolladores cumplan rápidamente sus objetivos.</span><span class="sxs-lookup"><span data-stu-id="48082-131">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span> <span data-ttu-id="48082-132">Nuestra experiencia demuestra que esto agiliza significativamente el crecimiento de la nube pública, en lugar de obstaculizarlo.</span><span class="sxs-lookup"><span data-stu-id="48082-132">Our experience shows that this greatly speeds, rather than impedes, public cloud growth.</span></span>

> [!NOTE]
> <span data-ttu-id="48082-133">Microsoft ha publicado en versión preliminar una nueva funcionalidad denominada [Azure Blueprint](/azure/governance/blueprints/overview) que le permitirá empaquetar, administrar e implementar imágenes, plantillas, directivas y scripts comunes en las suscripciones y grupos de administración.</span><span class="sxs-lookup"><span data-stu-id="48082-133">Microsoft has released into preview a new capability called [Azure Blueprints](/azure/governance/blueprints/overview) that will enable you to package, manage, and deploy common images, templates, policies, and scripts across subscriptions and management groups.</span></span> <span data-ttu-id="48082-134">Esta funcionalidad es el puente entre el propósito de la plantilla scaffold como modelo de referencia y la implementación de ese modelo en la organización.</span><span class="sxs-lookup"><span data-stu-id="48082-134">This capability is the bridge between the scaffold's purpose as reference model and deploying that model to your organization.</span></span>
>
<span data-ttu-id="48082-135">En la imagen siguiente se muestran los componentes de la plantilla scaffold.</span><span class="sxs-lookup"><span data-stu-id="48082-135">The following image shows the components of the scaffold.</span></span> <span data-ttu-id="48082-136">La base se sustenta en un plan sólido para la administración de la jerarquía y las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48082-136">The foundation relies on a solid plan for the management hierarchy and subscriptions.</span></span> <span data-ttu-id="48082-137">Los pilares constan de directivas de Resource Manager y de estándares de nomenclatura eficaces.</span><span class="sxs-lookup"><span data-stu-id="48082-137">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="48082-138">El resto de los componentes de scaffolding son las principales funcionalidades y características de Azure que habilitan y conectan un entorno seguro y fácil de administrar.</span><span class="sxs-lookup"><span data-stu-id="48082-138">The rest of the scaffold are core Azure capabilities and features that enable and connect a secure and manageable environment.</span></span>

![Scaffold de Enterprise](./_images/scaffoldv2.png)

## <a name="define-your-hierarchy"></a><span data-ttu-id="48082-140">Definición de la jerarquía</span><span class="sxs-lookup"><span data-stu-id="48082-140">Define your hierarchy</span></span>

<span data-ttu-id="48082-141">La base de una plantilla scaffold es la jerarquía y la relación de la inscripción Enterprise de Azure a través de suscripciones y grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-141">The foundation of the scaffold is the hierarchy and relationship of the Azure Enterprise Enrollment through to subscriptions and resource groups.</span></span> <span data-ttu-id="48082-142">La inscripción Enterprise define la forma y el uso de los servicios de Azure en la empresa desde un punto de vista contractual.</span><span class="sxs-lookup"><span data-stu-id="48082-142">The enterprise enrollment defines the shape and use of Azure services within your company from a contractual point of view.</span></span> <span data-ttu-id="48082-143">En el contrato Enterprise, puede subdividir el entorno en departamentos, cuentas y, finalmente, suscripciones y grupos de recursos para que coincidan con la estructura de la organización.</span><span class="sxs-lookup"><span data-stu-id="48082-143">Within the enterprise agreement, you can further subdivide the environment into departments, accounts, and finally, subscriptions and resource groups to match your organization's structure.</span></span>

![Jerarquía](./_images/agreement.png)

<span data-ttu-id="48082-145">Una suscripción de Azure es la unidad básica donde se encuentran todos los recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-145">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="48082-146">También define varios límites en Azure, como el número de núcleos, redes virtuales y otros recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-146">It also defines several limits within Azure, such as number of cores, virtual networks and other resources.</span></span> <span data-ttu-id="48082-147">Los grupos de recursos de Azure se utilizan para perfeccionar más el modelo de suscripción y habilitar una agrupación de recursos más natural.</span><span class="sxs-lookup"><span data-stu-id="48082-147">Azure Resource Groups are used to further refine the subscription model and enable a more natural grouping of resources.</span></span>

<span data-ttu-id="48082-148">Cada empresa es diferente, y la jerarquía de la imagen anterior permite una gran flexibilidad en lo que respecta a cómo se organiza Azure en la empresa.</span><span class="sxs-lookup"><span data-stu-id="48082-148">Every enterprise is different and the hierarchy in the above image allows for significant flexibility in how Azure is organized within your company.</span></span> <span data-ttu-id="48082-149">El modelado de la jerarquía para reflejar las necesidades de su empresa en cuanto a facturación, administración de recursos y acceso a los recursos es la primera decisión, y la más importante, que se debe tomar para empezar a trabajar en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="48082-149">Modeling your hierarchy to reflect the needs of your company for billing, resource management, and resource access is the first &mdash; and most important &mdash; decision you make when starting in the public cloud.</span></span>

### <a name="departments-and-accounts"></a><span data-ttu-id="48082-150">Departamentos y cuentas</span><span class="sxs-lookup"><span data-stu-id="48082-150">Departments and Accounts</span></span>

<span data-ttu-id="48082-151">Los tres patrones comunes de las inscripciones de Azure son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="48082-151">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="48082-152">El patrón **funcional**</span><span class="sxs-lookup"><span data-stu-id="48082-152">The **functional** pattern</span></span>

    ![functional](./_images/functional.png)
* <span data-ttu-id="48082-154">El patrón de **unidad de negocio**</span><span class="sxs-lookup"><span data-stu-id="48082-154">The **business unit** pattern</span></span>

    ![Patrón de unidad de negocio](./_images/business.png)
* <span data-ttu-id="48082-156">El patrón **geográfico**</span><span class="sxs-lookup"><span data-stu-id="48082-156">The **geographic** pattern</span></span>

    ![Patrón geográfico](./_images/geographic.png)

<span data-ttu-id="48082-158">Aunque cada uno de estos patrones tiene su sitio, cada vez se adopta más el patrón de la **unidad de negocio** por su flexibilidad para dar forma al modelo de costos de una organización y para reflejar el ámbito de control.</span><span class="sxs-lookup"><span data-stu-id="48082-158">Though each of these patterns has its place, the **business unit** pattern is increasingly being adopted for its flexibility in modeling an organization's cost model as well as reflecting span of control.</span></span> <span data-ttu-id="48082-159">El grupo de operaciones e ingeniería principal de Microsoft ha creado un subconjunto del patrón de la **unidad de negocio** que resulta muy eficaz, cuyo modelado se realiza a nivel **federal**, **estatal** y **local**.</span><span class="sxs-lookup"><span data-stu-id="48082-159">Microsoft Core Engineering and Operations group has created a sub-set of the **business unit** pattern that is very effective, modeled on **Federal**, **State**, and **Local**.</span></span> <span data-ttu-id="48082-160">Para más información, vea [Organizing subscriptions and resource groups within the Enterprise](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/) (Organización de suscripciones y grupos de recursos en la empresa).</span><span class="sxs-lookup"><span data-stu-id="48082-160">(For more information, see [Organizing subscriptions and resource groups within the Enterprise](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise/).)</span></span>

### <a name="management-groups"></a><span data-ttu-id="48082-161">Grupos de administración</span><span class="sxs-lookup"><span data-stu-id="48082-161">Management Groups</span></span>

<span data-ttu-id="48082-162">Microsoft ha lanzado recientemente una nueva forma de modelar la jerarquía: [grupos de administración de Azure](/azure/azure-resource-manager/management-groups-overview).</span><span class="sxs-lookup"><span data-stu-id="48082-162">Microsoft has recently released a new way of modeling your hierarchy: [Azure management groups](/azure/azure-resource-manager/management-groups-overview).</span></span> <span data-ttu-id="48082-163">Los grupos de administración son mucho más flexibles que los departamentos y las cuentas y se pueden anidar hasta seis niveles.</span><span class="sxs-lookup"><span data-stu-id="48082-163">Management groups are much more flexible than departments and accounts and can be nested up to six levels.</span></span> <span data-ttu-id="48082-164">Los grupos de administración permiten crear una jerarquía que es independiente de la jerarquía de facturación, únicamente para una administración eficaz de los recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-164">Management groups allow you to create a hierarchy that is separate from your billing hierarchy, solely for efficient management of resources.</span></span> <span data-ttu-id="48082-165">Los grupos de administración pueden reflejar la jerarquía de facturación, y las empresas suelen empezar de esta forma.</span><span class="sxs-lookup"><span data-stu-id="48082-165">Management groups can mirror your billing hierarchy and often enterprises start that way.</span></span> <span data-ttu-id="48082-166">Sin embargo, la eficacia de los grupos de administración se observa al usarlos para modelar la organización, cuando las suscripciones relacionadas, con independencia de que se encuentren en la jerarquía de facturación, se agrupan y necesitan tener asignados roles comunes, además de directivas e iniciativas.</span><span class="sxs-lookup"><span data-stu-id="48082-166">However, the power of management groups is when you use them to model your organization where related subscriptions &mdash; regardless where they are in the billing hierarchy &mdash; are grouped together and need common roles assigned as well as policies and initiatives.</span></span> <span data-ttu-id="48082-167">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="48082-167">A few examples:</span></span>

* <span data-ttu-id="48082-168">**Producción/No producción**.</span><span class="sxs-lookup"><span data-stu-id="48082-168">**Production/Non-Production**.</span></span> <span data-ttu-id="48082-169">Algunas empresas crean grupos de administración para identificar sus suscripciones de producción y las que no son de producción.</span><span class="sxs-lookup"><span data-stu-id="48082-169">Some enterprises create management groups to identify their production and non-production subscriptions.</span></span> <span data-ttu-id="48082-170">Los grupos de administración permiten a estos clientes administrar con más facilidad los roles y las directivas; por ejemplo: la suscripción que no es de producción puede conceder a los desarrolladores acceso como "colaborador", mientras que, en producción, solo disponen de acceso de "lectura".</span><span class="sxs-lookup"><span data-stu-id="48082-170">Management groups allow these customers to more easily manage roles and policies, for example: non-production subscription may allow developers "contributor" access, but in production, they have only "reader" access.</span></span>
* <span data-ttu-id="48082-171">**Servicios internos/servicios externos**.</span><span class="sxs-lookup"><span data-stu-id="48082-171">**Internal Services/External Services**.</span></span> <span data-ttu-id="48082-172">Al igual que sucede con los escenarios de producción/no producción, las empresas suelen tener requisitos, directivas y roles distintos para los servicios internos en comparación con los externos, estos últimos orientados al cliente.</span><span class="sxs-lookup"><span data-stu-id="48082-172">Much like Production/Non-Production, enterprises often have different requirements, policies and roles for internal services vs external (customer facing) services.</span></span>

<span data-ttu-id="48082-173">Los grupos de administración bien diseñados son, junto con las iniciativas y las directivas de Azure, la columna vertebral de un gobierno eficaz de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-173">Well thought out management groups are, along with Azure Policy and Initiatives the backbone of efficient governance of Azure.</span></span>

### <a name="subscriptions"></a><span data-ttu-id="48082-174">Suscripciones</span><span class="sxs-lookup"><span data-stu-id="48082-174">Subscriptions</span></span>

<span data-ttu-id="48082-175">A la hora de tomar decisiones sobre departamentos, cuentas o grupos de administración, se interesa principalmente en cómo dividir el entorno de Azure para adaptarlo a su organización.</span><span class="sxs-lookup"><span data-stu-id="48082-175">When deciding on your Departments and Accounts (or management groups), you are primarily looking at how you're dividing up your Azure environment to match your organization.</span></span> <span data-ttu-id="48082-176">Sin embargo, las decisiones relativas a las suscripciones son más importantes, ya que repercuten en la seguridad, la escalabilidad y la facturación.</span><span class="sxs-lookup"><span data-stu-id="48082-176">Subscriptions, however, are where the real work happens and your decisions here impact security, scalability and billing.</span></span>  <span data-ttu-id="48082-177">Muchas organizaciones usan los siguientes patrones como referencia:</span><span class="sxs-lookup"><span data-stu-id="48082-177">Many organizations look at the following patterns as their guides:</span></span>

* <span data-ttu-id="48082-178">**Aplicación o servicio**: las suscripciones representan una aplicación o un servicio (cartera de aplicaciones).</span><span class="sxs-lookup"><span data-stu-id="48082-178">**Application/Service**: Subscriptions represent an application or a service (portfolio of applications)</span></span>
* <span data-ttu-id="48082-179">**Ciclo de vida**: las suscripciones representan el ciclo de vida de un servicio, como producción o desarrollo.</span><span class="sxs-lookup"><span data-stu-id="48082-179">**Lifecycle**: Subscriptions represent a lifecycle of a service, such as Production or Development.</span></span>
* <span data-ttu-id="48082-180">**Departamento**: las suscripciones representan los departamentos de la organización.</span><span class="sxs-lookup"><span data-stu-id="48082-180">**Department**: Subscriptions represent departments in the organization.</span></span>

<span data-ttu-id="48082-181">Los dos primeros patrones son los más usados y ambos son muy recomendables.</span><span class="sxs-lookup"><span data-stu-id="48082-181">The first two patterns are the most commonly used, and both are highly recommended.</span></span> <span data-ttu-id="48082-182">El enfoque del ciclo de vida es adecuado para la mayoría de las organizaciones.</span><span class="sxs-lookup"><span data-stu-id="48082-182">The Lifecycle approach is appropriate for most organizations.</span></span> <span data-ttu-id="48082-183">En este caso, la recomendación general es usar dos suscripciones de base.</span><span class="sxs-lookup"><span data-stu-id="48082-183">In this case, the general recommendation is to use two base subscriptions.</span></span> <span data-ttu-id="48082-184">"Producción" y "No producción" y luego usar grupos de recursos para desglosar aún más los entornos.</span><span class="sxs-lookup"><span data-stu-id="48082-184">"Production" and "Non-Production," and then use resource groups to break out the environments further.</span></span>

### <a name="resource-groups"></a><span data-ttu-id="48082-185">Grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="48082-185">Resource groups</span></span>

<span data-ttu-id="48082-186">Azure Resource Manager permite colocar recursos en grupos significativos de administración, facturación o afinidad natural.</span><span class="sxs-lookup"><span data-stu-id="48082-186">Azure Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="48082-187">Los grupos de recursos son contenedores de recursos que tienen un ciclo de vida común o comparten un atributo como "Todos los servidores SQL Server" o "Aplicación A".</span><span class="sxs-lookup"><span data-stu-id="48082-187">Resource groups are containers of resources that have a common life cycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="48082-188">Los grupos de recursos no pueden anidarse, y los recursos solo pueden pertenecer a un solo grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-188">Resource groups can't be nested, and resources can only belong to one resource group.</span></span> <span data-ttu-id="48082-189">Algunas acciones pueden aplicarse a todos los recursos de un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-189">Some actions can act on all resources in a resource group.</span></span> <span data-ttu-id="48082-190">Por ejemplo, al eliminar un grupo de recursos, se quitan todos los recursos del grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-190">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="48082-191">Al igual que sucede con las suscripciones, existen patrones comunes al crear grupos de recursos, que variarán de las cargas de trabajo de "TI tradicional" a las cargas de trabajo de "TI ágil":</span><span class="sxs-lookup"><span data-stu-id="48082-191">Like subscriptions, there are common patterns when creating resource groups and will vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>

* <span data-ttu-id="48082-192">Las cargas de trabajo de "TI tradicional" se suelen agrupar por elementos dentro del mismo ciclo de vida, como una aplicación.</span><span class="sxs-lookup"><span data-stu-id="48082-192">"Traditional IT" workloads are most commonly grouped by items within the same life cycle, such as an application.</span></span> <span data-ttu-id="48082-193">Si se agrupan las aplicaciones, se podrán administrar las aplicaciones de forma individual.</span><span class="sxs-lookup"><span data-stu-id="48082-193">Grouping by application allows for individual application management.</span></span>
* <span data-ttu-id="48082-194">Las cargas de trabajo de TI o del método ágil tienden a centrarse en las aplicaciones en la nube orientadas a los clientes externos.</span><span class="sxs-lookup"><span data-stu-id="48082-194">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="48082-195">Los grupos de recursos suelen reflejar las capas de implementación (por ejemplo, el nivel web y el de aplicaciones) y administración.</span><span class="sxs-lookup"><span data-stu-id="48082-195">The resource groups often reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>

> [!NOTE]
> <span data-ttu-id="48082-196">La comprensión de la carga de trabajo lo ayudará a desarrollar una estrategia de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-196">Understanding your workload helps you develop a resource group strategy.</span></span> <span data-ttu-id="48082-197">Estos patrones se pueden mezclar y asociar.</span><span class="sxs-lookup"><span data-stu-id="48082-197">These patterns can be mixed and matched.</span></span> <span data-ttu-id="48082-198">Por ejemplo, un grupo de recursos de servicios compartidos en la misma suscripción como grupos de recursos "ágiles".</span><span class="sxs-lookup"><span data-stu-id="48082-198">For example, a shared services resource group in the same subscription as "Agile" resource groups.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="48082-199">Estándares de nomenclatura</span><span class="sxs-lookup"><span data-stu-id="48082-199">Naming standards</span></span>

<span data-ttu-id="48082-200">El primer pilar de una plantilla scaffold es un estándar de nomenclatura coherente.</span><span class="sxs-lookup"><span data-stu-id="48082-200">The first pillar of the scaffold is a consistent naming standard.</span></span> <span data-ttu-id="48082-201">Cuando se diseñan bien, se pueden identificar los recursos en el portal, en una factura y en los scripts.</span><span class="sxs-lookup"><span data-stu-id="48082-201">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="48082-202">Puede que ya disponga de estándares de nomenclatura para la infraestructura local.</span><span class="sxs-lookup"><span data-stu-id="48082-202">You likely already have existing naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="48082-203">Al agregar Azure a su entorno, debe extender estos estándares de nomenclatura a los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-203">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span>

> [!TIP]
> <span data-ttu-id="48082-204">Convenciones de nomenclatura:</span><span class="sxs-lookup"><span data-stu-id="48082-204">For naming conventions:</span></span>
> * <span data-ttu-id="48082-205">Revise y adopte siempre que sea posible esta [guía de patrones y prácticas](https://docs.microsoft.com/en-us/azure/architecture/best-practices/naming-conventions),</span><span class="sxs-lookup"><span data-stu-id="48082-205">Review and adopt where possible the [Patterns and Practices guidance](https://docs.microsoft.com/en-us/azure/architecture/best-practices/naming-conventions).</span></span> <span data-ttu-id="48082-206">que lo ayudará a decidirse por un estándar de nomenclatura significativo e ilustrará ejemplos amplios.</span><span class="sxs-lookup"><span data-stu-id="48082-206">This guidance helps you decide on a meaningful naming standard and provides extensive examples.</span></span>
> * <span data-ttu-id="48082-207">Uso de las directivas de Resource Manager para ayudar a reforzar los estándares de nomenclatura</span><span class="sxs-lookup"><span data-stu-id="48082-207">Using Resource Manager Policies to help enforce naming standards</span></span>
>
><span data-ttu-id="48082-208">Recuerde que es difícil cambiar los nombres más adelante, así que, si dedica ahora unos minutos, se ahorrará problemas más tarde.</span><span class="sxs-lookup"><span data-stu-id="48082-208">Remember that it's difficult to change names later, so a few minutes now will save you trouble later.</span></span>

<span data-ttu-id="48082-209">Centre los estándares de nomenclatura en aquellos recursos que suelen usarse y buscarse con más frecuencia.</span><span class="sxs-lookup"><span data-stu-id="48082-209">Concentrate your naming standards on those resources that are more commonly used and searched for.</span></span>  <span data-ttu-id="48082-210">Por ejemplo, todos los grupos de recursos deben respetar un estricto estándar de claridad.</span><span class="sxs-lookup"><span data-stu-id="48082-210">For example, all resource groups should follow a strong standard for clarity.</span></span>

### <a name="resource-tags"></a><span data-ttu-id="48082-211">Etiquetas del recurso</span><span class="sxs-lookup"><span data-stu-id="48082-211">Resource Tags</span></span>

<span data-ttu-id="48082-212">Las etiquetas de los recursos están estrechamente vinculadas con los estándares de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="48082-212">Resource tags are tightly aligned with naming standards.</span></span> <span data-ttu-id="48082-213">A medida que se agregan recursos a las suscripciones, cada vez resulta más importante clasificarlos de forma lógica para fines de facturación, administración y operativos.</span><span class="sxs-lookup"><span data-stu-id="48082-213">As resources are added to subscriptions, it becomes increasingly important to logically categorize them for billing, management, and operational purposes.</span></span> <span data-ttu-id="48082-214">Para más información, vea [Uso de etiquetas para organizar los recursos de Azure](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags).</span><span class="sxs-lookup"><span data-stu-id="48082-214">For more information, see [Use tags to organize your Azure Resource](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="48082-215">Las etiquetas pueden contener información personal y pueden estar sujetas a las disposiciones del RGPD.</span><span class="sxs-lookup"><span data-stu-id="48082-215">Tags can contain personal information and may fall under the regulations of GDPR.</span></span> <span data-ttu-id="48082-216">Planee la administración de las etiquetas detenidamente.</span><span class="sxs-lookup"><span data-stu-id="48082-216">Plan for management of your tags carefully.</span></span> <span data-ttu-id="48082-217">Si desea obtener información general sobre el RGPD, consulte la [sección sobre el RGPD del Portal de confianza de servicios](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted).</span><span class="sxs-lookup"><span data-stu-id="48082-217">If you're looking for general info about GDPR, see the GDPR section of the [Service Trust Portal](https://servicetrust.microsoft.com/ViewPage/GDPRGetStarted).</span></span>

<span data-ttu-id="48082-218">En muchos aspectos, las etiquetas se usan más allá de la facturación y la administración.</span><span class="sxs-lookup"><span data-stu-id="48082-218">Tags are used in many ways beyond billing and management.</span></span> <span data-ttu-id="48082-219">A menudo se usan como parte de la automatización (consulte la sección siguiente).</span><span class="sxs-lookup"><span data-stu-id="48082-219">They are often used as part of automation (see later section).</span></span> <span data-ttu-id="48082-220">Esto puede ocasionar conflictos si no se considera por adelantado.</span><span class="sxs-lookup"><span data-stu-id="48082-220">This can cause conflicts if not considered up front.</span></span> <span data-ttu-id="48082-221">La práctica recomendada consiste en identificar todas las etiquetas comunes a nivel de empresa (por ejemplo, ApplicationOwner o CostCenter) y aplicarlas de forma coherente al implementar recursos mediante automatización.</span><span class="sxs-lookup"><span data-stu-id="48082-221">The recommended practice is to identify all the common tags at the enterprise level (such as ApplicationOwner, CostCenter) and apply them consistently when deploying resources using automation.</span></span>

## <a name="azure-policy-and-initiatives"></a><span data-ttu-id="48082-222">Iniciativas y directivas de Azure</span><span class="sxs-lookup"><span data-stu-id="48082-222">Azure Policy and Initiatives</span></span>

<span data-ttu-id="48082-223">El segundo pilar implica el uso de [iniciativas y directivas de Azure](/azure/azure-policy/azure-policy-introduction) para administrar el riesgo con la aplicación de reglas (con efectos) en los recursos y servicios de las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48082-223">The second pillar of the scaffold involves using [Azure Policy and Initiatives](/azure/azure-policy/azure-policy-introduction) to manage risk by enforcing rules (with effects) over the resources and services in your subscriptions.</span></span> <span data-ttu-id="48082-224">Las iniciativas de Azure son colecciones de directivas diseñadas para lograr un objetivo único.</span><span class="sxs-lookup"><span data-stu-id="48082-224">Azure Initiatives are collections of policies that are designed to achieve a single goal.</span></span> <span data-ttu-id="48082-225">Las iniciativas y directivas de Azure se asignan posteriormente a un ámbito de recursos para la aplicación de directivas concretas.</span><span class="sxs-lookup"><span data-stu-id="48082-225">Azure policy and initiatives are then assigned to a resource scope to begin enforcement of the particular policies.</span></span>
<span data-ttu-id="48082-226"><IMG de iniciativas/directivas/asignaciones></span><span class="sxs-lookup"><span data-stu-id="48082-226"><IMG of Initiatives/Policies/Assignments></span></span>

<span data-ttu-id="48082-227">Las iniciativas y directivas de Azure son aún más eficaces cuando se usan con los grupos de administración mencionados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="48082-227">Azure Policy and Initiatives are even more powerful when used with the management groups mentioned earlier.</span></span> <span data-ttu-id="48082-228">Los grupos de administración permiten la asignación de una iniciativa o directiva a un conjunto completo de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48082-228">Management groups enable the assignment of an initiative or policy to an entire set of subscriptions.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="48082-229">Usos comunes de las directivas de Resource Manager</span><span class="sxs-lookup"><span data-stu-id="48082-229">Common uses of Resource Manager policies</span></span>

<span data-ttu-id="48082-230">Las iniciativas y directivas de Azure son una herramienta eficaz del kit de herramientas de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-230">Azure policies and initiatives are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="48082-231">Las directivas permiten a las empresas proporcionar controles para las cargas de trabajo de "TI tradicional" que aportan la estabilidad necesaria para las aplicaciones de línea de negocio, además de permitir las cargas de trabajo "ágiles", como desarrollar aplicaciones de cliente sin tener que exponer a la empresa a riesgos adicionales.</span><span class="sxs-lookup"><span data-stu-id="48082-231">Policies allow companies to provide controls for "Traditional IT" workloads that enable the stability that is needed for LOB applications while also allowing "Agile" workloads; such as, developing customer applications without opening up the enterprise to additional risk.</span></span> <span data-ttu-id="48082-232">Los patrones más comunes que se pueden encontrar para las directivas son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="48082-232">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="48082-233">**Soberanía de datos y cumplimiento geográfico**.</span><span class="sxs-lookup"><span data-stu-id="48082-233">**Geo-compliance/data sovereignty**.</span></span> <span data-ttu-id="48082-234">Azure tiene una lista creciente de regiones en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="48082-234">Azure has an ever-growing list of regions across the world.</span></span> <span data-ttu-id="48082-235">Las empresas a menudo necesitan asegurarse de que los recursos de un ámbito concreto permanecen en una región geográfica para abordar los requisitos normativos.</span><span class="sxs-lookup"><span data-stu-id="48082-235">Enterprises often need to ensure that resources in a particular scope remain in a geographic region to address regulatory requirements.</span></span>
* <span data-ttu-id="48082-236">**Evite exponer los servidores públicamente**.</span><span class="sxs-lookup"><span data-stu-id="48082-236">**Avoid exposing servers publicly**.</span></span> <span data-ttu-id="48082-237">Una directiva de Azure puede prohibir la implementación de determinados tipos de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-237">Azure policy can prohibit the deployment of certain resources types.</span></span> <span data-ttu-id="48082-238">Un uso común es crear una directiva para denegar la creación de una dirección IP pública dentro de un ámbito determinado, para evitar la exposición no deseada de un servidor a Internet.</span><span class="sxs-lookup"><span data-stu-id="48082-238">A common use is to create a policy to deny the creation of a public IP within a particular scope, avoiding un-intended exposure of a server to the internet.</span></span>
* <span data-ttu-id="48082-239">**Metadatos y administración de costos**.</span><span class="sxs-lookup"><span data-stu-id="48082-239">**Cost Management and Metadata**.</span></span> <span data-ttu-id="48082-240">Las etiquetas de recursos suelen usarse para agregar datos de facturación importantes a los recursos y grupos de recursos, como CostCenter, Owner y mucho más.</span><span class="sxs-lookup"><span data-stu-id="48082-240">Resource tags are often used to add important billing data to resources and resource groups such as CostCenter, Owner and more.</span></span> <span data-ttu-id="48082-241">Estas etiquetas ofrecen un valor incalculable para una facturación y administración precisas de los recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-241">These tags are invaluable for accurate billing and management of resources.</span></span> <span data-ttu-id="48082-242">Las directivas pueden exigir la aplicación de etiquetas de recursos a todos los recursos implementados, lo que facilita la administración.</span><span class="sxs-lookup"><span data-stu-id="48082-242">Policies can enforce the application of resources tags to all deployed resource, making it easier to manage.</span></span>

### <a name="common-uses-of-initiatives"></a><span data-ttu-id="48082-243">Usos comunes de iniciativas</span><span class="sxs-lookup"><span data-stu-id="48082-243">Common uses of initiatives</span></span>

<span data-ttu-id="48082-244">La introducción de las iniciativas proporciona a las empresas una manera de agrupar directivas lógicas y realizar un seguimiento como un conjunto.</span><span class="sxs-lookup"><span data-stu-id="48082-244">The introduction of initiatives provided enterprises a way to group logical policies together and track as a whole.</span></span> <span data-ttu-id="48082-245">Las iniciativas ayudan aún más a las empresas a satisfacer las necesidades de las cargas de trabajo "ágiles" y "tradicionales".</span><span class="sxs-lookup"><span data-stu-id="48082-245">Initiatives further support the enterprise to address the needs of both "agile" and "traditional" workloads.</span></span> <span data-ttu-id="48082-246">Hemos visto usos muy creativos de iniciativas, pero con frecuencia observamos:</span><span class="sxs-lookup"><span data-stu-id="48082-246">We have seen very creative uses of initiatives, but commonly we see:</span></span>

* <span data-ttu-id="48082-247">**Habilitar la supervisión en Azure Security Center**.</span><span class="sxs-lookup"><span data-stu-id="48082-247">**Enable monitoring in Azure Security Center**.</span></span> <span data-ttu-id="48082-248">Se trata de una iniciativa predeterminada de la directiva de Azure y de un ejemplo excelente de lo que son las iniciativas.</span><span class="sxs-lookup"><span data-stu-id="48082-248">This is a default initiative in the Azure Policy and an excellent example of what initiative are.</span></span> <span data-ttu-id="48082-249">Permite adoptar directivas que identifican bases de datos SQL sin cifrar, vulnerabilidades de las máquinas virtuales y necesidades más comunes relacionadas con la seguridad.</span><span class="sxs-lookup"><span data-stu-id="48082-249">It enables policies that identify un-encrypted SQL databases, VM vulnerabilities and more common security related needs.</span></span>
* <span data-ttu-id="48082-250">**Iniciativa normativa específica**.</span><span class="sxs-lookup"><span data-stu-id="48082-250">**Regulatory specific initiative**.</span></span> <span data-ttu-id="48082-251">Las empresas suelen agrupar directivas comunes a una disposición normativa (como HIPAA), a fin de poder realizar un seguimiento eficaz de los controles y de la conformidad de dichos controles.</span><span class="sxs-lookup"><span data-stu-id="48082-251">Enterprises often group policies common to a regulatory requirement (such as HIPAA) so that controls and compliancy to those controls are tracked efficiently.</span></span>
* <span data-ttu-id="48082-252">**SKU y tipos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="48082-252">**Resource Types & SKUs**.</span></span> <span data-ttu-id="48082-253">La creación de una iniciativa que restringe los tipos de recursos que se pueden implementar y las SKU que se pueden implementar puede ayudar a controlar los costos y a asegurarse de que la organización solo implementa los recursos que su equipo puede respaldar con los procedimientos y el conjunto de aptitudes necesarios.</span><span class="sxs-lookup"><span data-stu-id="48082-253">Creating an initiative that restricts the types of resources that can be deployed as well as the SKUs that can be deployed can help to control costs and ensure your organization is only deploying resources that your team have the skillset and procedures to support.</span></span>

> [!TIP]
> <span data-ttu-id="48082-254">Se recomienda usar siempre definiciones de iniciativas en lugar de definiciones de directivas.</span><span class="sxs-lookup"><span data-stu-id="48082-254">We recommend you always use initiative definitions instead of policy definitions.</span></span> <span data-ttu-id="48082-255">Después de asignar una iniciativa a un ámbito, por ejemplo, una suscripción o un grupo de administración, puede agregar fácilmente otra directiva a la iniciativa sin tener que cambiar las asignaciones.</span><span class="sxs-lookup"><span data-stu-id="48082-255">After assigning an initiative to a scope, such as subscription or management group, you can easily add another policy to the initiative without having to change any assignments.</span></span> <span data-ttu-id="48082-256">Esto facilita bastante el reconocimiento de lo que se ha aplicado y el seguimiento del cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="48082-256">This makes understanding what is applied and tracking compliance far easier.</span></span>

### <a name="policy-and-initiative-assignments"></a><span data-ttu-id="48082-257">Asignaciones de iniciativas y directivas</span><span class="sxs-lookup"><span data-stu-id="48082-257">Policy and Initiative assignments</span></span>

<span data-ttu-id="48082-258">Una vez creadas las directivas y tras haberlas agrupado en iniciativas lógicas, debe asignar la directiva a un ámbito, ya sea un grupo de administración, una suscripción o incluso un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-258">After the creation of policies and grouping them into logical initiatives you must assign the policy to a scope, whether it is a management group, a subscription or even a resource group.</span></span> <span data-ttu-id="48082-259">Las asignaciones permite excluir un subámbito de la asignación de una directiva.</span><span class="sxs-lookup"><span data-stu-id="48082-259">Assignments allow you to also exclude a sub-scope from the assignment of a policy.</span></span> <span data-ttu-id="48082-260">Por ejemplo, si deniega la creación de direcciones IP públicas dentro de una suscripción, podría crear una asignación con una exclusión para un grupo de recursos conectado a la red perimetral protegida.</span><span class="sxs-lookup"><span data-stu-id="48082-260">For example, if you deny the creation of public IPs within a subscription, you could create an assignment with an exclusion for a resource group connected to your protected DMZ.</span></span>

<span data-ttu-id="48082-261">Encontrará varios ejemplos de directivas que muestran cómo se pueden aplicar directivas e iniciativas a varios recursos en Azure en este repositorio de [GitHub](https://github.com/Azure/azure-policy).</span><span class="sxs-lookup"><span data-stu-id="48082-261">You will find several Policy examples that show how Policy and Initiatives can be applied to various resources within Azure on this [GitHub](https://github.com/Azure/azure-policy) repository.</span></span>

## <a name="identity-and-access-management"></a><span data-ttu-id="48082-262">Administración de identidades y acceso</span><span class="sxs-lookup"><span data-stu-id="48082-262">Identity and access management</span></span>

<span data-ttu-id="48082-263">Una de las primeras preguntas, y la más importante, que se plantea al empezar a trabajar con la nube pública es "¿Quién debe tener acceso a los recursos?".</span><span class="sxs-lookup"><span data-stu-id="48082-263">One of the first, and most crucial, questions you ask yourself when starting with the public cloud is "who should have access to resources?"</span></span> <span data-ttu-id="48082-264">y cómo puede controlar dicho acceso.</span><span class="sxs-lookup"><span data-stu-id="48082-264">and "how do I control this access?"</span></span> <span data-ttu-id="48082-265">Permitir o denegar el acceso a Azure Portal, así como controlar el acceso a los recursos del portal, resulta fundamental para el éxito y la seguridad a largo plazo de los recursos de la nube.</span><span class="sxs-lookup"><span data-stu-id="48082-265">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is critical to the long term success and safety of your assets in the cloud.</span></span>

<span data-ttu-id="48082-266">Para realizar la tarea de proteger el acceso a los recursos, primero deberá configurar el proveedor de identidades y luego configurar los roles y el acceso.</span><span class="sxs-lookup"><span data-stu-id="48082-266">To accomplish the task of securing access to your resources you will first configure your identity provider and then configure Roles and access.</span></span> <span data-ttu-id="48082-267">Azure Active Directory (Azure AD), conectado a su entorno local de Active Directory, es la base de la identidad de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-267">Azure Active Directory (Azure AD), connected to your on-premises Active Directory, is the foundation of Azure Identity.</span></span> <span data-ttu-id="48082-268">Dicho esto, Azure AD *no* es Active Directory, y es importante comprender qué es un inquilino de Azure y qué relación guarda con la inscripción a Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-268">That said, Azure AD is *not* Active Directory and it's important to understand what an Azure AD tenant is and how it relates to your Azure enrollment.</span></span>  <span data-ttu-id="48082-269">Revise la [información](../getting-started/azure-resource-access.md) disponible para obtener una base sólida sobre Azure AD y AD.</span><span class="sxs-lookup"><span data-stu-id="48082-269">Review the available [information](../getting-started/azure-resource-access.md) to gain a solid foundation on Azure AD and AD.</span></span> <span data-ttu-id="48082-270">Para conectar y sincronizar Active Directory con Azure AD, instale y configure la [herramienta AD Connect](/azure/active-directory/connect/active-directory-aadconnect) a nivel local.</span><span class="sxs-lookup"><span data-stu-id="48082-270">To connect and synchronize your Active Directory to Azure AD, install and configure the [AD Connect tool](/azure/active-directory/connect/active-directory-aadconnect) on-premises.</span></span>

![arch.png](./_images/arch.png)

<span data-ttu-id="48082-272">Cuando se publicó inicialmente Azure, los controles de acceso a una suscripción eran básicos: Administrador o Coadministrador.</span><span class="sxs-lookup"><span data-stu-id="48082-272">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="48082-273">Acceder una suscripción del modelo clásico implicaba hacerlo a todos los recursos del portal.</span><span class="sxs-lookup"><span data-stu-id="48082-273">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="48082-274">Esta falta de un control específico provocó una proliferación de suscripciones que proporcionaban un nivel de control de acceso razonable a una inscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-274">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span> <span data-ttu-id="48082-275">Esta proliferación de suscripciones ya no es necesaria.</span><span class="sxs-lookup"><span data-stu-id="48082-275">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="48082-276">Con el control de acceso basado en rol (RBAC), puede asignar usuarios a roles estándar que proporcionan acceso común como "propietario", "colaborador" o "lector" o incluso crear roles propios.</span><span class="sxs-lookup"><span data-stu-id="48082-276">With role-based access control (RBAC), you can assign users to standard roles that provide common access such as "owner", "contributor" or "reader" or even create your own roles</span></span>

<span data-ttu-id="48082-277">Al implementar el acceso basado en roles, los siguientes aspectos son muy recomendables:</span><span class="sxs-lookup"><span data-stu-id="48082-277">When implementing role-based access, the following are highly recommended:</span></span>

* <span data-ttu-id="48082-278">Controlar al administrador y coadministrador de una suscripción, ya que estos roles tienen permisos amplios.</span><span class="sxs-lookup"><span data-stu-id="48082-278">Control the Administrator/Co-Administrator of a subscription as these roles have extensive permissions.</span></span> <span data-ttu-id="48082-279">Solo debe agregar al propietario de la suscripción como un coadministrador si es necesario administrar las implementaciones clásicas de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-279">You only need to add the Subscription Owner as a Co-administrator if they need to managed Azure Classic deployments.</span></span>

* <span data-ttu-id="48082-280">Usar grupos de administración para asignar [roles](/azure/azure-resource-manager/management-groups-overview#management-group-access) en varias suscripciones y reducir la carga que supone administrarlos a nivel de suscripción.</span><span class="sxs-lookup"><span data-stu-id="48082-280">Use Management Groups to assign [roles](/azure/azure-resource-manager/management-groups-overview#management-group-access) across multiple subscriptions and reduce the burden of managing them at the subscription level.</span></span>
* <span data-ttu-id="48082-281">Agregue los usuarios de Azure a un grupo (por ejemplo, los propietarios de la aplicación X) en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="48082-281">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="48082-282">Utilice el grupo sincronizado para proporcionar a los miembros del grupo los derechos adecuados para administrar el grupo de recursos que contiene la aplicación.</span><span class="sxs-lookup"><span data-stu-id="48082-282">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
* <span data-ttu-id="48082-283">Siga el principio de conceder los **privilegios mínimos** necesarios para realizar el trabajo previsto.</span><span class="sxs-lookup"><span data-stu-id="48082-283">Follow the principle of granting the **least privilege** required to do the expected work.</span></span>

> [!IMPORTANT]
><span data-ttu-id="48082-284">Considere la posibilidad de utilizar las funcionalidades [Azure AD Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure), Azure [Multi-Factor Authentication](/azure/active-directory/authentication/howto-mfa-getstarted) y [acceso condicional](/azure/active-directory/active-directory-conditional-access-azure-portal) para ofrecer más seguridad y visibilidad de las acciones administrativas en las suscripciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-284">Consider using [Azure AD Privileged Identity Management](/azure/active-directory/privileged-identity-management/pim-configure), Azure [Multi-Factor Authentication](/azure/active-directory/authentication/howto-mfa-getstarted) and [Conditional Access](/azure/active-directory/active-directory-conditional-access-azure-portal) capabilities to provide better security and more visibility to administrative actions across your Azure subscriptions.</span></span> <span data-ttu-id="48082-285">Estas funcionalidades derivan de una licencia válida de Azure AD Premium (según la característica) para elevar el nivel de protección y administración de su identidad.</span><span class="sxs-lookup"><span data-stu-id="48082-285">These capabilities come from a valid Azure AD Premium license (depending on the feature) to further secure and manage your identity.</span></span> <span data-ttu-id="48082-286">Azure AD PIM permite el acceso administrativo "Just-in-Time" con el flujo de trabajo de aprobación, así como una auditoría completa de las actividades y activaciones del administrador.</span><span class="sxs-lookup"><span data-stu-id="48082-286">Azure AD PIM enables "Just-in-Time" administrative access with approval workflow, as well as a full audit of administrator activations and activities.</span></span> <span data-ttu-id="48082-287">Azure MFA es otra funcionalidad crítica y permite la verificación en dos pasos para iniciar sesión en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="48082-287">Azure MFA is another critical capability and enables two-step verification for login to the Azure portal.</span></span> <span data-ttu-id="48082-288">Al combinarla con los controles de acceso condicional, puede administrar con eficacia el riesgo de vulnerabilidad.</span><span class="sxs-lookup"><span data-stu-id="48082-288">When combined with Conditional Access Controls you can effectively manage your risk of compromise.</span></span>

<span data-ttu-id="48082-289">La planeación y la preparación de los controles de acceso e identidad y el seguimiento del procedimiento recomendado para la administración de identidades en Azure ([vínculo](/azure/security/azure-security-identity-management-best-practices)) es una de las mejores estrategias de mitigación de riesgos que se pueden utilizar y, por tanto, debe considerarse como obligatoria en cada implementación.</span><span class="sxs-lookup"><span data-stu-id="48082-289">Planning and preparing for your identity and access controls and following Azure Identity Management best practice ([link](/azure/security/azure-security-identity-management-best-practices)) is one of the best risk mitigation strategies that you can employ and should be considered mandatory for every deployment.</span></span>

## <a name="security"></a><span data-ttu-id="48082-290">Seguridad</span><span class="sxs-lookup"><span data-stu-id="48082-290">Security</span></span>

<span data-ttu-id="48082-291">Uno de los principales impedimentos para adoptar la tecnología de la nube siempre han sido las preocupaciones por la seguridad.</span><span class="sxs-lookup"><span data-stu-id="48082-291">One of the biggest blockers to cloud adoption traditionally has been concerns over security.</span></span> <span data-ttu-id="48082-292">Los departamentos de riesgos de TI y seguridad tienen que asegurarse de que los recursos de Azure estén protegidos y seguros de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="48082-292">IT risk managers and security departments need to ensure that resources in Azure are protected and secure by default.</span></span> <span data-ttu-id="48082-293">Azure proporciona una serie de funcionalidades que puede aprovechar para proteger los recursos y detectar o prevenir las amenazas a esos recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-293">Azure provides a number of capabilities that you can leverage to protect resources and detect/prevent threats against those resources.</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="48082-294">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="48082-294">Azure Security Center</span></span>

<span data-ttu-id="48082-295">[Azure Security Center](/azure/security-center/security-center-intro) proporciona una vista unificada del estado de seguridad de los recursos de su entorno, además de protección avanzada contra amenazas.</span><span class="sxs-lookup"><span data-stu-id="48082-295">The [Azure Security Center](/azure/security-center/security-center-intro) provides a unified view of the security status of resources across your environment in addition to advanced threat protection.</span></span> <span data-ttu-id="48082-296">Azure Security Center es una plataforma abierta que permite a los asociados de Microsoft crear software que se integre para mejorar sus funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="48082-296">Azure Security Center is an open platform that enables Microsoft partners to create software that plugs into and enhance its capabilities.</span></span> <span data-ttu-id="48082-297">Las funcionalidades básicas de Azure Security Center (nivel Gratis) proporcionan la evaluación y las recomendaciones que mejorarán la situación de seguridad.</span><span class="sxs-lookup"><span data-stu-id="48082-297">The baseline capabilities of Azure Security Center (free tier) provides assessment and recommendations that will enhance your security posture.</span></span> <span data-ttu-id="48082-298">Sus niveles de pago ofrecerán funcionalidades adicionales importantes, como controles de aplicaciones adaptables (inclusión en listas blancas) y acceso de administrador Just-In-Time.</span><span class="sxs-lookup"><span data-stu-id="48082-298">Its paid tiers enable additional and valuable capabilities such as Just In Time admin access and adaptive application controls (whitelisting).</span></span>

> [!TIP]
><span data-ttu-id="48082-299">Azure Security Center es una herramienta muy eficaz que se ha mejorado constantemente y que incorpora nuevas funcionalidades que puede usar para detectar amenazas y proteger su empresa.</span><span class="sxs-lookup"><span data-stu-id="48082-299">Azure security center is a very powerful tool that is constantly being enhanced and incorporating new capabilities you can leverage to detect threats and protect your enterprise.</span></span> <span data-ttu-id="48082-300">Se recomienda encarecidamente habilitar siempre ASC.</span><span class="sxs-lookup"><span data-stu-id="48082-300">It is highly recommended to always enable ASC.</span></span>

### <a name="azure-resource-locks"></a><span data-ttu-id="48082-301">Bloqueos de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="48082-301">Azure resource locks</span></span>

<span data-ttu-id="48082-302">A medida que su organización agrega servicios básicos a la suscripción, cada vez reviste más importancia evitar la interrupción de la actividad empresarial.</span><span class="sxs-lookup"><span data-stu-id="48082-302">As your organization adds core services to subscriptions it becomes increasingly important to avoid business disruption.</span></span> <span data-ttu-id="48082-303">Un tipo de interrupción que se observa con frecuencia son las consecuencias no deseadas de scripts y herramientas que actúan en contra de una suscripción de Azure eliminando recursos por error.</span><span class="sxs-lookup"><span data-stu-id="48082-303">One type of disruption that we often see is unintended consequences of scripts and tools working against an Azure subscription deleting resources mistakenly.</span></span> <span data-ttu-id="48082-304">Gracias a los [bloqueos de recursos](/azure/azure-resource-manager/resource-group-lock-resources), se pueden restringir las operaciones en recursos de gran valor donde modificarlas o eliminarlas tendría un gran impacto.</span><span class="sxs-lookup"><span data-stu-id="48082-304">[Resource Locks](/azure/azure-resource-manager/resource-group-lock-resources) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact.</span></span> <span data-ttu-id="48082-305">Los bloqueos se aplican a una suscripción, un grupo de recursos o incluso a recursos individuales.</span><span class="sxs-lookup"><span data-stu-id="48082-305">Locks are applied to a subscription, resource group, or even individual resources.</span></span> <span data-ttu-id="48082-306">En el caso de uso común es aplicar bloqueos a recursos fundamentales como redes virtuales, puertas de enlace, grupos de seguridad de red y cuentas de almacenamiento claves.</span><span class="sxs-lookup"><span data-stu-id="48082-306">The common use case is to apply locks to foundational resources such as virtual networks, gateways, network security groups and key storage accounts.</span></span>

### <a name="secure-devops-toolkit"></a><span data-ttu-id="48082-307">Secure DevOps Toolkit</span><span class="sxs-lookup"><span data-stu-id="48082-307">Secure DevOps Toolkit</span></span>

<span data-ttu-id="48082-308">"Secure DevOps Kit para Azure" (AzSK) es una colección de scripts, herramientas, extensiones, automatizaciones, etc. creada originalmente por el propio equipo de TI de Microsoft y lanzada en código abierto a través de GitHub ([vínculo](https://github.com/azsk/DevOpsKit-docs)).</span><span class="sxs-lookup"><span data-stu-id="48082-308">The "Secure DevOps Kit for Azure" (AzSK) is a collection of scripts, tools, extensions, automations, etc. originally created by Microsoft's own IT Team and released in OpenSource via Github ([link](https://github.com/azsk/DevOpsKit-docs)).</span></span> <span data-ttu-id="48082-309">AzSK satisface las necesidades de los equipos en cuanto a seguridad de los recursos y las suscripciones de Azure con el uso de una amplia automatización y la integración sin problemas en flujos de trabajo de DevOps nativos, con el fin de ayudar a realizar tareas de desarrollo sencillas con estas seis áreas de enfoque:</span><span class="sxs-lookup"><span data-stu-id="48082-309">AzSK caters to the end to end Azure subscription and resource security needs for teams using extensive automation and smoothly integrating security into native dev ops workflows helping accomplish secure dev ops with these 6 focus areas:</span></span>

* <span data-ttu-id="48082-310">Proteger la suscripción</span><span class="sxs-lookup"><span data-stu-id="48082-310">Secure the subscription</span></span>
* <span data-ttu-id="48082-311">Habilitar un desarrollo seguro</span><span class="sxs-lookup"><span data-stu-id="48082-311">Enable secure development</span></span>
* <span data-ttu-id="48082-312">Integrar la seguridad en CI/CD</span><span class="sxs-lookup"><span data-stu-id="48082-312">Integrate security into CICD</span></span>
* <span data-ttu-id="48082-313">Control continuo</span><span class="sxs-lookup"><span data-stu-id="48082-313">Continuous Assurance</span></span>
* <span data-ttu-id="48082-314">Alertas y supervisión</span><span class="sxs-lookup"><span data-stu-id="48082-314">Alerting & Monitoring</span></span>
* <span data-ttu-id="48082-315">Gobierno de riesgos en la nube</span><span class="sxs-lookup"><span data-stu-id="48082-315">Cloud Risk Governance</span></span>

![Kit de herramientas de Azure DevOps](_images/Secure_DevOps_Kit_Azure.png)

<span data-ttu-id="48082-317">AzSK es un amplio conjunto de herramientas, scripts e información que constituyen una parte importante de un plan completo de gobierno de Azure, por lo que incorporarlo a la plantilla scaffold es fundamental para respaldar los objetos de administración de riesgos de las organizaciones.</span><span class="sxs-lookup"><span data-stu-id="48082-317">The AzSK is a rich set of tools, scripts and information that are an important part of a full Azure governance plan and incorporating this into your scaffold is crucial to supporting your organizations risk management goals</span></span>

### <a name="azure-update-management"></a><span data-ttu-id="48082-318">Azure Update Management</span><span class="sxs-lookup"><span data-stu-id="48082-318">Azure Update Management</span></span>

<span data-ttu-id="48082-319">Una de las tareas claves que puede hacer para mantener un entorno seguro es asegurarse de que los servidores tienen instaladas las actualizaciones más recientes.</span><span class="sxs-lookup"><span data-stu-id="48082-319">One of the key tasks you can do to keep your environment safe is ensure that your servers are patched with the latest updates.</span></span> <span data-ttu-id="48082-320">Aunque hay muchas herramientas para lograr esto, Azure ofrece la solución [Azure Update Management](/azure/automation/automation-update-management) para abordar la identificación y el lanzamiento de revisiones críticas del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="48082-320">While there are many tools to accomplish this, Azure provides the [Azure Update Management](/azure/automation/automation-update-management) solution to address the identification and rollout of critical OS patches.</span></span>  <span data-ttu-id="48082-321">Usa Azure Automation (que se aborda en la sección [Automatización](#automate) más adelante en esta guía).</span><span class="sxs-lookup"><span data-stu-id="48082-321">It makes use of Azure Automation (which is covered in the [Automate](#automate) section, later in this guide.</span></span>

## <a name="monitor-and-alerts"></a><span data-ttu-id="48082-322">Supervisión y alertas</span><span class="sxs-lookup"><span data-stu-id="48082-322">Monitor and alerts</span></span>

<span data-ttu-id="48082-323">Recopilar y analizar datos de telemetría que proporcionan una clara visión de las actividades, las métricas de rendimiento, el estado y la disponibilidad de los servicios que se usan en todas las suscripciones de Azure es fundamental para administrar las aplicaciones y la infraestructura de forma proactiva y, además, es una necesidad fundamental de cada suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-323">Collecting and analyzing telemetry that provides line of sight into the activities, performance metrics, health and availability of the services you are using across all of your Azure subscriptions is critical to proactively manage your applications and infrastructure and is a foundational need of every Azure subscription.</span></span> <span data-ttu-id="48082-324">Cada servicio de Azure genera datos de telemetría en forma de registros de actividad, métricas y registro de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="48082-324">Every Azure service emits telemetry in the form of Activity Logs, Metrics and Diagnostic Logs.</span></span>

* <span data-ttu-id="48082-325">En los **registros de actividad** se describen todas las operaciones realizadas en los recursos de las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48082-325">**Activity Logs** describe all operations performed on resources in your subscriptions</span></span>
* <span data-ttu-id="48082-326">Las **métricas** son información numérica generada en un recurso en las que se describen el rendimiento y el estado de dicho recurso.</span><span class="sxs-lookup"><span data-stu-id="48082-326">**Metrics** are numerical information emitted from within a resource that describe the performance and health of a resource</span></span>
* <span data-ttu-id="48082-327">Los **registros de diagnóstico** los emite un servicio de Azure y en ellos se proporcionan datos exhaustivos y frecuentes sobre el funcionamiento de dicho servicio.</span><span class="sxs-lookup"><span data-stu-id="48082-327">**Diagnostic Logs** are emitted by an Azure service and provide rich, frequent data about the operation of that service.</span></span>

<span data-ttu-id="48082-328">Esta información se puede ver y examinar a varios niveles y está sujeta a mejoras continuas.</span><span class="sxs-lookup"><span data-stu-id="48082-328">This information can be viewed and acted upon at multiple levels and are continually being improved.</span></span> <span data-ttu-id="48082-329">Azure ofrece funcionalidades de supervisión **compartida**, **principal** y **exhaustiva** de los recursos de Azure en los servicios descritos en el diagrama siguiente.</span><span class="sxs-lookup"><span data-stu-id="48082-329">Azure provides **shared**, **core** and **deep** monitoring capabilities of Azure resources through the services outlined in the diagram below.</span></span>
<span data-ttu-id="48082-330">![monitoring](./_images/monitoring.png)</span><span class="sxs-lookup"><span data-stu-id="48082-330">![monitoring](./_images/monitoring.png)</span></span>

### <a name="shared-capabilities"></a><span data-ttu-id="48082-331">Funcionalidades compartidas</span><span class="sxs-lookup"><span data-stu-id="48082-331">Shared capabilities</span></span>

* <span data-ttu-id="48082-332">**Alertas**: puede recopilar cada registro, evento y métrica de los recursos de Azure, pero sin la capacidad de recibir una notificación de condiciones y eventos críticos, estos datos solo son útiles para fines históricos y de análisis forense.</span><span class="sxs-lookup"><span data-stu-id="48082-332">**Alerts**: You can collect every log, event and metric from Azure resources, but without the ability to be notified of critical conditions and act, this data is only useful for historic purposes and forensics.</span></span> <span data-ttu-id="48082-333">Las Alertas de Azure informan de forma proactiva sobre las condiciones definidas en todas las aplicaciones y en la infraestructura.</span><span class="sxs-lookup"><span data-stu-id="48082-333">Azure Alerts proactively notify you of conditions you define across all your applications and infrastructure.</span></span> <span data-ttu-id="48082-334">Cree reglas de alertas en los registros, eventos y métricas que usan grupos de acciones para notificar a una serie de destinatarios.</span><span class="sxs-lookup"><span data-stu-id="48082-334">You create alert rules across logs, events and metrics that use action groups to notify sets of recipients.</span></span> <span data-ttu-id="48082-335">Los grupos de acciones también ofrecen la capacidad de automatizar las correcciones con acciones externas, como webhooks, para ejecutar runbooks de Azure Automation y Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="48082-335">Action groups also provide the ability to automate remediation using external actions such as webhooks to run Azure Automation runbooks and Azure Functions.</span></span>

* <span data-ttu-id="48082-336">**Paneles**: los paneles permiten agregar vistas de supervisión y combinar datos entre recursos y suscripciones para ofrecerle una visión empresarial de los datos de telemetría de los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-336">**Dashboards**: Dashboards enable you to aggregate monitoring views and combine data across resources and subscriptions to give you an enterprise-wide view into the telemetry of Azure resources.</span></span> <span data-ttu-id="48082-337">Puede crear y configurar sus propias vistas y compartirlas con otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="48082-337">You can create and configure your own views and share them with others.</span></span> <span data-ttu-id="48082-338">Por ejemplo, podría crear un panel que consta de varios iconos para los administradores de bases de datos, a fin de proporcionar información de todos los servicios de base de datos de Azure, incluidos Azure SQL DB, Azure Database for PostgreSQL y Azure Database for MySQL.</span><span class="sxs-lookup"><span data-stu-id="48082-338">For example, you could create a dashboard consisting of various tiles for DBAs to provide information across all Azure database services, including Azure SQL DB, Azure DB for PostgreSQL and Azure DB for MySQL.</span></span>

* <span data-ttu-id="48082-339">**Explorador de métricas**: las métricas son valores numéricos generados por los recursos de Azure (por ejemplo, % de CPU o E/S de disco), que proporcionan información detallada sobre el funcionamiento y el rendimiento de los recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-339">**Metrics Explorer**: Metrics are numerical values generated by Azure resources (e.g. % CPU, Disk I/O, that provide insight into the operation and performance of your resources.</span></span> <span data-ttu-id="48082-340">Mediante el Explorador de métricas puede definir y enviar las métricas que le interesan a Log Analytics para fines de agregación y análisis.</span><span class="sxs-lookup"><span data-stu-id="48082-340">By using Metrics Explorer you can define and send the metrics in which you are interested to Log Analytics for aggregation and analysis.</span></span>

### <a name="core-monitoring"></a><span data-ttu-id="48082-341">Supervisión básica</span><span class="sxs-lookup"><span data-stu-id="48082-341">Core monitoring</span></span>

* <span data-ttu-id="48082-342">**Azure Monitor**: es el servicio de la plataforma principal que proporciona un único origen para la supervisión de recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-342">**Azure Monitor**: Azure Monitor is the core platform service that provides a single source for monitoring Azure resources.</span></span> <span data-ttu-id="48082-343">La interfaz de Azure Monitor en Azure Portal ofrece un punto de partida centralizado para todas las cara de supervisión de Azure, incluidas las características exhaustivas de supervisión de Application Insights, Log Analytics, Supervisión de red, Soluciones de administración y Service Map.</span><span class="sxs-lookup"><span data-stu-id="48082-343">The Azure Portal interface of Azure Monitor provides a centralized jump off point for all the monitoring features across Azure including the deep monitoring capabilities of Application Insights, Log Analytics, Network Monitoring, Management Solutions and Service Maps.</span></span> <span data-ttu-id="48082-344">Con Azure Monitor, puede visualizar, consultar, redirigir y archivar las métricas y los registros procedentes de recursos de Azure de toda la nube, así como trabajar con ellos.</span><span class="sxs-lookup"><span data-stu-id="48082-344">With Azure Monitor you can visualize, query, route, archive and act on the metrics and logs coming from Azure resources across your entire cloud estate.</span></span> <span data-ttu-id="48082-345">Además de usar el portal, también puede recuperar datos con los cmdlets de PowerShell para Monitor, la CLI multiplataforma o las API de REST de Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="48082-345">In addition to the portal you can retrieve data through the Monitor PowerShell Cmdlets, Cross Platform CLI or the Azure Monitor REST APIs.</span></span>

* <span data-ttu-id="48082-346">**Azure Advisor**: Azure Advisor supervisa constantemente los datos de telemetría de las suscripciones y los entornos y ofrece recomendaciones sobre los procedimientos recomendados en relación a cómo optimizar los recursos de Azure para ahorrar dinero y mejorar el rendimiento, la seguridad y la disponibilidad de los recursos que conforman las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="48082-346">**Azure Advisor**: Azure Advisor constantly monitors telemetry across your subscriptions and environments and provides recommendations on best practices on how to optimize your Azure resources to save money and improve performance, security and availability of the resources that make up your applications.</span></span>

* <span data-ttu-id="48082-347">**Service Health**: Azure Service Health identifica cualquier problema con los servicios de Azure que pueden afectar a las aplicaciones y le ayuda a planear ventanas de mantenimiento programado.</span><span class="sxs-lookup"><span data-stu-id="48082-347">**Service Health**: Azure Service Health identifies any issues with Azure Services that may impact your applications as well as assists you in planning for scheduled maintenance windows.</span></span>

* <span data-ttu-id="48082-348">**Registro de actividad**: en él se describen todas las operaciones realizadas en los recursos de su suscripción.</span><span class="sxs-lookup"><span data-stu-id="48082-348">**Activity Log**: The Activity Log describes all operations on resources in your subscriptions.</span></span> <span data-ttu-id="48082-349">Proporciona una pista de auditoría para determinar "qué" y "quién" creó, actualizó o eliminó una operación en los recursos y "cuándo" se hizo.</span><span class="sxs-lookup"><span data-stu-id="48082-349">It provides an audit trail to determine the 'what', 'who', and 'when' of any create, update, delete operation on resources.</span></span> <span data-ttu-id="48082-350">Los eventos del registro de actividad se almacenan en la plataforma y están disponibles para consulta durante 90 días.</span><span class="sxs-lookup"><span data-stu-id="48082-350">Activity Log events are stored in the platform and are available to query for 90 days.</span></span> <span data-ttu-id="48082-351">Puede ingerir los registros de actividad en Log Analytics para beneficiarse de períodos de retención más largos y consultas y análisis más exhaustivos entre varios recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-351">You can ingest Activity Logs into Log Analytics for longer retention periods and deeper querying and analysis across multiple resources.</span></span>

### <a name="deep-application-monitoring"></a><span data-ttu-id="48082-352">Supervisión de aplicaciones en profundidad</span><span class="sxs-lookup"><span data-stu-id="48082-352">Deep application monitoring</span></span>

* <span data-ttu-id="48082-353">**Application Insights**: permite recopilar telemetría específica de la aplicación y supervisar el rendimiento, la disponibilidad y el uso de las aplicaciones en la nube o en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="48082-353">**Application Insights**: Application Insights enables you to collect application specific telemetry and monitor the performance, availability and usage of applications in the cloud or on-premises.</span></span> <span data-ttu-id="48082-354">Esto se consigue al equipar a la aplicación de los SDK compatibles con varios lenguajes, como .NET, JavaScript, JAVA, Node.js, Ruby y Python.</span><span class="sxs-lookup"><span data-stu-id="48082-354">By instrumenting your application with supported SDKs for multiple languages including .NET, JavaScript, JAVA, Node.js, Ruby and Python.</span></span> <span data-ttu-id="48082-355">Los eventos de Application Insights se ingieren en el mismo almacén de datos de Log Analytics que admite la supervisión de seguridad e infraestructura, a fin de permitir la agregación de eventos y ponerlos en correlación con el tiempo mediante un lenguaje de consulta enriquecido.</span><span class="sxs-lookup"><span data-stu-id="48082-355">Application Insights events are ingested into the same Log Analytics data store that supports infrastructure and security monitoring to enable you to correlate and aggregate events over time through a rich query language.</span></span>

### <a name="deep-infrastructure-monitoring"></a><span data-ttu-id="48082-356">Supervisión de infraestructura en profundidad</span><span class="sxs-lookup"><span data-stu-id="48082-356">Deep infrastructure monitoring</span></span>

* <span data-ttu-id="48082-357">**Log Analytics**: desempeña un papel fundamental en la supervisión de Azure al recopilar datos de telemetría y otros desde diversos orígenes y al proporcionar un motor de análisis y un lenguaje de consultas que ofrece información sobre el funcionamiento de las aplicaciones y los recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-357">**Log Analytics**: Log Analytics plays a central role in Azure monitoring by collecting telemetry and other data from a variety of sources and providing a query language and analytics engine that gives you insights into the operation of your applications and resources.</span></span> <span data-ttu-id="48082-358">También puede interactuar directamente con los datos de Log Analytics mediante vistas y búsquedas de registros de alto rendimiento, o puede usar herramientas de análisis en otros servicios de Azure que almacenen sus datos en Log Analytics como Application Insights o Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="48082-358">You can either interact directly with Log Analytics data through highly performant log searches and views, or you may use analysis tools in other Azure services that store their data in Log Analytics such as Application Insights or Azure Security Center.</span></span>

* <span data-ttu-id="48082-359">**Supervisión de red**: los servicios de supervisión de red de Azure permiten obtener información detallada sobre el flujo del tráfico de red, el rendimiento, la seguridad, la conectividad y los cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="48082-359">**Network Monitoring**: Azure's network monitoring services enable you to gain insight into network traffic flow, performance, security, connectivity and bottlenecks.</span></span> <span data-ttu-id="48082-360">Un diseño de red bien planeado debe incluir la configuración de servicios de supervisión de red de Azure, como Network Watcher y Supervisión de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="48082-360">A well-planned network design should include configuring Azure network monitoring services such as Network Watcher and ExpressRoute Monitor.</span></span>

* <span data-ttu-id="48082-361">**Soluciones de administración**: estas soluciones son conjuntos empaquetados de lógica, información detallada y consultas predefinidas de Log Analytics de una aplicación o un servicio.</span><span class="sxs-lookup"><span data-stu-id="48082-361">**Management Solutions**: Management solutions are packaged sets of logic, insights and pre-defined Log Analytics queries for an application or service.</span></span> <span data-ttu-id="48082-362">Usan Log Analytics como base para almacenar y analizar datos de eventos.</span><span class="sxs-lookup"><span data-stu-id="48082-362">They rely on Log Analytics as the foundation to store and analyze event data.</span></span> <span data-ttu-id="48082-363">Las solución de administración de ejemplo incluyen la supervisión de contenedores y análisis de Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="48082-363">Sample management solutions include monitoring containers and Azure SQL Database analytics.</span></span>

* <span data-ttu-id="48082-364">**Service Map**: proporciona una vista gráfica de los componentes de la infraestructura y sus procesos e interdependencias en otros equipos y procesos externos.</span><span class="sxs-lookup"><span data-stu-id="48082-364">**Service Map**: Service Map provides a graphical view into your infrastructure components, their processes and interdependencies on other computers and external processes.</span></span> <span data-ttu-id="48082-365">Integra eventos, datos de rendimiento y soluciones de administración en Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="48082-365">It integrates events, performance data and management solutions in Log Analytics.</span></span>

> [!TIP]
> <span data-ttu-id="48082-366">Antes de crear alertas individuales, cree y mantenga un conjunto de grupos de acciones compartidos que se puedan usar en las alertas de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-366">Before creating individual alerts, create and maintain a set of shared Action Groups that can be used across Azure Alerts.</span></span> <span data-ttu-id="48082-367">Esto permitirá realizar un mantenimiento centralizado del ciclo de vida de las listas de destinatarios, los métodos de entrega de notificaciones (correo electrónico, SMS y números de teléfono) y webhooks para acciones externas (runbooks de Azure Automation, Azure Functions/Logic Apps e ITSM).</span><span class="sxs-lookup"><span data-stu-id="48082-367">This will enable you to centrally maintain the lifecycle of your recipient lists, notification delivery methods (email, SMS phone numbers) and webhooks to external actions (Azure Automation runbooks, Azure Functions / Logic Apps, ITSM).</span></span>

## <a name="cost-management"></a><span data-ttu-id="48082-368">Administración de costos</span><span class="sxs-lookup"><span data-stu-id="48082-368">Cost management</span></span>

<span data-ttu-id="48082-369">Uno de los cambios más importantes al que se enfrentará al realizar la migración de la nube local a la nube pública es el cambio del gasto de capital (comprar hardware) al gasto operativo (pagar por el servicio a medida que lo usa).</span><span class="sxs-lookup"><span data-stu-id="48082-369">One of the major changes that you will face when you move from on-premises cloud to the public cloud is the switch from capital expenditure (buying hardware) to operating expenditure (paying for service as you use it).</span></span> <span data-ttu-id="48082-370">Este cambio de los gastos de capital por los gastos operativos también genera la necesidad de administrar los costos con más atención.</span><span class="sxs-lookup"><span data-stu-id="48082-370">This switch from CAPEX to OPEX also brings the need to more carefully manage your costs.</span></span> <span data-ttu-id="48082-371">La ventaja de la nube es que puede reducir de forma significativa y positiva el costo de un servicio con tan solo desactivarlo o cambiarlo de tamaño cuando no lo necesite.</span><span class="sxs-lookup"><span data-stu-id="48082-371">The benefit of the cloud is that you can fundamentally and positively impact the cost of a service you use by merely turning it off (or resizing) when it's not needed.</span></span> <span data-ttu-id="48082-372">La administración minuciosa de los costos en la nube es un práctica recomendada que los clientes consolidados aplican a diario.</span><span class="sxs-lookup"><span data-stu-id="48082-372">Deliberately managing your costs in the cloud is a recommended practice and one that mature customers do daily.</span></span>

<span data-ttu-id="48082-373">Microsoft ofrece varias herramientas para poder visualizar, controlar y administrar los costos.</span><span class="sxs-lookup"><span data-stu-id="48082-373">Microsoft provides a several tools for you to be able to visual, track and manage your costs.</span></span> <span data-ttu-id="48082-374">También proporcionamos un conjunto completo de API para que pueda personalizar e integrar la administración de costos en sus propias herramientas y paneles.</span><span class="sxs-lookup"><span data-stu-id="48082-374">We also provide a full set of APIs to enable you to customize and integrate cost management into your own tools and dashboards.</span></span> <span data-ttu-id="48082-375">Estas herramientas pueden clasificarse a nivel general en: funcionalidades de Azure Portal y funcionalidades externas</span><span class="sxs-lookup"><span data-stu-id="48082-375">These tools are loosely grouped into: Azure Portal Capabilities and external capabilities</span></span>

### <a name="azure-portal-capabilities"></a><span data-ttu-id="48082-376">Funcionalidades de Azure Portal</span><span class="sxs-lookup"><span data-stu-id="48082-376">Azure Portal capabilities</span></span>

<span data-ttu-id="48082-377">Se trata de herramientas que ofrecen información instantánea de los costos y la posibilidad de realizar acciones.</span><span class="sxs-lookup"><span data-stu-id="48082-377">These are tools to provide you instant information on cost as well as the ability to take actions</span></span>

* <span data-ttu-id="48082-378">**Costo de recursos de suscripción**: en Azure Portal, la vista [Análisis de costos de Azure](/azure/cost-management/overview) proporciona una visión rápida de los costos e información sobre el gasto diario por recurso o grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="48082-378">**Subscription Resource Cost**: Located in The Portal, the [Azure Cost Analysis](/azure/cost-management/overview) view provides a quick look at your costs and information on daily spend by resource or resource group.</span></span>
* <span data-ttu-id="48082-379">**Azure Cost Management**: este producto es el resultado de la compra de Cloudyn por parte de Microsoft, que permite administrar y analizar el gasto en Azure y el gasto en otros proveedores de nube pública.</span><span class="sxs-lookup"><span data-stu-id="48082-379">**Azure Cost Management**: This product is the result of the purchase of Cloudyn by Microsoft and allows you to manage and analyze your Azure spend as well what you spend on other Public Cloud providers.</span></span> <span data-ttu-id="48082-380">Se encuentran disponibles niveles gratuitos y de pago, con un magnífico conjunto de funcionalidades como se observa en la [Introducción](/azure/cost-management/overview).</span><span class="sxs-lookup"><span data-stu-id="48082-380">There are both free and paid tiers, with a great wealth of capabilities as seen in the [overview](/azure/cost-management/overview).</span></span>
* <span data-ttu-id="48082-381">**Grupos de acciones y Azure Budgets**: saber lo que cuesta algo y hacer algo al respecto hasta hace poco ha sido más que un ejercicio manual.</span><span class="sxs-lookup"><span data-stu-id="48082-381">**Azure Budgets and Action Groups** Knowing what somethings costs and doing something about it until recently has been more of a manual exercise.</span></span> <span data-ttu-id="48082-382">Con la introducción de Azure Budgets y sus API, ahora se pueden crear acciones (como se observa en [este](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups) ejemplo) cuando los costos alcanzan un límite.</span><span class="sxs-lookup"><span data-stu-id="48082-382">With the introduction of Azure Budgets and its APIs, it's now possible to create actions (as seen in [this](https://channel9.msdn.com/Shows/Azure-Friday/Managing-costs-with-the-Azure-Budgets-API-and-Action-Groups) example) when costs hit a threshold.</span></span> <span data-ttu-id="48082-383">Por ejemplo, cierra un grupo de recursos de "prueba" cuando alcanza el 100 % de su presupuesto u [otro ejemplo].</span><span class="sxs-lookup"><span data-stu-id="48082-383">For example, shutting down a "test" resource group when it hits 100% of its budget, or [another example].</span></span>
* <span data-ttu-id="48082-384">**Azure Advisor**: saber lo que cuesta algo es solo la mitad de la batalla; la otra mitad consiste en saber qué hacer con esa información.</span><span class="sxs-lookup"><span data-stu-id="48082-384">**Azure Advisor** Knowing what something costs is only half the battle; the other half is knowing what to do with that information.</span></span> <span data-ttu-id="48082-385">[Azure Advisor](/azure/advisor/advisor-overview) proporciona recomendaciones sobre las acciones necesarias para ahorrar dinero, mejorar la confiabilidad o incluso aumentar la seguridad.</span><span class="sxs-lookup"><span data-stu-id="48082-385">[Azure Advisor](/azure/advisor/advisor-overview) provides you recommendations on actions to take to save money, improve reliability or even increase security.</span></span>

### <a name="external-cost-management-tools"></a><span data-ttu-id="48082-386">Herramientas de administración de costos externas</span><span class="sxs-lookup"><span data-stu-id="48082-386">External cost management tools</span></span>

* <span data-ttu-id="48082-387">**Azure Consumption Insights para Power BI**.</span><span class="sxs-lookup"><span data-stu-id="48082-387">**PowerBI Azure Consumption Insights**.</span></span> <span data-ttu-id="48082-388">¿Desea crear visualizaciones propias de la organización?</span><span class="sxs-lookup"><span data-stu-id="48082-388">Do you want to create your own visualizations for your organization?</span></span> <span data-ttu-id="48082-389">En su caso, el paquete de contenido de Azure Consumption Insights para Power BI es la herramienta más adecuada.</span><span class="sxs-lookup"><span data-stu-id="48082-389">If so, then the Azure Consumption Insights content pack for PowerBI is your tool of choice.</span></span> <span data-ttu-id="48082-390">Con este paquete de contenido y Power BI puede crear visualizaciones personalizadas para representar su organización, realizar análisis más exhaustivos de los costos y agregar otros orígenes de datos para obtener información más precisa.</span><span class="sxs-lookup"><span data-stu-id="48082-390">Using this content pack and PowerBI you can create custom visualizations to represent your organization, do deeper analysis on costs and add in other data sources for further enrichment.</span></span>

* <span data-ttu-id="48082-391">**API de consumo**.</span><span class="sxs-lookup"><span data-stu-id="48082-391">**Consumption API**.</span></span> <span data-ttu-id="48082-392">Las [API de consumo](/rest/api/consumption/) otorgan acceso programático a datos de costo y uso, así como a información sobre presupuestos, instancias reservadas y cambios en Marketplace.</span><span class="sxs-lookup"><span data-stu-id="48082-392">The [consumption APIs](/rest/api/consumption/) give you programmatic access to cost and usage data in addition to information on budgets, reserved instances and marketplace charges.</span></span> <span data-ttu-id="48082-393">Estas API son accesibles solo para las inscripciones Enterprise y algunas suscripciones a Web Direct; no obstante, ofrecen la posibilidad de integrar los datos de costos en almacenamiento de datos y herramientas propios.</span><span class="sxs-lookup"><span data-stu-id="48082-393">These APIs are accessible only for Enterprise Enrollments and some Web Direct subscriptions however they give you the ability to integrate your cost data into your own tools and data warehouses.</span></span> <span data-ttu-id="48082-394">También puede acceder a estas API con la CLI de Azure, como se detalla [aquí](/cli/azure/consumption?view=azure-cli-latest).</span><span class="sxs-lookup"><span data-stu-id="48082-394">You can also access these APIs by using the Azure CLI, seen [here](/cli/azure/consumption?view=azure-cli-latest).</span></span>

<span data-ttu-id="48082-395">Si nos centramos en los clientes que han usado la nube durante mucho tiempo y han "consolidado" su uso, nos planteamos una serie de prácticas muy recomendadas.</span><span class="sxs-lookup"><span data-stu-id="48082-395">When we look across customers who have used the cloud for a long time and are "mature" in their use, we see a number of highly recommended practices</span></span>

* <span data-ttu-id="48082-396">**Supervisión activa de costos**.</span><span class="sxs-lookup"><span data-stu-id="48082-396">**Actively monitor costs**.</span></span> <span data-ttu-id="48082-397">Las organizaciones que son usuarios consolidados de Azure supervisan constantemente los costos y adoptan medidas cuando es necesario.</span><span class="sxs-lookup"><span data-stu-id="48082-397">Organizations that are mature Azure users constantly monitor costs and take actions when needed.</span></span> <span data-ttu-id="48082-398">Algunas organizaciones incluso dedican personal a realizar análisis y sugerir cambios de uso, y estas personas en lugar de financiarse de forma autónoma, encuentran un clúster de HDInsight sin utilizar que se ha estado ejecutando durante meses.</span><span class="sxs-lookup"><span data-stu-id="48082-398">Some organizations even dedicate people to do analysis and suggest changes to usage, and these people more than pay for themselves the first time they find an unused HDInsight cluster that's been running for months.</span></span>
* <span data-ttu-id="48082-399">**Uso de instancias reservadas**.</span><span class="sxs-lookup"><span data-stu-id="48082-399">**Use Reserved Instances**.</span></span> <span data-ttu-id="48082-400">Otro inquilino clave para administrar los costos en la nube consiste en utilizar la herramienta adecuada para el trabajo.</span><span class="sxs-lookup"><span data-stu-id="48082-400">Another key tenant for managing costs in the cloud is to use the right tool for the job.</span></span> <span data-ttu-id="48082-401">Si dispone de una máquina virtual IaaS que debe estar disponible ininterrumpidamente, el uso de una instancia reservada le permitirá ahorrar bastante dinero.</span><span class="sxs-lookup"><span data-stu-id="48082-401">If you have an IaaS VM that must stay on 24x7, then using a Reserved Instance will save you significant money.</span></span> <span data-ttu-id="48082-402">Hallar un equilibrio adecuado entre la automatización del apagado de las máquinas virtuales y el uso de instancias reservadas conlleva experiencia y análisis.</span><span class="sxs-lookup"><span data-stu-id="48082-402">Finding the right balance between automating the shutdown of VMs and using RIs takes experience and analysis.</span></span>
* <span data-ttu-id="48082-403">**Uso eficaz de la automatización**: muchas cargas de trabajo no necesitan ejecutarse a diario.</span><span class="sxs-lookup"><span data-stu-id="48082-403">**Use automation effectively**: Many workloads do not need to be running every day.</span></span> <span data-ttu-id="48082-404">Incluso apagar una máquina virtual durante cuatro horas al día puede suponer un ahorro del 15 % del costo.</span><span class="sxs-lookup"><span data-stu-id="48082-404">Even turning off a VM for a 4-hour period every day can save you 15% of your cost.</span></span> <span data-ttu-id="48082-405">Automation se amortizará rápidamente.</span><span class="sxs-lookup"><span data-stu-id="48082-405">Automation will pay for itself quickly.</span></span>
* <span data-ttu-id="48082-406">**Uso de etiquetas en recursos para dar visibilidad**: como se mencionó en otra sección de este documento, el uso de etiquetas en recurso permitirá mejorar el análisis de los costos.</span><span class="sxs-lookup"><span data-stu-id="48082-406">**Use resource tags for visibility**: As mentioned elsewhere in this document, using resource tags will allow for better analysis of costs.</span></span>

<span data-ttu-id="48082-407">La administración de costos es una disciplina fundamental para una ejecución eficaz y efectiva de una nube pública.</span><span class="sxs-lookup"><span data-stu-id="48082-407">Cost management is a discipline that is core to the effective and efficient running of a public cloud.</span></span> <span data-ttu-id="48082-408">Las empresas que consigan el éxito podrán controlar sus costos y adaptarlos a la demanda real, en lugar de comprar en exceso con la esperanza de que haya demanda.</span><span class="sxs-lookup"><span data-stu-id="48082-408">Enterprises that achieve success will be able to control their costs and match them to their actual demand as opposed to overbuying and hoping demand comes.</span></span>

## <a name="automate"></a><span data-ttu-id="48082-409">Automatizar</span><span class="sxs-lookup"><span data-stu-id="48082-409">Automate</span></span>

<span data-ttu-id="48082-410">Una de las muchas funcionalidades que diferencia la madurez de las organizaciones en el uso de los proveedores de la nube es el nivel de automatización que han incorporado.</span><span class="sxs-lookup"><span data-stu-id="48082-410">One of the many capabilities that differentiates the maturity of organizations using cloud providers is the level of automation that they have incorporated.</span></span>  <span data-ttu-id="48082-411">La automatización es un proceso interminable y, a medida que la organización realiza la transición a la nube, se convierte en un área en el que es necesario invertir recursos y tiempo para realizar compilaciones.</span><span class="sxs-lookup"><span data-stu-id="48082-411">Automation is a never-ending process and as your organization moves to the cloud it is any area that you need to invest resources and time in building.</span></span>  <span data-ttu-id="48082-412">La automatización sirve para muchos propósitos, entre otros, el lanzamiento coherente de recursos (donde está directamente vinculada a otro concepto clave de scaffolding, a saber, las plantillas y DevOps), para resolver cualquier problema.</span><span class="sxs-lookup"><span data-stu-id="48082-412">Automation serves many purposes including consistent rollout of resources (where it ties directly to another core scaffold concept, Templates & DevOps) to the remediation of issues.</span></span>  <span data-ttu-id="48082-413">La automatización es el "tejido conectivo" de la plantilla scaffold de Azure y vincula cada área.</span><span class="sxs-lookup"><span data-stu-id="48082-413">Automation is the "connective tissue" of the Azure scaffold and links each area together.</span></span>

<span data-ttu-id="48082-414">Hay una serie de herramientas disponibles a medida que se crea esta funcionalidad, desde herramientas propias, como Azure Automation, EventGrid y la CLI de Azure, hasta un amplio conjunto de herramientas de terceros, como Terraform, Jenkins, Chef y Puppet, entre otras.</span><span class="sxs-lookup"><span data-stu-id="48082-414">There are a number of tools that are available as you build out this capability, from first party tools such as Azure Automation, EventGrid and AzureCLI to an extensive amount of third party tools such as Terraform, Jenkins, Chef, and Puppet (to name a few).</span></span> <span data-ttu-id="48082-415">Las herramientas fundamentales para ofrecer a su equipo de operaciones la capacidad de automatizar son Azure Automation, Event Grid y Azure Cloud Shell:</span><span class="sxs-lookup"><span data-stu-id="48082-415">Core to your operations team ability to automate are Azure Automation, Event Grid and the Azure Cloud Shell:</span></span>

* <span data-ttu-id="48082-416">**Azure Automation**: es una funcionalidad basada en la nube que permite crear runbooks (en PowerShell o Python) y permite automatizar procesos, configurar recursos e incluso aplicar revisiones.</span><span class="sxs-lookup"><span data-stu-id="48082-416">**Azure Automation**: Is a cloud-based capability that allows to you author Runbooks (in either PowerShell or Python) and allows you automate processes, configure resources, and even apply patches.</span></span>  <span data-ttu-id="48082-417">[Azure Automation](/azure/automation/automation-intro) dispone de un conjunto amplio de funcionalidades multiplataforma que forman parte integral de la implementación, pero son demasiado extensas como para tratarlas aquí en profundidad.</span><span class="sxs-lookup"><span data-stu-id="48082-417">[Azure Automation](/azure/automation/automation-intro) has an extensive set of cross platform capabilities that are integral to your deployment but are too extensive to be covered in depth here.</span></span>
* <span data-ttu-id="48082-418">**Event Grid**: este [servicio](/azure/event-grid) es un sistema de enrutamiento de eventos totalmente administrado que permite reaccionar a eventos dentro del entorno de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-418">**Event Grid**: this [service](/azure/event-grid) is a fully-managed event routing system that let's you react to events within your Azure environment.</span></span> <span data-ttu-id="48082-419">Como la automatización es el tejido conectivo de organizaciones maduras en la nube, Event Grid es el tejido conectivo de una buena automatización.</span><span class="sxs-lookup"><span data-stu-id="48082-419">Like Automation is the connective tissue of mature cloud organizations, Event Grid is the connective tissue of good automation.</span></span> <span data-ttu-id="48082-420">Con Event Grid, puede crear una acción sencilla y sin servidor para enviar un correo electrónico a un administrador cada vez que se crea un recurso y registrar dicho recurso en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="48082-420">Using Event Grid, you can create a simple, serverless, action to send an email to an administrator whenever a new resource is created and log that resource in a database.</span></span> <span data-ttu-id="48082-421">Esa misma acción de Event Grid puede notificar cuándo se elimina un recurso y eliminar el elemento de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="48082-421">That same Event Grid can notify when a resource is deleted and remove the item from the database.</span></span>
* <span data-ttu-id="48082-422">**Azure Cloud Shell**: es un [shell](/azure/cloud-shell/overview) interactivo basado en el explorador para administrar recursos en Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-422">**Azure Cloud Shell**: is an interactive, browser-based [shell](/azure/cloud-shell/overview) for managing resources in Azure.</span></span> <span data-ttu-id="48082-423">Proporciona un entorno completo de PowerShell o Bash que se inicia según sea necesario y de cuyo mantenimiento se encarga el usuario, para poder disponer de un entorno coherente desde el que ejecutar los scripts.</span><span class="sxs-lookup"><span data-stu-id="48082-423">It provides a complete environment for either PowerShell or Bash that is launched as needed (and maintained for you) so that you have a consistent environment from which to run your scripts.</span></span> <span data-ttu-id="48082-424">Azure Cloud Shell proporciona acceso a herramientas clave adicionales ya instaladas para automatizar el entorno, como la [CLI de Azure](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest), [Terraform](/azure/virtual-machines/linux/terraform-install-configure) y una lista creciente de [herramientas](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/) adicionales para administrar contenedores, bases de datos (sqlcmd) y mucho más.</span><span class="sxs-lookup"><span data-stu-id="48082-424">The Azure Cloud Shell provides access to additional key tools -already installed-- to automate your environment including [Azure CLI](/cli/azure/get-started-with-azure-cli?view=azure-cli-latest), [Terraform](/azure/virtual-machines/linux/terraform-install-configure) and a growing list of additional [tools](https://azure.microsoft.com/updates/cloud-shell-new-cli-tools-and-font-size-selection/) to manage containers, databases (sqlcmd) and more.</span></span>

<span data-ttu-id="48082-425">La automatización es un trabajo de jornada completa y rápidamente se convertirá en una de las tareas operativas más importantes en su equipo en la nube.</span><span class="sxs-lookup"><span data-stu-id="48082-425">Automation is a full-time job and it will rapidly become one of the most important operational tasks within your cloud team.</span></span> <span data-ttu-id="48082-426">Las organizaciones que adoptan el enfoque de "automatizar primero" tienen más éxito al usar Azure:</span><span class="sxs-lookup"><span data-stu-id="48082-426">Organizations that take the approach of "automate first" have greater success in using Azure:</span></span>

* <span data-ttu-id="48082-427">Administración de costos: buscar oportunidades de forma activa y crear automatización para cambiar el tamaño de los recursos, escalar y reducir verticalmente y apagar los recursos que no se utilizan.</span><span class="sxs-lookup"><span data-stu-id="48082-427">Managing costs: actively seeking opportunities and creating automation to re-size resources, scale-up/down and turn off unused resources.</span></span>
* <span data-ttu-id="48082-428">Flexibilidad operativa: con el uso de la automatización (junto con las plantillas y DevOps), conseguirá un nivel de repetición que aumenta la disponibilidad, mejora la seguridad y permite a su equipo centrarse en solucionar problemas empresariales.</span><span class="sxs-lookup"><span data-stu-id="48082-428">Operational flexibility: through the use of automation (along with Templates and DevOps) you gain a level of repeatability that increases availability, increases security and enables your team to focus on solving business problems.</span></span>

## <a name="templates-and-devops"></a><span data-ttu-id="48082-429">Plantillas y DevOps</span><span class="sxs-lookup"><span data-stu-id="48082-429">Templates and DevOps</span></span>

<span data-ttu-id="48082-430">Como se explica en la sección de automatización, el objeto como organización debe ser aprovisionar recursos mediante scripts y plantillas controlados por código fuente y minimizar la configuración interactiva de los entornos.</span><span class="sxs-lookup"><span data-stu-id="48082-430">As highlighted in the Automate section, your goal as an organization should be to provision resources through source-controlled templates and scripts and to minimize interactive configuration of your environments.</span></span> <span data-ttu-id="48082-431">Este enfoque de "infraestructura como código" junto con un proceso disciplinado de DevOps para la implementación continua puede garantizar la coherencia y reducir el desfase en todos los entornos.</span><span class="sxs-lookup"><span data-stu-id="48082-431">This approach of "infrastructure as code" along with a disciplined DevOps process for continuous deployment can ensure consistency and reduce drift across your environments.</span></span> <span data-ttu-id="48082-432">Casi todos los recursos de Azure se pueden implementar con [plantillas JSON de Azure Resource Manager (ARM)](/azure/azure-resource-manager/resource-group-template-deploy) junto con PowerShell o las herramientas y la CLI multiplataforma de Azure, como Terraform de Hashicorp (que ofrece compatibilidad de primera clase y se integra en Azure Cloud Shell).</span><span class="sxs-lookup"><span data-stu-id="48082-432">Almost every Azure resource is deployable through [Azure Resource Manager (ARM) JSON templates](/azure/azure-resource-manager/resource-group-template-deploy) in conjunction with PowerShell or the Azure cross platform CLI and tools such as Terraform from Hashicorp (which has first class support and integrated into the Azure Cloud Shell).</span></span>

<span data-ttu-id="48082-433">Un artículo como [este](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/) ofrece un excelente debate sobre los procedimientos recomendados y las lecciones aprendidas en relación con la aplicación de un enfoque de DevOps a plantillas de ARM con la cadena de herramientas de [Azure DevOps](/azure/devops/user-guide/?view=vsts).</span><span class="sxs-lookup"><span data-stu-id="48082-433">Article such as [this one](https://blogs.msdn.microsoft.com/mvpawardprogram/2018/05/01/azure-resource-manager/) provide an excellent discussion on best practices and lessons learned in applying a DevOps approach to ARM templates with the [Azure DevOps](/azure/devops/user-guide/?view=vsts) tool chain.</span></span> <span data-ttu-id="48082-434">Dedique tiempo y esfuerzo para desarrollar un conjunto de plantillas específicas de los requisitos de su organización y para desarrollar canalizaciones de entrega continua con las cadenas de herramientas de DevOps (Azure DevOps, Jenkins, Bamboo, Teamcity y Concourse), especialmente para los entornos de producción y de control de calidad.</span><span class="sxs-lookup"><span data-stu-id="48082-434">Take the time and effort to develop a core set of templates specific to your organization's requirements, and to develop continuous delivery pipelines with DevOps tool chains (Azure DevOps, Jenkins, Bamboo, Teamcity, Concourse), especially for your production and QA environments.</span></span> <span data-ttu-id="48082-435">Existe una gran biblioteca de [plantillas de inicio rápido de Azure](https://github.com/Azure/azure-quickstart-templates) en GitHub que puede usar como punto de partida para las plantillas, a fin de poder crear rápidamente canalizaciones de entrega basadas en la nube con Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="48082-435">There is a large library of [Azure Quick Start templates](https://github.com/Azure/azure-quickstart-templates) on GitHub that you can use as a starting point for templates, and you can quickly create cloud-based delivery pipelines with Azure DevOps.</span></span>

<span data-ttu-id="48082-436">Como procedimiento recomendado para grupos de recursos o suscripciones de producción, el objetivo debe ser utilizar la seguridad RBAC para impedir usuarios interactivos de forma predeterminada y utilizar canalizaciones de entrega continua automatizadas basadas en entidades de servicio para aprovisionar todos los recursos y entregar todo el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="48082-436">As a best practice for production subscriptions or resource groups, your goal should be utilizing RBAC security to disallow interactive users by default and utilizing automated continuous delivery pipelines based on service principals to provision all resources and deliver all application code.</span></span> <span data-ttu-id="48082-437">Ningún administrador o desarrollador debe usar Azure Portal para configurar los recursos de forma interactiva.</span><span class="sxs-lookup"><span data-stu-id="48082-437">No admin or developer should touch the Azure Portal to interactively configure resources.</span></span> <span data-ttu-id="48082-438">Este nivel de DevOps realiza un esfuerzo conjunto, utiliza todos los conceptos de las plantillas scaffold de Azure y proporciona un entorno coherente y más seguro que se adapta a sus organizaciones para aumentar la escala.</span><span class="sxs-lookup"><span data-stu-id="48082-438">This level of DevOps takes a concerted effort and utilizes all the concepts of the Azure scaffold and provides a consistent and more secure environment that will meet your organizations to grow scale.</span></span>

> [!TIP]
> <span data-ttu-id="48082-439">Al diseñar y desarrollar plantillas de ARM complejas, utilice [plantillas vinculadas](/azure/azure-resource-manager/resource-group-linked-templates) para organizar y refactorizar relaciones complejas de recursos desde archivos JSON monolíticos.</span><span class="sxs-lookup"><span data-stu-id="48082-439">When designing and developing complex ARM templates, use [linked templates](/azure/azure-resource-manager/resource-group-linked-templates) to organize and refactor complex resource relationships from monolithic JSON files.</span></span> <span data-ttu-id="48082-440">Esto le permitirá administrar los recursos individualmente y permitirá elevar el nivel de legibilidad, prueba y reutilización de las plantillas.</span><span class="sxs-lookup"><span data-stu-id="48082-440">This will enable you to manage resources individually and make your templates more readable, testable and reusable.</span></span>

<span data-ttu-id="48082-441">Azure es un proveedor de la nube de hiperescala y, a medida que se migra la organización del mundo de los servidores locales a la nube, utilizar los mismos conceptos que usan los proveedores de la nube y las aplicaciones SaaS permitirá a la organización satisfacer las necesidades de la empresa de una forma bastante más eficaz.</span><span class="sxs-lookup"><span data-stu-id="48082-441">Azure is a hyper scale cloud provider and as you move your organization from the world of on-premises servers to the cloud, utilizing the same concepts that cloud providers and SaaS applications use will provide your organization to react to the needs of the business in vastly more efficient way.</span></span>

## <a name="core-network"></a><span data-ttu-id="48082-442">Red principal</span><span class="sxs-lookup"><span data-stu-id="48082-442">Core network</span></span>

<span data-ttu-id="48082-443">El componente definitivo del modelo de referencia de las plantillas scaffold de Azure es fundamental para que la organización acceda a Azure de forma segura.</span><span class="sxs-lookup"><span data-stu-id="48082-443">The final component of the Azure scaffold reference model is core to how your organization accesses Azure, in a secure manner.</span></span> <span data-ttu-id="48082-444">El acceso a los recursos puede ser interno (dentro de la red corporativa) o externo (a través de Internet).</span><span class="sxs-lookup"><span data-stu-id="48082-444">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="48082-445">Es muy fácil que los usuarios de una organización puedan colocar accidentalmente los recursos en la zona incorrecta y, posiblemente, abrirlos para acceder con intenciones malintencionado.</span><span class="sxs-lookup"><span data-stu-id="48082-445">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="48082-446">Al igual que con los dispositivos locales, las empresas deben agregar los controles adecuados para asegurarse de que los usuarios de Azure toman las decisiones correctas.</span><span class="sxs-lookup"><span data-stu-id="48082-446">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="48082-447">Para el gobierno de suscripciones, identificamos los recursos principales que proporcionan un control de acceso básico.</span><span class="sxs-lookup"><span data-stu-id="48082-447">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="48082-448">Se trata de los siguientes:</span><span class="sxs-lookup"><span data-stu-id="48082-448">The core resources consist of:</span></span>

* <span data-ttu-id="48082-449">Las **redes virtuales** son objetos de contenedor de las subredes.</span><span class="sxs-lookup"><span data-stu-id="48082-449">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="48082-450">Aunque no es estrictamente necesario, se suelen utilizar al conectar las aplicaciones a los recursos corporativos internos.</span><span class="sxs-lookup"><span data-stu-id="48082-450">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="48082-451">Las **rutas definidas por el usuario** permiten manipular la tabla de rutas dentro de una subred, lo que permite enviar tráfico a través de una aplicación virtual de red o a una puerta de enlace remota en una red virtual emparejada.</span><span class="sxs-lookup"><span data-stu-id="48082-451">**User Defined Routes** allow you to manipulate the route table within a subnet enabling you to send traffic through a network virtual appliance or to a remote gateway on a peered virtual network.</span></span>
* <span data-ttu-id="48082-452">El **emparejamiento de red virtual** permite conectar sin problemas dos o más redes virtuales de Azure y crear redes de servicios compartidas o diseños tipo hub-and-spoke más complejos.</span><span class="sxs-lookup"><span data-stu-id="48082-452">**Virtual Network Peering** enables you to seamlessly connect two or more Azure virtual networks, creating more complex hub & spoke designs or shared services networks.</span></span>
* <span data-ttu-id="48082-453">**Puntos de conexión de servicio**.</span><span class="sxs-lookup"><span data-stu-id="48082-453">**Service Endpoints**.</span></span> <span data-ttu-id="48082-454">En el pasado, los servicios PaaS se basaban en métodos diferentes para proteger el acceso a esos recursos desde las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="48082-454">In the past, PaaS services relied on different methods to secure access to those resources from your virtual networks.</span></span> <span data-ttu-id="48082-455">Los puntos de conexión de servicio permiten proteger el acceso a los servicios PaaS habilitados SOLO desde puntos de conexión conectados, de tal forma que se aumenta la seguridad general.</span><span class="sxs-lookup"><span data-stu-id="48082-455">Service endpoints allow you to secure access to enabled PaaS services from ONLY connected endpoints, increasing overall security.</span></span>
* <span data-ttu-id="48082-456">Los **grupos de seguridad** son un amplio conjunto de reglas que proporcionan la capacidad de permitir o denegar el tráfico entrante y saliente hacia y desde los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-456">**Security groups** are an extensive set of rules which provide you the ability to allow or deny inbound and outbound traffic to/from Azure Resources.</span></span> <span data-ttu-id="48082-457">Los [grupos de seguridad](/azure/virtual-network/security-overview) constan de reglas de seguridad, que pueden ampliarse con **etiquetas de servicio** (que definen los servicios de Azure comunes como Azure Key Vault, SQL etc.) y **grupos de aplicaciones** (que definen la estructura de una aplicación, como servidores web, servidores de aplicaciones, etc.).</span><span class="sxs-lookup"><span data-stu-id="48082-457">[Security Groups](/azure/virtual-network/security-overview) consist of Security Rules, which can be augmented with **Service Tags** (which define common Azure services such as AzureKeyVault, Sql and others) and **Application Groups** (which define and application structure, such as WebServers, AppServers and such)</span></span>

> [!TIP]
> <span data-ttu-id="48082-458">Use etiquetas de servicio y grupos de aplicaciones en los grupos de seguridad de red no solo para mejorar la confiabilidad de las reglas, que resulta fundamental para entender el impacto, sino también para permitir una microsegmentación eficaz en una subred más grande, para reducir así la expansión y aumentar la flexibilidad.</span><span class="sxs-lookup"><span data-stu-id="48082-458">Use Service tags and Application groups in your network security groups to not only enhance the readability of your rules -which is crucial to understanding impact- but also to enable effective micro-segmentation within a larger subnet, reducing sprawl and increasing flexibility.</span></span>

### <a name="virtual-data-center"></a><span data-ttu-id="48082-459">Centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="48082-459">Virtual Data Center</span></span>

<span data-ttu-id="48082-460">Azure proporciona funcionalidades internas y de terceros mediante nuestra amplia red de asociados que permite disponer de una postura de seguridad eficaz.</span><span class="sxs-lookup"><span data-stu-id="48082-460">Azure provides you both internal capabilities and third-party capabilities from our extensive partner network that enable you to have an effective security stance.</span></span> <span data-ttu-id="48082-461">Más importante aún, Microsoft proporciona procedimientos recomendados y orientación en el formulario del [centro de datos virtual de Azure](/azure/architecture/vdc/networking-virtual-datacenter).</span><span class="sxs-lookup"><span data-stu-id="48082-461">More importantly, Microsoft provides best practices and guidance in the form of the [Azure Virtual Data Center](/azure/architecture/vdc/networking-virtual-datacenter).</span></span> <span data-ttu-id="48082-462">A medida que pasa de una única carga de trabajo a varias cargas de trabajo que se benefician de las funcionalidades híbridas, la orientación sobre el centro de datos virtual le dará la "receta" para habilitar una red flexible que crecerá al mismo ritmo que las cargas de trabajo de Azure.</span><span class="sxs-lookup"><span data-stu-id="48082-462">As you move from a single workload to multiple workloads which leverage hybrid capabilities, the VDC guidance will provide you with "recipe" to enable a flexible, network that will grow as your workloads in Azure grow.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="48082-463">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="48082-463">Next steps</span></span>

<span data-ttu-id="48082-464">Contar con un sistema de gobierno es fundamental para que Azure tenga éxito.</span><span class="sxs-lookup"><span data-stu-id="48082-464">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="48082-465">En este artículo se aborda la implementación técnica de una scaffold empresarial, pero solo se mencionan el proceso más amplio y las relaciones entre los componentes.</span><span class="sxs-lookup"><span data-stu-id="48082-465">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="48082-466">El gobierno de directivas es jerárquico y viene determinado por lo que la empresa desee conseguir.</span><span class="sxs-lookup"><span data-stu-id="48082-466">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="48082-467">Naturalmente, en la creación de un modelo de gobierno de Azure participan los representantes del departamento de TI. Sin embargo, es más importante que los líderes del grupo de negocios y los responsables de seguridad y riesgos tengan una importante representación en dicho proceso.</span><span class="sxs-lookup"><span data-stu-id="48082-467">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="48082-468">Al final, una scaffold empresarial tiene que ver con mitigar los riesgos empresariales para facilitar la misión y los objetivos de la organización.</span><span class="sxs-lookup"><span data-stu-id="48082-468">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives</span></span>

<span data-ttu-id="48082-469">Ahora que ha obtenido información sobre el gobierno de suscripciones, es hora de ver estas recomendaciones en la práctica.</span><span class="sxs-lookup"><span data-stu-id="48082-469">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="48082-470">Vea [Examples of implementing Azure subscription governance](azure-scaffold-examples.md) (Ejemplos de implementación de un sistema de gobierno de suscripciones).</span><span class="sxs-lookup"><span data-stu-id="48082-470">See [Examples of implementing Azure subscription governance](azure-scaffold-examples.md).</span></span>
