---
title: Canalización de CI/CD con VSTS
description: Un ejemplo de compilación y publicación de una aplicación .NET en Azure Web Apps
author: christianreddington
ms.date: 07/11/18
ms.openlocfilehash: ae4ac5fc02cc841fc39b3cbef46124fe9da75e9b
ms.sourcegitcommit: 71cbef121c40ef36e2d6e3a088cb85c4260599b9
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 07/14/2018
ms.locfileid: "39061016"
---
# <a name="cicd-pipeline-with-vsts"></a><span data-ttu-id="90df5-103">Canalización de CI/CD con VSTS</span><span class="sxs-lookup"><span data-stu-id="90df5-103">CI/CD pipeline with VSTS</span></span>

<span data-ttu-id="90df5-104">DevOps es la integración de las operaciones de desarrollo, control de calidad y TI.</span><span class="sxs-lookup"><span data-stu-id="90df5-104">DevOps is the integration of development, quality assurance and IT operations.</span></span> <span data-ttu-id="90df5-105">DevOps requiere una referencia cultural unificada y un sólido conjunto de procesos para la entrega de software.</span><span class="sxs-lookup"><span data-stu-id="90df5-105">DevOps requires both unified culture and a strong set of processes for delivering software.</span></span>

<span data-ttu-id="90df5-106">Este escenario de ejemplo muestra cómo los equipos de desarrollo pueden usar Visual Studio Team Services para implementar una aplicación web .NET de dos niveles en Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="90df5-106">This example scenario demonstrates how development teams can use Visual Studio Team Services to deploy a .NET two-tier web application to Azure App Service.</span></span> <span data-ttu-id="90df5-107">La aplicación web depende de servicios de plataforma como servicio (PaaS) de Azure de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="90df5-107">The Web Application dependends on downstream Azure Platform as a Service (PaaS) services.</span></span> <span data-ttu-id="90df5-108">Este documento también señala algunas consideraciones que debe tener en cuenta al diseñar un escenario como este mediante una plataforma como servicio (PaaS) de Azure.</span><span class="sxs-lookup"><span data-stu-id="90df5-108">This document also points out some considerations that you should make when designing such a scenario using Azure Platform as a Service (PaaS).</span></span>

<span data-ttu-id="90df5-109">Adoptar un enfoque moderno en el desarrollo de aplicaciones mediante la integración continua (CI) y la implementación continua (CD) le ayuda a proporcionar valor más rápidamente a los usuarios mediante un servicio sólido de compilación, prueba, implementación y supervisión.</span><span class="sxs-lookup"><span data-stu-id="90df5-109">Adopting a modern approach to application development using Continuous Integration (CI) and Continuous Deployment (CD), helps you to accelerate the delivery of value to your users through a robust build, test, deployment and monitoring service.</span></span> <span data-ttu-id="90df5-110">Con el uso de una plataforma como Visual Studio Team Services además de servicios de Azure como App Service, las organizaciones se aseguran de que se centran en el desarrollo de su escenario en lugar de en la administración de la infraestructura que necesitan para habilitarlo.</span><span class="sxs-lookup"><span data-stu-id="90df5-110">By using a platform such as Visual Studio Team Services in addition to Azure services such as App Service, organizations can ensure they remain focused on the development of their scenario, rather than the management of the infrastructure to enable it.</span></span>

## <a name="related-use-cases"></a><span data-ttu-id="90df5-111">Casos de uso relacionados</span><span class="sxs-lookup"><span data-stu-id="90df5-111">Related use cases</span></span>

<span data-ttu-id="90df5-112">Considere la posibilidad de usar DevOps para los casos de uso siguientes:</span><span class="sxs-lookup"><span data-stu-id="90df5-112">Consider DevOps for the following use cases:</span></span>

* <span data-ttu-id="90df5-113">Aceleración del desarrollo de aplicaciones y los ciclos de vida de desarrollo</span><span class="sxs-lookup"><span data-stu-id="90df5-113">Speeding up application development and development life cycles</span></span>
* <span data-ttu-id="90df5-114">Generación de calidad y coherencia en un proceso automatizado de compilación y lanzamiento</span><span class="sxs-lookup"><span data-stu-id="90df5-114">Building quality and consistency into an automated build and release process</span></span>

## <a name="architecture"></a><span data-ttu-id="90df5-115">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="90df5-115">Architecture</span></span>

![Introducción a la arquitectura de los componentes de Azure implicados en un escenario de DevOps con Visual Studio Team Services y Azure App Service][architecture]

<span data-ttu-id="90df5-117">Este escenario incluye una canalización de DevOps para una aplicación web de .NET con Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="90df5-117">This scenario covers a DevOps pipeline for a .NET web application using Visual Studio Team Services (VSTS).</span></span> <span data-ttu-id="90df5-118">Los datos fluyen por el escenario de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="90df5-118">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="90df5-119">Cambie el código fuente de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="90df5-119">Change application source code.</span></span>
2. <span data-ttu-id="90df5-120">Confirme el código de la aplicación y el archivo web.config de Web Apps.</span><span class="sxs-lookup"><span data-stu-id="90df5-120">Commit application code and Web Apps web.config file.</span></span>
3. <span data-ttu-id="90df5-121">La integración continua desencadena las pruebas unitarias y la compilación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="90df5-121">Continuous integration triggers application build and unit tests.</span></span>
4. <span data-ttu-id="90df5-122">El desencadenador de implementación continua organiza la implementación de los artefactos de la aplicación *con valores parametrizados de configuración específicos del entorno*.</span><span class="sxs-lookup"><span data-stu-id="90df5-122">Continuous deployment trigger orchestrates deployment of application artifacts *with environment-specific parameterized configuration values*.</span></span>
5. <span data-ttu-id="90df5-123">Implementación en Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="90df5-123">Deployment to Azure App Service.</span></span>
6. <span data-ttu-id="90df5-124">Azure Application Insights recopila y analiza datos de mantenimiento, rendimiento y uso.</span><span class="sxs-lookup"><span data-stu-id="90df5-124">Azure Application Insights collects and analyzes health, performance, and usage data.</span></span>
7. <span data-ttu-id="90df5-125">Revise la información de mantenimiento, rendimiento y uso.</span><span class="sxs-lookup"><span data-stu-id="90df5-125">Review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="90df5-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="90df5-126">Components</span></span>

* <span data-ttu-id="90df5-127">Los [grupos de recursos][resource-groups] son contenedores lógicos de recursos de Azure y también proporcionan un límite de control de acceso para el plano de administración. Piense en un grupo de recursos como en la representación de una "unidad de implementación".</span><span class="sxs-lookup"><span data-stu-id="90df5-127">[Resource Groups][resource-groups] are a logical container for Azure resources and also provide an access control boundary for the management plane - think of a Resource Group as representing a "unit of deployment".</span></span>
* <span data-ttu-id="90df5-128">[Visual Studio Team Services (VSTS)][vsts] es un servicio que le permite administrar el ciclo de vida del desarrollo de un extremo a otro, desde la planeación y administración del proyecto a la administración del código pasando por la compilación y el lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="90df5-128">[Visual Studio Team Services (VSTS)][vsts] is a service that enables you to manage your development life cycle end-to-end; from planning and project management, to code management, through to build and release.</span></span>
* <span data-ttu-id="90df5-129">[Azure Web Apps][web-apps] es un servicio de plataforma como servicio (PaaS) para hospedar aplicaciones web, API REST y back-ends para dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="90df5-129">[Azure Web Apps][web-apps] is a Platform as a Service (PaaS) service for hosting web applications, REST APIs, and mobile back ends.</span></span> <span data-ttu-id="90df5-130">Aunque este artículo se centra en. NET, hay varias opciones de plataforma de desarrollo adicionales compatibles.</span><span class="sxs-lookup"><span data-stu-id="90df5-130">While this article focuses on .NET, there are several additional development platform options supported.</span></span>
* <span data-ttu-id="90df5-131">[Application Insights][application-insights] es un servicio propio de Application Performance Management (APM) extensible para desarrolladores web en varias plataformas.</span><span class="sxs-lookup"><span data-stu-id="90df5-131">[Application Insights][application-insights] is a first-party, extensible Application Performance Management (APM) service for web developers on multiple platforms.</span></span>

### <a name="alternative-devops-tooling-options"></a><span data-ttu-id="90df5-132">Opciones alternativas de herramientas de DevOps</span><span class="sxs-lookup"><span data-stu-id="90df5-132">Alternative DevOps tooling options</span></span>

<span data-ttu-id="90df5-133">Aunque este artículo se centra en Visual Studio Team Services, se puede usar [Team Foundation Server][team-foundation-server] como sustituto en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="90df5-133">Whilst this article focuses on Visual Studio Team Services, [Team Foundation Server][team-foundation-server] could be used as on premises substitute.</span></span> <span data-ttu-id="90df5-134">Como alternativa, también puede encontrar un conjunto de tecnologías que se usan conjuntamente para lograr un aprovechamiento de la canalización de desarrollo de código abierto [Jenkins][jenkins-on-azure].</span><span class="sxs-lookup"><span data-stu-id="90df5-134">Alternatively, you may also find a collection of technologies being used together for an Open Source development pipeline leveraging [Jenkins][jenkins-on-azure].</span></span>

<span data-ttu-id="90df5-135">Desde una perspectiva de infraestructura como código, las [plantillas de Azure Resource Manager (ARM)][arm-templates] se incluyen como parte del proyecto de Azure DevOps, pero también podría usar [Terraform][terraform] o [Chef][chef] si ha invertido en ellos.</span><span class="sxs-lookup"><span data-stu-id="90df5-135">From an Infrastructure as Code perspective, [Azure Resource Manager (ARM) Templates][arm-templates] are included as part of the Azure DevOps project, but you could consider [Terraform][terraform] or [Chef][chef] if you have investments here.</span></span> <span data-ttu-id="90df5-136">Si prefiere una implementación basada en una infraestructura como servicio (IaaS) y requiere administración de configuración podría usar [Azure Desired State Configuration][desired-state-configuration], [Ansible][ansible] o [Chef][chef].</span><span class="sxs-lookup"><span data-stu-id="90df5-136">If you prefer an Infrastructure as a Service (IaaS) based deployment and require configuration management, then you could consider either [Azure Desired State Configuration][desired-state-configuration], [Ansible][ansible] or [Chef][chef].</span></span>

### <a name="alternatives-to-web-app-hosting"></a><span data-ttu-id="90df5-137">Alternativas al hospedaje en Web Apps</span><span class="sxs-lookup"><span data-stu-id="90df5-137">Alternatives to Web App Hosting</span></span>

<span data-ttu-id="90df5-138">Alternativas al hospedaje en Azure Web Apps:</span><span class="sxs-lookup"><span data-stu-id="90df5-138">Alternatives to hosting in Azure Web Apps:</span></span>

* <span data-ttu-id="90df5-139">[Máquina virtual][compare-vm-hosting]: para cargas de trabajo que requieren un alto grado de control, o dependen de componentes o servicios del sistema operativo que no son posibles con Web Apps (por ejemplo, la caché global de ensamblados de Windows o COM)</span><span class="sxs-lookup"><span data-stu-id="90df5-139">[VM][compare-vm-hosting] - For workloads that require a high degree of control, or depend on OS components / services that are not possible with Web Apps (e.g. the Windows GAC, or COM)</span></span>
* <span data-ttu-id="90df5-140">[Hospedaje de contenedores][azure-containers]: donde hay dependencias del sistema operativo y portabilidad de hospedaje o densidad de hospedaje, también hay requisitos.</span><span class="sxs-lookup"><span data-stu-id="90df5-140">[Container Hosting][azure-containers] - Where there are OS dependencies and hosting portability, or hosting density, are also requirements.</span></span>
* <span data-ttu-id="90df5-141">[Service Fabric][service-fabric]: una buena opción si la arquitectura de cargas de trabajo está centrada en torno a componentes distribuidos que se benefician de su implementación y ejecución en un clúster con un alto grado de control.</span><span class="sxs-lookup"><span data-stu-id="90df5-141">[Service Fabric][service-fabric] - A good option if the workload architecture is focused around distributed components that benefit from being deployed and run across a cluster with a high degree of control.</span></span> <span data-ttu-id="90df5-142">Service Fabric también se puede utilizar para hospedar contenedores.</span><span class="sxs-lookup"><span data-stu-id="90df5-142">Service Fabric can also be used to host containers.</span></span>
* <span data-ttu-id="90df5-143">[Funciones de Azure sin servidor][azure-functions]: una buena opción si la arquitectura de cargas de trabajo está centrada en torno a componentes distribuidos más precisos, que requieren dependencias mínimas, donde solo se necesita que los componentes individuales se ejecuten a petición (no de forma continua) y en los que la orquestación de componentes no es necesaria.</span><span class="sxs-lookup"><span data-stu-id="90df5-143">[Serverless Azure functions][azure-functions] - A good option if the workload architecture is centered around fine grained distributed components, requiring minimal dependencies, where individual components are only required to run on demand (not continuously) and orchestration of components is not required.</span></span>

### <a name="devops"></a><span data-ttu-id="90df5-144">DevOps</span><span class="sxs-lookup"><span data-stu-id="90df5-144">DevOps</span></span>

<span data-ttu-id="90df5-145">La **[integración continua (CI)][continuous-integration]** debe tener como objetivo mostrar una compilación sólida, con más de un desarrollador individual o equipo que constantemente realizan pequeños cambios frecuentes en el código base compartido.</span><span class="sxs-lookup"><span data-stu-id="90df5-145">**[Continuous Integration (CI)][continuous-integration]** should aim to demonstrate a stable build, with more than one individual developer or team continuously committing small, frequent changes to the shared codebase.</span></span>
<span data-ttu-id="90df5-146">Como parte de la canalización de integración continua debe</span><span class="sxs-lookup"><span data-stu-id="90df5-146">As part of your Continuous Integration pipeline you should;</span></span>

* <span data-ttu-id="90df5-147">Insertar en el repositorio pequeñas cantidades de código frecuentemente (para evitar el procesamiento por lotes de cambios más grandes o complejos ya que estos pueden ser más difíciles de combinar correctamente)</span><span class="sxs-lookup"><span data-stu-id="90df5-147">Check in small amounts of code frequently (avoid batching up larger or more complex changes as these can be harder to merge successfully)</span></span>
* <span data-ttu-id="90df5-148">Realizar una prueba unitaria de los componentes de la aplicación con suficiente cobertura de código (incluidas las rutas incorrectas)</span><span class="sxs-lookup"><span data-stu-id="90df5-148">Unit Test the components of your application with sufficient code coverage (including the unhappy paths)</span></span>
* <span data-ttu-id="90df5-149">Garantizar que la compilación se ejecuta en la rama (o tronco) compartida maestra.</span><span class="sxs-lookup"><span data-stu-id="90df5-149">Ensuring the build is run against the shared, master (or trunk) branch.</span></span> <span data-ttu-id="90df5-150">Esta rama debe ser estable y permanecer "lista para implementación".</span><span class="sxs-lookup"><span data-stu-id="90df5-150">This branch should be stable and maintained as "deployment ready".</span></span> <span data-ttu-id="90df5-151">Se deben aislar cambios incompletos o en curso en una rama independiente con combinaciones frecuentes "de integración hacia delante" para evitar conflictos posteriores.</span><span class="sxs-lookup"><span data-stu-id="90df5-151">Incomplete or work-in-progress changes should be isolated in a separate branch with frequent 'forward integration' merges to avoid conflicts later.</span></span>

<span data-ttu-id="90df5-152">La **[entrega continua (CD)][continuous-delivery]** debe tener como objetivo mostrar no solo una compilación estable, sino también una implementación estable.</span><span class="sxs-lookup"><span data-stu-id="90df5-152">**[Continuous Delivery (CD)][continuous-delivery]** should aim to demonstrate not only a stable build but a stable deployment.</span></span> <span data-ttu-id="90df5-153">Esto dificulta la comprensión de la entrega continua y requiere una configuración específica para el entorno y un mecanismo para configurar esos valores correctamente.</span><span class="sxs-lookup"><span data-stu-id="90df5-153">This makes realising CD a little more difficult, environment specific configuration is required and a mechanism for setting those values correctly.</span></span>

<span data-ttu-id="90df5-154">Además se necesita una cobertura suficiente de las pruebas de integración para asegurarse de que los distintos componentes están configurados y funcionando correctamente de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="90df5-154">In addition, sufficient coverage of Integration Testing is required to ensure that the various components are configured and working correctly end-to-end.</span></span>

<span data-ttu-id="90df5-155">Puede que también necesite configurar y restablecer datos específicos del entorno y administrar versiones del esquema de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="90df5-155">This may also require setting up and resetting environment specific data and managing database schema versions.</span></span>

<span data-ttu-id="90df5-156">La entrega continua también se puede ampliar a los entornos de pruebas de carga y pruebas de aceptación de usuario.</span><span class="sxs-lookup"><span data-stu-id="90df5-156">Continuous Delivery may also extend to Load Testing and User Acceptance Testing Environments.</span></span>

<span data-ttu-id="90df5-157">La entrega continua se beneficia de la supervisión continua, idealmente en todos los entornos.</span><span class="sxs-lookup"><span data-stu-id="90df5-157">Continuous Delivery benefits from continuous Monitoring, ideally across all environments.</span></span>
<span data-ttu-id="90df5-158">La coherencia y confiabilidad de las pruebas de implementaciones y de integración de los entornos se facilita mediante el uso de scripts de creación y configuración o de la infraestructura de hospedaje (algo que es considerablemente más fácil para cargas de trabajo basadas en la nube; consulte la infraestructura de Azure como código), que también se conoce como ["infraestructura como código"][infra-as-code].</span><span class="sxs-lookup"><span data-stu-id="90df5-158">The consistency and reliability of deployments and integration testing across environments is made easier by scripting the creation and configuration or the hosting infrastructure (something which is considerably easier for Cloud based workloads, see Azure infrastructure as code) - this is also known as ["infrastructure-as-code"][infra-as-code].</span></span>

* <span data-ttu-id="90df5-159">Inicie la entrega continua tan pronto como sea posible en el ciclo de vida del proyecto.</span><span class="sxs-lookup"><span data-stu-id="90df5-159">Start Continuous Delivery as early as possible in the project life-cycle.</span></span> <span data-ttu-id="90df5-160">Cuanto más tarde se realice, más difícil será.</span><span class="sxs-lookup"><span data-stu-id="90df5-160">The later you leave it, the more difficult it will be.</span></span>
* <span data-ttu-id="90df5-161">Se le debe dar la misma prioridad a las pruebas unitarias y de integración que a las características del proyecto</span><span class="sxs-lookup"><span data-stu-id="90df5-161">Integration & unit tests should be given the same priority as the project features</span></span>
* <span data-ttu-id="90df5-162">Uso de paquetes de implementación independientes del entorno y administración de configuración específica del entorno a lo largo del proceso de lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="90df5-162">Use environment agnostic deployment packages and manage environment specific configuration through the release process.</span></span>
* <span data-ttu-id="90df5-163">Proteja la configuración confidencial dentro de las herramientas de administración de versiones o mediante una llamada a un módulo de seguridad de hardware (HSM) o instancia de [Key Vault][azure-key-vault] durante el proceso de lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="90df5-163">Protect sensitive configuration within the release management tooling or by calling out to a Hardware-security-module (HSM), or [Key Vault][azure-key-vault], during the release process.</span></span> <span data-ttu-id="90df5-164">No almacene configuración confidencial dentro del control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="90df5-164">Do not store sensitive configuration within source control.</span></span>

<span data-ttu-id="90df5-165">**Aprendizaje continuo**: la supervisión más eficaz de un entorno de implementación continua la proporcionan las herramientas de supervisión de rendimiento de aplicaciones como, por ejemplo, [Application Insights][application-insights] de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="90df5-165">**Continuous Learning** - The most effective monitoring of a CD environment is provided by Application-Performance-Monitoring tools (APM for short), for example Microsoft's [Application Insights][application-insights].</span></span> <span data-ttu-id="90df5-166">Un nivel suficiente de supervisión de la carga de trabajo de una aplicación resulta vital para entender los errores y el rendimiento con carga.</span><span class="sxs-lookup"><span data-stu-id="90df5-166">Sufficient depth of monitoring for an application workload is critical to understand bugs, performance under load.</span></span> <span data-ttu-id="90df5-167">[App Insights se puede integrar en VSTS para habilitar la supervisión continua de la canalización de implementación continua][app-insights-cd-monitoring].</span><span class="sxs-lookup"><span data-stu-id="90df5-167">[App Insights can be integrated into VSTS to enable continuous monitoring of the CD pipeline][app-insights-cd-monitoring].</span></span> <span data-ttu-id="90df5-168">Esta se puede usar para habilitar una progresión continua a la siguiente fase, sin intervención del usuario, o una reversión si se detecta una alerta.</span><span class="sxs-lookup"><span data-stu-id="90df5-168">This could be used to enable automatic progression to the next stage, without human intervention, or rollback if an alert is detected.</span></span>

## <a name="considerations"></a><span data-ttu-id="90df5-169">Consideraciones</span><span class="sxs-lookup"><span data-stu-id="90df5-169">Considerations</span></span>

### <a name="availability"></a><span data-ttu-id="90df5-170">Disponibilidad</span><span class="sxs-lookup"><span data-stu-id="90df5-170">Availability</span></span>

<span data-ttu-id="90df5-171">Considere la posibilidad de aprovechar los [patrones de diseño típicos de disponibilidad][design-patterns-availability] al compilar la aplicación en la nube.</span><span class="sxs-lookup"><span data-stu-id="90df5-171">Consider leveraging the [typical design patterns for availability][design-patterns-availability] when building your cloud application.</span></span>

<span data-ttu-id="90df5-172">Revise las consideraciones sobre disponibilidad en la correspondiente [arquitectura de referencia de aplicación web de App Service][app-service-reference-architecture]</span><span class="sxs-lookup"><span data-stu-id="90df5-172">Review the availability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="90df5-173">Para ver otros temas de disponibilidad, consulte la [lista de comprobación de disponibilidad][availability] que encontrará en Azure Architecture Center.</span><span class="sxs-lookup"><span data-stu-id="90df5-173">For other availability topics, see the [availability checklist][availability] in the Azure Architecure Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="90df5-174">Escalabilidad</span><span class="sxs-lookup"><span data-stu-id="90df5-174">Scalability</span></span>

<span data-ttu-id="90df5-175">Al compilar una aplicación en la nube debe tener en cuenta los [patrones de diseño típicos de escalabilidad][design-patterns-scalability].</span><span class="sxs-lookup"><span data-stu-id="90df5-175">When building a cloud application be aware of the [typical design patterns for scalability][design-patterns-scalability].</span></span>

<span data-ttu-id="90df5-176">Revise las consideraciones sobre escalabilidad en la correspondiente [arquitectura de referencia de aplicación web de App Service][app-service-reference-architecture]</span><span class="sxs-lookup"><span data-stu-id="90df5-176">Review the scalability considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture]</span></span>

<span data-ttu-id="90df5-177">Para ver otros temas de escalabilidad, consulte la [lista de comprobación de escalabilidad][scalability] que encontrará en Azure Architecture Center.</span><span class="sxs-lookup"><span data-stu-id="90df5-177">For other scalability topics, see the [scalability checklist][scalability] in the Azure Architecure Center.</span></span>

### <a name="security"></a><span data-ttu-id="90df5-178">Seguridad</span><span class="sxs-lookup"><span data-stu-id="90df5-178">Security</span></span>

<span data-ttu-id="90df5-179">Considere la posibilidad de aprovechar los [patrones de diseño típicos de seguridad][design-patterns-security] donde corresponda.</span><span class="sxs-lookup"><span data-stu-id="90df5-179">Consider leveraging the [typical design patterns for security][design-patterns-security] where appropriate.</span></span>

<span data-ttu-id="90df5-180">Revise las consideraciones sobre seguridad en la correspondiente [arquitectura de referencia de aplicación web de App Service][app-service-reference-architecture].</span><span class="sxs-lookup"><span data-stu-id="90df5-180">Review the security considerations in the appropriate [App Service web application reference architecture][app-service-reference-architecture].</span></span>

<span data-ttu-id="90df5-181">Para obtener instrucciones generales sobre el diseño de soluciones seguras, consulte la [documentación de seguridad de Azure][security].</span><span class="sxs-lookup"><span data-stu-id="90df5-181">For general guidance on designing secure solutions, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="90df5-182">Resistencia</span><span class="sxs-lookup"><span data-stu-id="90df5-182">Resiliency</span></span>

<span data-ttu-id="90df5-183">Revise los [patrones de diseño típicos de resistencia][design-patterns-resiliency] y considere la posibilidad de implementar estos cuando corresponda.</span><span class="sxs-lookup"><span data-stu-id="90df5-183">Review the [typical design patterns for resiliency][design-patterns-resiliency] and consider implementing these where appropriate.</span></span>

<span data-ttu-id="90df5-184">Puede encontrar varios [procedimientos recomendados de resistencia para App Service][resiliency-app-service] en el centro de arquitectura.</span><span class="sxs-lookup"><span data-stu-id="90df5-184">You can find a number of [resiliency recommended practices for App Service][resiliency-app-service] on the architecture center.</span></span>

<span data-ttu-id="90df5-185">Para obtener instrucciones generales sobre el diseño de soluciones resistentes, consulte [Diseño de aplicaciones resistentes de Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="90df5-185">For general guidance on designing resilient solutions, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="90df5-186">Implementación del escenario</span><span class="sxs-lookup"><span data-stu-id="90df5-186">Deploy the scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="90df5-187">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="90df5-187">Prerequisites</span></span>

* <span data-ttu-id="90df5-188">Debe tener una cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="90df5-188">You must have an existing Azure account.</span></span> <span data-ttu-id="90df5-189">Si no tiene ninguna suscripción a Azure, cree una [cuenta gratuita][azure-free-account] antes de empezar.</span><span class="sxs-lookup"><span data-stu-id="90df5-189">If you don't have an Azure subscription, create a [free account][azure-free-account] before you begin.</span></span>
* <span data-ttu-id="90df5-190">Debe tener una cuenta existente de Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="90df5-190">You must have an existing Visual Studio Team Services (VSTS) account.</span></span> <span data-ttu-id="90df5-191">Obtenga más información acerca de la [creación de una cuenta de Visual Studio Team Services (VSTS)][vsts-account-create].</span><span class="sxs-lookup"><span data-stu-id="90df5-191">Find out more details about [creating a Visual Studio Team Services (VSTS) account][vsts-account-create].</span></span>

### <a name="walk-through"></a><span data-ttu-id="90df5-192">Tutorial</span><span class="sxs-lookup"><span data-stu-id="90df5-192">Walk through</span></span>

<span data-ttu-id="90df5-193">En este escenario va a usar el proyecto de Azure DevOps para crear la canalización de CI/CD.</span><span class="sxs-lookup"><span data-stu-id="90df5-193">In this scenario you'll use the Azure DevOps Project to create your CI/CD pipeline.</span></span>

<span data-ttu-id="90df5-194">El proyecto de DevOps implementará App Service, un plan de App Service y un recurso de App Insights y configurará el proyecto de Visual Studio Team Services en su lugar.</span><span class="sxs-lookup"><span data-stu-id="90df5-194">The DevOps project will deploy an App Service Plan, App Service and an App Insights resource for you, as well as configure the Visual Studio Team Services Project for you.</span></span>

<span data-ttu-id="90df5-195">Una vez que tenga el proyecto de DevOps y se haya completado la compilación, revise los cambios de código asociados, los elementos de trabajo y los resultados de las pruebas.</span><span class="sxs-lookup"><span data-stu-id="90df5-195">Once you've  the DevOps project and the build is completed, review the associated code changes, work items and test results.</span></span> <span data-ttu-id="90df5-196">Como puede observar, no se muestra ningún resultado de la prueba, ya que el código no contiene pruebas para ejecutarlas.</span><span class="sxs-lookup"><span data-stu-id="90df5-196">You will notice no test results are displayed, as the code does not contain any tests to run.</span></span>

<span data-ttu-id="90df5-197">Revise las definiciones de versión.</span><span class="sxs-lookup"><span data-stu-id="90df5-197">Review the Release definitions.</span></span> <span data-ttu-id="90df5-198">Tenga en cuenta que se ha configurado una canalización de versión que ha permitido publicar nuestra aplicación en Dev.</span><span class="sxs-lookup"><span data-stu-id="90df5-198">Notice that a release pipeline has been setup, releasing our application into Dev.</span></span> <span data-ttu-id="90df5-199">Observe que hay un **desencadenador de implementación continua** establecido en el artefacto de compilación **Drop**, con versiones automáticas en los entornos de Dev.</span><span class="sxs-lookup"><span data-stu-id="90df5-199">Observe that there is a **continuous deployment trigger** set from the **Drop** build artifact, with automatic releases into the Dev environments.</span></span> <span data-ttu-id="90df5-200">Como parte de un proceso de implementación continua, puede que vea extenderse versiones en varios entornos.</span><span class="sxs-lookup"><span data-stu-id="90df5-200">As part of a Continuous Deployment process, you may see releases span across multiple environments.</span></span> <span data-ttu-id="90df5-201">Una versión puede abarcar la infraestructura (mediante técnicas como la de infraestructura como código) y también implementar los paquetes de aplicación necesarios así como todas las tareas posteriores a la configuración.</span><span class="sxs-lookup"><span data-stu-id="90df5-201">A release can span both infrastructure (using techniques such as Infrastructure as Code), and also deploy the application packages required as well as any post-configuration tasks.</span></span>

<span data-ttu-id="90df5-202">**Consideraciones adicionales.**</span><span class="sxs-lookup"><span data-stu-id="90df5-202">**Additional Considerations.**</span></span>

* <span data-ttu-id="90df5-203">Considere la posibilidad de usar una de las [tareas de tokenización][vsts-tokenization] que están disponibles en Marketplace de VSTS.</span><span class="sxs-lookup"><span data-stu-id="90df5-203">Consider leveraging one of the [tokenization tasks][vsts-tokenization] that are available in the VSTS marketplace.</span></span>
* <span data-ttu-id="90df5-204">Considere la posibilidad de usar la tarea [Deploy: Azure Key Vault][download-keyvault-secrets] de VSTS para descargar los secretos desde Azure Key Vault en su versión.</span><span class="sxs-lookup"><span data-stu-id="90df5-204">Consider using the [Deploy: Azure Key Vault][download-keyvault-secrets] VSTS task to download secrets from an Azure KeyVault into your release.</span></span> <span data-ttu-id="90df5-205">Posteriormente, puede usar esos secretos como variables que formen parte de la definición de versión y no debería almacenarlos en el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="90df5-205">You can then use those secrets as variables as part of your release definition, and should not be storing them in source control.</span></span>
* <span data-ttu-id="90df5-206">Considere la posibilidad de usar [variables de versión][vsts-release-variables] en las definiciones de versión para impulsar los cambios de configuración en los entornos.</span><span class="sxs-lookup"><span data-stu-id="90df5-206">Consider using [release variables][vsts-release-variables] in your release definitions to drive configuration changes of your environments.</span></span> <span data-ttu-id="90df5-207">Las variables de versión se pueden limitar a una versión completa o a un entorno determinado.</span><span class="sxs-lookup"><span data-stu-id="90df5-207">Release variables can be scoped to an entire release or a given environment.</span></span> <span data-ttu-id="90df5-208">Si usa variables de información secreta, asegúrese de seleccionar el icono de candado.</span><span class="sxs-lookup"><span data-stu-id="90df5-208">If using variables for secret information, ensure that you select the padlock icon.</span></span>
* <span data-ttu-id="90df5-209">Piense en la posibilidad de usar [puertas de implementación][vsts-deployment-gates] en la canalización de versión.</span><span class="sxs-lookup"><span data-stu-id="90df5-209">Consider using [deployment gates][vsts-deployment-gates] in your release pipeline.</span></span> <span data-ttu-id="90df5-210">Esto le permite aprovechar los datos de supervisión en asociación con sistemas externos (por ejemplo, de administración de incidentes o con sistemas personalizados adicionales) para determinar si se debe promover una versión.</span><span class="sxs-lookup"><span data-stu-id="90df5-210">This allows you to leverage monitoring data in association with external systems (e.g. incident management or additional bespoke systems) to determine whether a release should be promoted.</span></span>
* <span data-ttu-id="90df5-211">Cuando se requiere intervención manual en una canalización de versión, piense sobre la conveniencia de usar la funcionalidad de [aprobaciones][vsts-approvals].</span><span class="sxs-lookup"><span data-stu-id="90df5-211">Where manual intervention in a release pipeline is required, consider using the [approvals][vsts-approvals] functionality.</span></span>
* <span data-ttu-id="90df5-212">Considere el uso de [Application Insights][application-insights] y de herramientas de supervisión adicionales lo antes posible en la versión de canalización.</span><span class="sxs-lookup"><span data-stu-id="90df5-212">Consider using [Application Insights][application-insights] and additional monitoring tooling as early as possible in your release pipeline.</span></span> <span data-ttu-id="90df5-213">La mayoría de las organizaciones solo empiezan a supervisar en el entorno de producción, aunque se podrían identificar posibles errores en un punto anterior del proceso y evitar que los usuarios de producción se vean afectados.</span><span class="sxs-lookup"><span data-stu-id="90df5-213">Most organizations only begin monitoring in their production environment, though you could identify potential bugs earlier in the process and prevent impact to your users in production.</span></span>

## <a name="pricing"></a><span data-ttu-id="90df5-214">Precios</span><span class="sxs-lookup"><span data-stu-id="90df5-214">Pricing</span></span>

<span data-ttu-id="90df5-215">El costo de Visual Studio Team Services dependerá del número de usuarios de su organización que requieren acceso, además de factores como el número de versiones o compilaciones simultáneas necesarias y el número de usuarios de prueba.</span><span class="sxs-lookup"><span data-stu-id="90df5-215">Your Visual Studio Team Services costing will depend upon the number of users in your organization that require access, in addition to factors such as the number of concurrent build/releases required, and number of test users.</span></span> <span data-ttu-id="90df5-216">La información se detalla más adelante en la [página de precios de VSTS][vsts-pricing-page].</span><span class="sxs-lookup"><span data-stu-id="90df5-216">These are detailed further on the [VSTS pricing page][vsts-pricing-page].</span></span>

* <span data-ttu-id="90df5-217">[Visual Studio Team Services (VSTS)][vsts-pricing-calculator] es un servicio que le permite administrar el ciclo de vida del desarrollo y se paga por usuario y por mes.</span><span class="sxs-lookup"><span data-stu-id="90df5-217">[Visual Studio Team Services (VSTS)][vsts-pricing-calculator] is a service that enables you to manage your development life cycle and is paid for on a per user, per month basis.</span></span> <span data-ttu-id="90df5-218">Puede que se produzcan otros gastos adicionales en función de las canalizaciones simultáneas que se necesiten, además de por otros usuarios de prueba o licencias de usuario básico adicionales.</span><span class="sxs-lookup"><span data-stu-id="90df5-218">There may be additional charges dependent upon concurrent pipelines needed, in addition to any additional test users, or user basic licenses.</span></span>

## <a name="related-resources"></a><span data-ttu-id="90df5-219">Recursos relacionados</span><span class="sxs-lookup"><span data-stu-id="90df5-219">Related Resources</span></span>

* <span data-ttu-id="90df5-220">[¿Qué es DevOps?][devops-whatis]</span><span class="sxs-lookup"><span data-stu-id="90df5-220">[What is DevOps?][devops-whatis]</span></span>
* <span data-ttu-id="90df5-221">[DevOps en Microsoft: ¿cómo se trabaja con Visual Studio Team Services?][devops-microsoft]</span><span class="sxs-lookup"><span data-stu-id="90df5-221">[DevOps at Microsoft - How we work with Visual Studio Team Services][devops-microsoft]</span></span>
* <span data-ttu-id="90df5-222">[Tutoriales detallados: DevOps con Visual Studio Team Services][devops-with-vsts]</span><span class="sxs-lookup"><span data-stu-id="90df5-222">[Step-by-step Tutorials: DevOps with Visual Studio Team Services][devops-with-vsts]</span></span>
* <span data-ttu-id="90df5-223">[Creación de una canalización de CI/CD para .NET con un proyecto de Azure DevOps][devops-project-create]</span><span class="sxs-lookup"><span data-stu-id="90df5-223">[Create a CI/CD pipeline for .NET with the Azure DevOps project][devops-project-create]</span></span>

<!-- links -->
[ansible]: /azure/ansible/
[application-insights]: /azure/application-insights/app-insights-overview
[app-service-reference-architecture]: /azure/architecture/reference-architectures/app-service-web-app/
[azure-free-account]: https://azure.microsoft.com/free/?WT.mc_id=A261C142F
[arm-templates]: /azure/azure-resource-manager/resource-group-overview#template-deployment
[architecture]: ./media/devops-dotnet-webapp/architecture-devops-dotnet-webapp.png
[availability]: /azure/architecture/checklist/availability
[chef]: /azure/chef/
[design-patterns-availability]: /azure/architecture/patterns/category/availability
[design-patterns-resiliency]: /azure/architecture/patterns/category/resiliency
[design-patterns-scalability]: /azure/architecture/patterns/category/performance-scalability
[design-patterns-security]: /azure/architecture/patterns/category/security
[desired-state-configuration]: /azure/automation/automation-dsc-overview
[devops-microsoft]: /azure/devops/devops-at-microsoft/
[devops-with-vsts]: https://almvm.azurewebsites.net/labs/vsts/
[application-insights]: https://azure.microsoft.com/en-gb/services/application-insights/
[cloud-based-load-testing]: https://visualstudio.microsoft.com/team-services/cloud-load-testing/
[cloud-based-load-testing-on-premises]: /vsts/test/load-test/clt-with-private-machines?view=vsts
[jenkins-on-azure]: /azure/jenkins/
[devops-whatis]: /azure/devops/what-is-devops
[download-keyvault-secrets]: /vsts/pipelines/tasks/deploy/azure-key-vault?view=vsts
[resource-groups]: /azure/azure-resource-manager/resource-group-overview
[resiliency-app-service]: /azure/architecture/checklist/resiliency-per-service#app-service
[resiliency]: /azure/architecture/checklist/resiliency
[scalability]: /azure/architecture/checklist/scalability
[vsts]: /vsts/?view=vsts#pivot=services
[continuous-integration]: /azure/devops/what-is-continuous-integration
[continuous-delivery]: /azure/devops/what-is-continuous-delivery
[web-apps]: /azure/app-service/app-service-web-overview
[terraform]: /azure/terraform/
[vsts-account-create]: /vsts/organizations/accounts/create-account-msa-or-work-student?view=vsts
[vsts-approvals]: /vsts/pipelines/release/approvals/approvals?view=vsts
[devops-project]: https://portal.azure.com/?feature.customportal=false#create/Microsoft.AzureProject
[vsts-deployment-gates]: /vsts/pipelines/release/approvals/gates?view=vsts
[vsts-pricing-calculator]: https://azure.com/e/498aa024454445a8a352e75724f900b1
[vsts-pricing-page]: https://azure.microsoft.com/en-us/pricing/details/visual-studio-team-services/
[vsts-release-variables]: /vsts/pipelines/release/variables?view=vsts&tabs=batch
[vsts-tokenization]: https://marketplace.visualstudio.com/search?term=token&target=VSTS&category=All%20categories&sortBy=Relevance
[azure-key-vault]: /azure/key-vault/key-vault-overview
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[team-foundation-server]: https://visualstudio.microsoft.com/tfs/
[infra-as-code]: https://blogs.msdn.microsoft.com/mvpawardprogram/2018/02/13/infrastructure-as-code/
[service-fabric]:/azure/service-fabric/
[azure-functions]:/azure/azure-functions/
[azure-containers]:https://azure.microsoft.com/en-us/overview/containers/
[compare-vm-hosting]:/azure/app-service/choose-web-site-cloud-service-vm
[app-insights-cd-monitoring]:/azure/application-insights/app-insights-vsts-continuous-monitoring
[azure-region-pair-bcdr]:/azure/best-practices-availability-paired-regions
[devops-project-create]: /vsts/pipelines/apps/cd/azure/azure-devops-project-aspnetcore?view=vsts
[security]: /azure/security/