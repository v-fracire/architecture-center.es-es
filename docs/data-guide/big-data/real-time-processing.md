---
title: Procesamiento en tiempo real
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: 1499fecc20dcbf51472b92bb588b91db0fb58a7f
ms.sourcegitcommit: 19a517a2fb70768b3edb9a7c3c37197baa61d9b5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2018
ms.locfileid: "52295606"
---
# <a name="real-time-processing"></a><span data-ttu-id="a5cb7-102">Procesamiento en tiempo real</span><span class="sxs-lookup"><span data-stu-id="a5cb7-102">Real time processing</span></span>

<span data-ttu-id="a5cb7-103">El procesamiento en tiempo real trabaja con flujos de datos que se capturan en tiempo real y se procesan con una latencia mínima para generar informes en tiempo real (o casi en tiempo real), o respuestas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency to generate real-time (or near-real-time) reports or automated responses.</span></span> <span data-ttu-id="a5cb7-104">Por ejemplo, una solución de supervisión del tráfico en tiempo real podría usar datos de sensores para detectar volúmenes de tráfico elevados.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-104">For example, a real-time traffic monitoring solution might use sensor data to detect high traffic volumes.</span></span> <span data-ttu-id="a5cb7-105">Estos datos se pueden utilizar para actualizar dinámicamente un mapa que muestre los atascos o para poner en marcha automáticamente carriles para vehículos con más de un pasajero u otros sistemas de administración de tráfico.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-105">This data could be used to dynamically update a map to show congestion, or automatically initiate high-occupancy lanes or other traffic management systems.</span></span>

![](./images/real-time-pipeline.png)

<span data-ttu-id="a5cb7-106">El procesamiento en tiempo real se define como el procesamiento de flujos no asociados de datos de entrada, con requisitos de latencia muy cortos para el procesamiento, que se miden en milisegundos o segundos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-106">Real-time processing is defined as the processing of unbounded stream of input data, with very short latency requirements for processing &mdash; measured in milliseconds or seconds.</span></span> <span data-ttu-id="a5cb7-107">Estos datos de entrada normalmente llegan en un formato no estructurado o semiestructurado, como JSON, y tienen los mismos requisitos de procesamiento que el [procesamiento por lotes](./batch-processing.md), pero con tiempos de respuesta más cortos para admitir el consumo en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-107">This incoming data typically arrives in an unstructured or semi-structured format, such as JSON, and has the same processing requirements as [batch processing](./batch-processing.md), but with shorter turnaround times to support real-time consumption.</span></span>

<span data-ttu-id="a5cb7-108">Los datos procesados a menudo se escriben en un almacén de datos analíticos que está optimizado para el análisis y la visualización.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-108">Processed data is often written to an analytical data store, which is optimized for analytics and visualization.</span></span> <span data-ttu-id="a5cb7-109">Los datos procesados también se pueden ingerir directamente en el nivel de análisis y de informes para el análisis, la inteligencia empresarial y la visualización de paneles en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-109">The processed data can also be ingested directly into the analytics and reporting layer for analysis, business intelligence, and real-time dashboard visualization.</span></span>

## <a name="challenges"></a><span data-ttu-id="a5cb7-110">Desafíos</span><span class="sxs-lookup"><span data-stu-id="a5cb7-110">Challenges</span></span>

<span data-ttu-id="a5cb7-111">Uno de los grandes desafíos de las soluciones de procesamiento en tiempo real es ingerir, procesar y almacenar mensajes en tiempo real y en grandes volúmenes.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-111">One of the big challenges of real-time processing solutions is to ingest, process, and store messages in real time, especially at high volumes.</span></span> <span data-ttu-id="a5cb7-112">El procesamiento se debe realizar de tal forma que no bloquee la canalización de ingesta.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-112">Processing must be done in such a way that it does not block the ingestion pipeline.</span></span> <span data-ttu-id="a5cb7-113">El almacén de datos debe admitir la escritura de grandes volúmenes.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-113">The data store must support high-volume writes.</span></span> <span data-ttu-id="a5cb7-114">Otro desafío es poder actuar sobre los datos rápidamente para, por ejemplo, generar alertas en tiempo real o presentar los datos en un panel en tiempo real (o casi en tiempo real).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-114">Another challenge is being able to act on the data quickly, such as generating alerts in real time or presenting the data in a real-time (or near-real-time) dashboard.</span></span>

## <a name="architecture"></a><span data-ttu-id="a5cb7-115">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="a5cb7-115">Architecture</span></span>

<span data-ttu-id="a5cb7-116">Una arquitectura de procesamiento en tiempo real tiene los siguientes componentes lógicos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-116">A real-time processing architecture has the following logical components.</span></span>

- <span data-ttu-id="a5cb7-117">**Ingesta de mensajes en tiempo real**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-117">**Real-time message ingestion.**</span></span> <span data-ttu-id="a5cb7-118">La arquitectura debe incluir una manera de capturar y almacenar los mensajes en tiempo real para que los consuma un consumidor de procesamiento de flujos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-118">The architecture must include a way to capture and store real-time messages to be consumed by a stream processing consumer.</span></span> <span data-ttu-id="a5cb7-119">En los casos más sencillos, este servicio se puede implementar como un almacén de datos simple en el que los mensajes nuevos se depositan en una carpeta.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-119">In simple cases, this service could be implemented as a simple data store in which new messages are deposited in a folder.</span></span> <span data-ttu-id="a5cb7-120">Pero, a menudo, la solución requiere un agente de mensajes, como Azure Event Hubs, que actúa como un búfer para los mensajes.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-120">But often the solution requires a message broker, such as Azure Event Hubs, that acts as a buffer for the messages.</span></span> <span data-ttu-id="a5cb7-121">El agente de mensajes debe admitir el procesamiento de escalabilidad horizontal y la entrega confiable.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-121">The message broker should support scale-out processing and reliable delivery.</span></span>

- <span data-ttu-id="a5cb7-122">**Procesamiento de flujos**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-122">**Stream processing.**</span></span> <span data-ttu-id="a5cb7-123">Una vez capturados los mensajes en tiempo real, la solución debe procesarlos filtrando, agregando o bien preparando los datos para su análisis.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-123">After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span>

- <span data-ttu-id="a5cb7-124">**Almacén de datos analíticos.**</span><span class="sxs-lookup"><span data-stu-id="a5cb7-124">**Analytical data store.**</span></span> <span data-ttu-id="a5cb7-125">Muchas soluciones de macrodatos están diseñadas para preparar los datos para el análisis y luego servir los datos procesados en un formato estructurado que se puede consultar mediante herramientas de análisis.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-125">Many big data solutions are designed to prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> 

- <span data-ttu-id="a5cb7-126">**Análisis e informes.**</span><span class="sxs-lookup"><span data-stu-id="a5cb7-126">**Analysis and reporting.**</span></span> <span data-ttu-id="a5cb7-127">El objetivo de la mayoría de soluciones de macrodatos consiste en proporcionar información sobre los datos a través de análisis e informes.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-127">The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> 

## <a name="technology-choices"></a><span data-ttu-id="a5cb7-128">Opciones de tecnología</span><span class="sxs-lookup"><span data-stu-id="a5cb7-128">Technology choices</span></span>

<span data-ttu-id="a5cb7-129">Se recomiendan las siguientes tecnologías para soluciones de procesamiento en tiempo real en Azure.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-129">The following technologies are recommended choices for real-time processing solutions in Azure.</span></span>

### <a name="real-time-message-ingestion"></a><span data-ttu-id="a5cb7-130">Ingesta de mensajes en tiempo real</span><span class="sxs-lookup"><span data-stu-id="a5cb7-130">Real-time message ingestion</span></span>

- <span data-ttu-id="a5cb7-131">**Azure Event Hubs**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-131">**Azure Event Hubs**.</span></span> <span data-ttu-id="a5cb7-132">Azure Event Hubs es una solución de puesta en cola de mensajes para la ingesta de millones de mensajes de eventos por segundo.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-132">Azure Event Hubs is a message queuing solution for ingesting millions of event messages per second.</span></span> <span data-ttu-id="a5cb7-133">Varios consumidores en paralelo pueden procesar los datos de eventos capturados.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-133">The captured event data can be processed by multiple consumers in parallel.</span></span>
- <span data-ttu-id="a5cb7-134">**Azure IoT Hub**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-134">**Azure IoT Hub**.</span></span> <span data-ttu-id="a5cb7-135">Azure IoT Hub proporciona una comunicación bidireccional entre los dispositivos conectados a Internet y una cola de mensajes escalable que puede controlar simultáneamente millones de dispositivos conectados.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-135">Azure IoT Hub provides bi-directional communication between Internet-connected devices, and a scalable message queue that can handle millions of simultaneously connected devices.</span></span>
- <span data-ttu-id="a5cb7-136">**Apache Kafka**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-136">**Apache Kafka**.</span></span> <span data-ttu-id="a5cb7-137">Kafka es una aplicación de código abierto de puesta en cola de mensajes y procesamiento de flujos que se puede escalar para manejar millones de mensajes por segundo procedentes de varios productores de mensajes y enrutarlos hacia varios consumidores.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-137">Kafka is an open source message queuing and stream processing application that can scale to handle millions of messages per second from multiple message producers, and route them to multiple consumers.</span></span> <span data-ttu-id="a5cb7-138">Kafka está disponible en Azure como un tipo de clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-138">Kafka is available in Azure as an HDInsight cluster type.</span></span>

<span data-ttu-id="a5cb7-139">Para más información, consulte [Ingesta de mensajes en tiempo real](../technology-choices/real-time-ingestion.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-139">For more information, see [Real-time message ingestion](../technology-choices/real-time-ingestion.md).</span></span>

### <a name="data-storage"></a><span data-ttu-id="a5cb7-140">Almacenamiento de datos</span><span class="sxs-lookup"><span data-stu-id="a5cb7-140">Data storage</span></span>

- <span data-ttu-id="a5cb7-141">**Contenedores de blobs de Azure Storage** o **Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-141">**Azure Storage Blob Containers** or **Azure Data Lake Store**.</span></span> <span data-ttu-id="a5cb7-142">Los datos de entrada en tiempo real normalmente se capturan en un agente de mensajes (consulte más arriba), pero en algunos escenarios puede que tenga sentido supervisar una carpeta para los archivos nuevos y procesarlos a medida que se crean o se actualizan.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-142">Incoming real-time data is usually captured in a message broker (see above), but in some scenarios, it can make sense to monitor a folder for new files and process them as they are created or updated.</span></span> <span data-ttu-id="a5cb7-143">Además, muchas soluciones de procesamiento en tiempo real combinan los datos de streaming con datos de referencia estáticos que se pueden almacenar en un almacén de archivos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-143">Additionally, many real-time processing solutions combine streaming data with static reference data, which can be stored in a file store.</span></span> <span data-ttu-id="a5cb7-144">Por último, el almacenamiento de archivos se puede utilizar como destino de salida de datos capturados en tiempo real para el archivado o el procesamiento adicional por lotes en una [arquitectura lambda](../big-data/index.md#lambda-architecture).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-144">Finally, file storage may be used as an output destination for captured real-time data for archiving, or for further batch processing in a [lambda architecture](../big-data/index.md#lambda-architecture).</span></span>

<span data-ttu-id="a5cb7-145">Para más información, consulte [Almacenamiento de datos](../technology-choices/data-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-145">For more information, see [Data storage](../technology-choices/data-storage.md).</span></span>

### <a name="stream-processing"></a><span data-ttu-id="a5cb7-146">Procesamiento de flujos</span><span class="sxs-lookup"><span data-stu-id="a5cb7-146">Stream processing</span></span>

- <span data-ttu-id="a5cb7-147">**Azure Stream Analytics**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-147">**Azure Stream Analytics**.</span></span> <span data-ttu-id="a5cb7-148">Azure Stream Analytics puede ejecutar consultas perpetuas en un flujo no asociado de datos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-148">Azure Stream Analytics can run perpetual queries against an unbounded stream of data.</span></span> <span data-ttu-id="a5cb7-149">Estas consultas consumen flujos de datos procedentes del almacenamiento o de los agentes de mensajes, filtran y agregan los datos basados en períodos temporales, y escriben los resultados en receptores como, por ejemplo, soluciones de almacenamiento, bases de datos o directamente en informes de Power BI.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-149">These queries consume streams of data from storage or message brokers, filter and aggregate the data based on temporal windows, and write the results to sinks such as storage, databases, or directly to reports in Power BI.</span></span> <span data-ttu-id="a5cb7-150">Stream Analytics usa un lenguaje de consulta basado en SQL que admite construcciones temporales y geoespaciales, y que se puede ampliar mediante JavaScript.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-150">Stream Analytics uses a SQL-based query language that supports temporal and geospatial constructs, and can be extended using JavaScript.</span></span>
- <span data-ttu-id="a5cb7-151">**Storm**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-151">**Storm**.</span></span> <span data-ttu-id="a5cb7-152">Apache Storm es una plataforma de código abierto para el procesamiento de flujos que usa una topología de spouts y bolts para consumir, procesar y enviar los resultados de orígenes de datos de streaming en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-152">Apache Storm is an open source framework for stream processing that uses a topology of spouts and bolts to consume, process, and output the results from real-time streaming data sources.</span></span> <span data-ttu-id="a5cb7-153">Puede aprovisionar Storm en un clúster de Azure HDInsight e implementar una topología en Java o C#.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-153">You can provision Storm in an Azure HDInsight cluster, and implement a topology in Java or C#.</span></span>
- <span data-ttu-id="a5cb7-154">**Spark Streaming**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-154">**Spark Streaming**.</span></span> <span data-ttu-id="a5cb7-155">Apache Spark es una plataforma distribuida de código abierto para el procesamiento de datos generales.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-155">Apache Spark is an open source distributed platform for general data processing.</span></span> <span data-ttu-id="a5cb7-156">Spark proporciona la API de Spark Streaming, en la que puede escribir código en cualquier lenguaje de Spark compatible, incluidos Java, Scala y Python.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-156">Spark provides the Spark Streaming API, in which you can write code in any supported Spark language, including Java, Scala, and Python.</span></span> <span data-ttu-id="a5cb7-157">Spark 2.0 introdujo la API de Spark Structured Streaming, que proporciona un modelo de programación más sencillo y coherente.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-157">Spark 2.0 introduced the Spark Structured Streaming API, which provides a simpler and more consistent programming model.</span></span> <span data-ttu-id="a5cb7-158">Spark 2.0 está disponible en un clúster de Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-158">Spark 2.0 is available in an Azure HDInsight cluster.</span></span>

<span data-ttu-id="a5cb7-159">Para más información, consulte [Procesamiento de flujos](../technology-choices/stream-processing.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-159">For more information, see [Stream processing](../technology-choices/stream-processing.md).</span></span>

### <a name="analytical-data-store"></a><span data-ttu-id="a5cb7-160">Almacén de datos analíticos</span><span class="sxs-lookup"><span data-stu-id="a5cb7-160">Analytical data store</span></span>

- <span data-ttu-id="a5cb7-161">**SQL Data Warehouse**, **HBase**, **Spark** o **Hive**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-161">**SQL Data Warehouse**, **HBase**, **Spark**, or **Hive**.</span></span> <span data-ttu-id="a5cb7-162">Los datos procesados en tiempo real se pueden almacenar en una base de datos relacional como Azure SQL Data Warehouse, un almacén NoSQL como Hbase, o como archivos en un almacenamiento distribuido en el que se puedan definir y consultar las tablas de Spark o Hive.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-162">Processed real-time data can be stored in a relational database such Azure SQL Data Warehouse, a NoSQL store such as HBase, or as files in distributed storage over which Spark or Hive tables can be defined and queried.</span></span>

<span data-ttu-id="a5cb7-163">Para más información, consulte [Almacenes de datos analíticos](../technology-choices/analytical-data-stores.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-163">For more information, see [Analytical data stores](../technology-choices/analytical-data-stores.md).</span></span>

### <a name="analytics-and-reporting"></a><span data-ttu-id="a5cb7-164">Análisis e informes</span><span class="sxs-lookup"><span data-stu-id="a5cb7-164">Analytics and reporting</span></span>

- <span data-ttu-id="a5cb7-165">**Azure Analysis Services**, **Power BI**, y **Microsoft Excel**.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-165">**Azure Analysis Services**, **Power BI**, and **Microsoft Excel**.</span></span> <span data-ttu-id="a5cb7-166">Los datos procesados en tiempo real que se almacenan en un almacén de datos analíticos se pueden utilizar para realizar informes y análisis históricos de la misma manera que los datos procesados por lotes.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-166">Processed real-time data that is stored in an analytical data store can be used for historical reporting and analysis in the same way as batch processed data.</span></span> <span data-ttu-id="a5cb7-167">Además, Power BI se puede usar para publicar informes y visualizaciones en tiempo real (o casi en tiempo real) desde orígenes de datos analíticos en los que la latencia es lo suficientemente baja o, en algunos casos, directamente desde la salida del procesamiento de flujos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-167">Additionally, Power BI can be used to publish real-time (or near-real-time) reports and visualizations from analytical data sources where latency is sufficiently low, or in some cases directly from the stream processing output.</span></span>

<span data-ttu-id="a5cb7-168">Para más información, consulte [Análisis e informes](../technology-choices/analysis-visualizations-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="a5cb7-168">For more information, see [Analytics and reporting](../technology-choices/analysis-visualizations-reporting.md).</span></span>

<span data-ttu-id="a5cb7-169">En una solución exclusivamente en tiempo real, la mayor parte de la orquestación del procesamiento se administra mediante los componentes de ingesta de mensajes y procesamiento de flujos.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-169">In a purely real-time solution, most of the processing orchestration is managed by the message ingestion and stream processing components.</span></span> <span data-ttu-id="a5cb7-170">Sin embargo, en una arquitectura lambda que combina el procesamiento por lotes y el procesamiento en tiempo real, puede que deba usar una plataforma de orquestación como Azure Data Factory o Apache Oozie y Sqoop para administrar flujos de trabajo por lotes para los datos capturados en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="a5cb7-170">However, in a lambda architecture that combines batch processing and real-time processing, you may need to use an orchestration framework such as Azure Data Factory or Apache Oozie and Sqoop to manage batch workflows for captured real-time data.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a5cb7-171">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="a5cb7-171">Next steps</span></span>

<span data-ttu-id="a5cb7-172">La siguiente arquitectura de referencia muestra una canalización de procesamiento de flujos de datos de un extremo a otro:</span><span class="sxs-lookup"><span data-stu-id="a5cb7-172">The following reference architecture shows an end-to-end stream processing pipeline:</span></span>

- [<span data-ttu-id="a5cb7-173">Procesamiento de flujos de datos con Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="a5cb7-173">Stream processing with Azure Stream Analytics</span></span>](../../reference-architectures/data/stream-processing-stream-analytics.md)